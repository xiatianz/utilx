import{r as m,e as T,p as v,q as w,c as a,a as e,y as n,x as J,h as W,v as S,t as i,E as I,F as N,k as j,o as l,n as C,U as M}from"./DEsTSaKd.js";import{c as O}from"./3IwUeceH.js";import{t as D}from"./B-fbZyPE.js";import{_ as P}from"./C71nLTaj.js";import"./D4g1_bQ7.js";import"./B03HrVNV.js";import"./4T928kbW.js";import"./wERbHxDK.js";import"./DESX2TF9.js";import"./b4Up8kzW.js";import"./DbWJs76d.js";import"./BuCd20m7.js";import"./C-LEKrTT.js";import"./Bluep4Ee.js";const F={class:"max-w-8xl mx-auto"},$={class:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8"},B={class:"space-y-4"},L={class:"text-sm text-muted-foreground"},V={class:"space-y-4"},R={class:"flex items-center justify-between"},z={class:"flex items-center gap-2"},A=["disabled"],H={class:"h-48 border border-border rounded-lg bg-muted/50 overflow-auto"},E={key:0,class:"p-4 text-sm"},U={key:1,class:"flex items-center justify-center h-full text-muted-foreground"},G={class:"flex flex-wrap gap-4 mb-8"},K=["disabled"],Q=["disabled"],q={key:0,class:"border border-border rounded-lg p-6 mb-8"},X={class:"space-y-6"},Y={class:"bg-muted/50 rounded-lg p-4 text-sm space-y-2"},Z={class:"ml-2 text-primary"},ee={class:"ml-2 text-primary"},se={class:"bg-muted/50 rounded-lg p-4 text-sm space-y-2"},te={key:0},oe={class:"ml-2"},le={key:1},ae={class:"ml-2"},ie={key:2},de={class:"ml-2"},re={key:3},ne={class:"ml-2"},ue={key:4},me={class:"ml-2"},pe={key:5},ce={class:"ml-2"},ve={key:6},ye={class:"ml-2"},ge={key:0},xe={key:0,class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},fe={key:1,class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},be={class:"font-medium"},_e={class:"text-sm"},he={class:"space-y-4"},ke={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"},Be={__name:"jwt-decode",setup(Te){O.find(t=>t.id==="crypto");const u=m(""),o=m({header:null,payload:null}),r=m(null),p=m(null),c=m("复制"),y=T(()=>D.filter(t=>t.category==="crypto"&&t.id!=="jwt-decode").slice(0,4)),g=t=>t>=1e4?`${(t/1e4).toFixed(1)}w+`:t>=1e3?`${(t/1e3).toFixed(1)}k+`:`${t}`,x=()=>{try{const t=u.value.split(".");if(t.length!==3){alert("无效的JWT格式，应该包含3个部分");return}const s=JSON.parse(atob(t[0].replace(/-/g,"+").replace(/_/g,"/"))),d=JSON.parse(atob(t[1].replace(/-/g,"+").replace(/_/g,"/")));o.value={header:s,payload:d},f(d)}catch(t){alert("JWT解码失败："+t.message),o.value={header:null,payload:null},r.value=null}},f=t=>{t.exp?Math.floor(Date.now()/1e3)>t.exp?r.value={expired:!0,message:`已过期 (过期时间: ${new Date(t.exp*1e3).toLocaleString()})`}:r.value={expired:!1,message:`有效 (过期时间: ${new Date(t.exp*1e3).toLocaleString()})`}:r.value={expired:!1,message:"无过期时间"}},b=()=>{const s=u.value.split(".")[2]||"N/A";p.value={signature:s,message:"出于安全考虑，签名验证需要在服务端进行。此JWT签名为："+s},alert(p.value.message)},_=async t=>{try{await navigator.clipboard.writeText(t),c.value="已复制",setTimeout(()=>{c.value="复制"},2e3)}catch(s){console.error("复制失败:",s)}},h=()=>{u.value="",o.value={header:null,payload:null},r.value=null,p.value=null},k=t=>{const s=`/tools/${t.id}/`;M(s),v(t.id)};return v("jwt-decode"),w({title:"JWT解码器 - 在线JWT Token解析工具",description:"免费在线JWT解码工具，快速解析JWT Token的Header和Payload，验证过期时间。",keywords:["JWT","JSON Web Token","解码","解析","Token","认证"]}),(t,s)=>(l(),a("div",F,[s[20]||(s[20]=e("div",{class:"mt-4 mb-8"},[e("h1",{class:"text-3xl font-bold mb-3"},"JWT解码器"),e("p",{class:"text-muted-foreground max-w-3xl"},"JWT（JSON Web Token）在线解码和验证工具，解码Header和Payload，验证过期时间。")],-1)),e("div",$,[e("div",B,[e("div",{class:"flex items-center justify-between"},[s[2]||(s[2]=e("label",{class:"text-lg font-semibold"},"JWT Token",-1)),e("div",{class:"flex items-center gap-2"},[e("button",{onClick:h,class:"px-3 py-1 text-sm text-muted-foreground hover:text-foreground transition-colors"}," 清空 ")])]),W(e("textarea",{"onUpdate:modelValue":s[0]||(s[0]=d=>u.value=d),placeholder:"请输入JWT Token...",class:"w-full h-48 p-4 border border-border rounded-lg bg-background resize-none focus:outline-none focus:ring-2 focus:ring-primary font-mono text-sm"},null,512),[[S,u.value]]),e("div",L," Token长度："+i(u.value.length),1)]),e("div",V,[e("div",R,[s[3]||(s[3]=e("label",{class:"text-lg font-semibold"},"解码结果",-1)),e("div",z,[e("button",{onClick:s[1]||(s[1]=d=>_(JSON.stringify(o.value,null,2))),disabled:!o.value.header,class:"px-3 py-1 text-sm bg-primary/10 text-primary rounded-md hover:bg-primary/20 transition-colors disabled:opacity-50"},i(c.value),9,A)])]),e("div",H,[o.value.header?(l(),a("pre",E,i(JSON.stringify(o.value,null,2)),1)):(l(),a("div",U," 解码结果将显示在这里... "))])])]),e("div",G,[e("button",{onClick:x,disabled:!u.value,class:"px-6 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed"}," 解码JWT ",8,K),e("button",{onClick:b,disabled:!o.value.header,class:"px-6 py-2 bg-secondary text-secondary-foreground rounded-lg hover:bg-secondary/80 transition-colors disabled:opacity-50"}," 验证签名 ",8,Q)]),o.value.header?(l(),a("div",q,[s[18]||(s[18]=e("h3",{class:"text-lg font-semibold mb-4"},"解析结果",-1)),e("div",X,[e("div",null,[s[6]||(s[6]=e("h4",{class:"font-medium text-primary mb-2"},"Header",-1)),e("div",Y,[e("div",null,[s[4]||(s[4]=e("span",{class:"font-medium"},"算法 (alg):",-1)),e("span",Z,i(o.value.header.alg||"N/A"),1)]),e("div",null,[s[5]||(s[5]=e("span",{class:"font-medium"},"类型 (typ):",-1)),e("span",ee,i(o.value.header.typ||"N/A"),1)])])]),e("div",null,[s[14]||(s[14]=e("h4",{class:"font-medium text-primary mb-2"},"Payload",-1)),e("div",se,[o.value.payload.iss?(l(),a("div",te,[s[7]||(s[7]=e("span",{class:"font-medium"},"签发者 (iss):",-1)),e("span",oe,i(o.value.payload.iss),1)])):n("",!0),o.value.payload.sub?(l(),a("div",le,[s[8]||(s[8]=e("span",{class:"font-medium"},"主题 (sub):",-1)),e("span",ae,i(o.value.payload.sub),1)])):n("",!0),o.value.payload.aud?(l(),a("div",ie,[s[9]||(s[9]=e("span",{class:"font-medium"},"接收方 (aud):",-1)),e("span",de,i(o.value.payload.aud),1)])):n("",!0),o.value.payload.exp?(l(),a("div",re,[s[10]||(s[10]=e("span",{class:"font-medium"},"过期时间 (exp):",-1)),e("span",ne,i(new Date(o.value.payload.exp*1e3).toLocaleString()),1)])):n("",!0),o.value.payload.nbf?(l(),a("div",ue,[s[11]||(s[11]=e("span",{class:"font-medium"},"生效时间 (nbf):",-1)),e("span",me,i(new Date(o.value.payload.nbf*1e3).toLocaleString()),1)])):n("",!0),o.value.payload.iat?(l(),a("div",pe,[s[12]||(s[12]=e("span",{class:"font-medium"},"签发时间 (iat):",-1)),e("span",ce,i(new Date(o.value.payload.iat*1e3).toLocaleString()),1)])):n("",!0),o.value.payload.jti?(l(),a("div",ve,[s[13]||(s[13]=e("span",{class:"font-medium"},"JWT ID (jti):",-1)),e("span",ye,i(o.value.payload.jti),1)])):n("",!0)])]),r.value?(l(),a("div",ge,[s[17]||(s[17]=e("h4",{class:"font-medium text-primary mb-2"},"过期状态",-1)),e("div",{class:I(["flex items-center gap-3",r.value.expired?"text-red-600":"text-green-600"])},[r.value.expired?(l(),a("svg",xe,[...s[15]||(s[15]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)])])):(l(),a("svg",fe,[...s[16]||(s[16]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"},null,-1)])])),e("div",null,[e("div",be,i(r.value.expired?"已过期":"有效"),1),e("div",_e,i(r.value.message),1)])],2)])):n("",!0)])])):n("",!0),s[21]||(s[21]=J('<div class="border border-border rounded-lg p-6 mb-8"><h3 class="text-lg font-semibold mb-4">关于JWT</h3><div class="space-y-4"><div><h4 class="font-medium text-primary mb-2">什么是JWT？</h4><p class="text-sm text-muted-foreground"> JWT（JSON Web Token）是一种开放标准（RFC 7519），用于在各方之间安全地传输信息作为JSON对象。 它可以被验证和信任，因为它是数字签名的。 </p></div><div><h4 class="font-medium text-primary mb-2">JWT结构</h4><div class="bg-muted/50 rounded-lg p-4 font-mono text-sm"><div class="mb-2">Header.Payload.Signature</div><div class="text-xs text-muted-foreground"> 例如：eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c </div></div></div><div><h4 class="font-medium text-primary mb-2">常见用途</h4><ul class="text-sm space-y-1"><li>• 身份认证：用户登录后，后续请求携带JWT进行身份验证</li><li>• 信息交换：安全地在各方之间传递信息</li><li>• 授权：传递用户的权限信息</li><li>• API安全：保护API端点免受未授权访问</li></ul></div><div><h4 class="font-medium text-primary mb-2">安全注意事项</h4><ul class="text-sm space-y-1 text-amber-600"><li>• 敏感数据不要放在Payload中（除非加密）</li><li>• 使用强密钥（至少256位）</li><li>• 设置合理的过期时间</li><li>• 在HTTPS环境下传输</li><li>• 定期轮换签名密钥</li></ul></div></div></div>',1)),e("div",he,[s[19]||(s[19]=e("h3",{class:"text-lg font-semibold"},"相关工具",-1)),e("div",ke,[(l(!0),a(N,null,j(y.value,d=>(l(),C(P,{key:d.id,tool:d,title:d.name,description:d.description,category:d.category,"usage-count":g(d.viewCount),icon:d.icon,onSelect:k},null,8,["tool","title","description","category","usage-count","icon"]))),128))])])]))}};export{Be as default};
