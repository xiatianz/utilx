{"version":3,"file":"image-merge-Da_1ttq1.js","sources":["../../../../src/pages/tools/image-merge.vue"],"sourcesContent":["<template>\n  <div class=\"max-w-8xl mx-auto\">\n    <!-- Hero 头部区 -->\n    <div class=\"mb-8\">\n      <h1 class=\"text-3xl font-bold text-foreground mb-3\">图片合并工具 - 在线合并多张图片</h1>\n      <p class=\"text-muted-foreground\">专业的在线图片合并工具，支持水平、垂直、网格等多种布局方式，可自定义间距和背景颜色，轻松将多张图片合并成一张。适用于设计师、开发者和内容创作者。</p>\n    </div>\n\n    <!-- 工具交互区 -->\n    <div class=\"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-12\">\n      <!-- 左侧控制面板 -->\n      <div class=\"lg:col-span-1 space-y-6\">\n        <!-- 上传区域 -->\n        <div class=\"bg-card border border-border rounded-lg p-6\">\n          <h2 class=\"text-lg font-semibold mb-4 flex items-center text-foreground\">\n            <Upload class=\"h-5 w-5 mr-2 text-primary\" />\n            上传图片\n          </h2>\n\n          <div\n            class=\"border-2 border-dashed border-border rounded-lg p-6 text-center hover:border-primary transition-colors cursor-pointer\"\n            @click=\"triggerFileInput\"\n            @dragover.prevent=\"onDragOver\"\n            @dragleave.prevent=\"onDragLeave\"\n            @drop.prevent=\"onDrop\"\n          >\n            <input\n              ref=\"fileInput\"\n              type=\"file\"\n              class=\"hidden\"\n              accept=\"image/*\"\n              @change=\"onFileSelect\"\n              multiple\n            />\n\n            <div v-if=\"!images.length\" class=\"space-y-3\">\n              <Layers class=\"h-12 w-12 text-muted-foreground mx-auto\" />\n              <div>\n                <p class=\"text-muted-foreground\">点击或拖拽图片到这里</p>\n                <p class=\"text-sm text-muted-foreground/70 mt-1\">支持 JPG、PNG、WebP 等格式</p>\n                <p class=\"text-sm text-primary mt-1\">至少需要 2 张图片</p>\n              </div>\n            </div>\n\n            <div v-else class=\"space-y-2\">\n              <CheckCircle class=\"h-12 w-12 text-green-500 mx-auto\" />\n              <p class=\"text-green-500 font-medium\">{{ images.length }} 张图片已上传</p>\n              <button\n                @click.stop=\"clearImages\"\n                class=\"text-sm text-destructive hover:text-destructive/80\"\n              >\n                清除所有\n              </button>\n            </div>\n          </div>\n        </div>\n\n        <!-- 合并设置 -->\n        <div class=\"bg-card border border-border rounded-lg p-6\">\n          <h2 class=\"text-lg font-semibold mb-4 flex items-center text-foreground\">\n            <Settings class=\"h-5 w-5 mr-2 text-primary\" />\n            合并设置\n          </h2>\n\n          <div class=\"space-y-4\">\n            <!-- 布局方式 -->\n            <div>\n              <label class=\"block text-sm font-medium text-foreground mb-2\">布局方式</label>\n              <select\n                v-model=\"layoutMode\"\n                class=\"w-full px-3 py-2 bg-background border border-border rounded-md focus:outline-none focus:ring-2 focus:ring-primary text-foreground\"\n              >\n                <option value=\"horizontal\">水平排列</option>\n                <option value=\"vertical\">垂直排列</option>\n                <option value=\"grid\">网格布局</option>\n                <option value=\"custom\">自定义排列</option>\n              </select>\n            </div>\n\n            <!-- 网格列数 -->\n            <div v-if=\"layoutMode === 'grid'\">\n              <label class=\"block text-sm font-medium text-foreground mb-2\">\n                网格列数: {{ gridCols }}\n              </label>\n              <input\n                v-model.number=\"gridCols\"\n                type=\"range\"\n                min=\"2\"\n                max=\"5\"\n                class=\"w-full\"\n              />\n            </div>\n\n            <!-- 图片间距 -->\n            <div>\n              <label class=\"block text-sm font-medium text-foreground mb-2\">\n                图片间距: {{ spacing }}px\n              </label>\n              <input\n                v-model.number=\"spacing\"\n                type=\"range\"\n                min=\"0\"\n                max=\"50\"\n                class=\"w-full\"\n              />\n            </div>\n\n            <!-- 背景颜色 -->\n            <div>\n              <label class=\"block text-sm font-medium text-foreground mb-2\">背景颜色</label>\n              <div class=\"flex space-x-2\">\n                <input\n                  v-model=\"backgroundColor\"\n                  type=\"color\"\n                  class=\"h-10 w-20 border border-border rounded-md cursor-pointer bg-background\"\n                />\n                <input\n                  v-model=\"backgroundColor\"\n                  type=\"text\"\n                  class=\"flex-1 px-3 py-2 bg-background border border-border rounded-md focus:outline-none focus:ring-2 focus:ring-primary text-foreground\"\n                  placeholder=\"#FFFFFF\"\n                />\n              </div>\n            </div>\n\n            <!-- 对齐方式 -->\n            <div v-if=\"layoutMode === 'horizontal' || layoutMode === 'vertical'\">\n              <label class=\"block text-sm font-medium text-foreground mb-2\">对齐方式</label>\n              <div class=\"grid grid-cols-3 gap-2\">\n                <button\n                  v-for=\"align in alignOptions\"\n                  :key=\"align.value\"\n                  @click=\"alignment = align.value\"\n                  :class=\"[\n                    'px-3 py-2 text-sm rounded-md border transition-colors',\n                    alignment === align.value\n                      ? 'bg-primary/10 border-primary text-primary'\n                      : 'bg-muted border-border text-foreground hover:bg-muted/80'\n                  ]\"\n                >\n                  {{ align.label }}\n                </button>\n              </div>\n            </div>\n\n            <!-- 输出尺寸 -->\n            <div>\n              <label class=\"block text-sm font-medium text-foreground mb-2\">输出尺寸</label>\n              <div class=\"space-y-2\">\n                <label class=\"flex items-center\">\n                  <input\n                    v-model=\"sizeMode\"\n                    type=\"radio\"\n                    value=\"auto\"\n                    class=\"mr-2 rounded border-border text-primary focus:ring-primary bg-background\"\n                  />\n                  <span class=\"text-sm text-foreground\">自动计算</span>\n                </label>\n                <label class=\"flex items-center\">\n                  <input\n                    v-model=\"sizeMode\"\n                    type=\"radio\"\n                    value=\"custom\"\n                    class=\"mr-2 rounded border-border text-primary focus:ring-primary bg-background\"\n                  />\n                  <span class=\"text-sm text-foreground\">自定义尺寸</span>\n                </label>\n              </div>\n\n              <div v-if=\"sizeMode === 'custom'\" class=\"mt-3 grid grid-cols-2 gap-2\">\n                <div>\n                  <label class=\"block text-xs text-muted-foreground mb-1\">宽度 (px)</label>\n                  <input\n                    v-model.number=\"outputWidth\"\n                    type=\"number\"\n                    min=\"100\"\n                    class=\"w-full px-3 py-2 bg-background border border-border rounded-md focus:outline-none focus:ring-2 focus:ring-primary text-foreground\"\n                    placeholder=\"宽度\"\n                  />\n                </div>\n                <div>\n                  <label class=\"block text-xs text-muted-foreground mb-1\">高度 (px)</label>\n                  <input\n                    v-model.number=\"outputHeight\"\n                    type=\"number\"\n                    min=\"100\"\n                    class=\"w-full px-3 py-2 bg-background border border-border rounded-md focus:outline-none focus:ring-2 focus:ring-primary text-foreground\"\n                    placeholder=\"高度\"\n                  />\n                </div>\n              </div>\n            </div>\n\n            <!-- 输出格式 -->\n            <div>\n              <label class=\"block text-sm font-medium text-foreground mb-2\">输出格式</label>\n              <select\n                v-model=\"outputFormat\"\n                class=\"w-full px-3 py-2 bg-background border border-border rounded-md focus:outline-none focus:ring-2 focus:ring-primary text-foreground\"\n              >\n                <option value=\"png\">PNG</option>\n                <option value=\"jpeg\">JPEG</option>\n                <option value=\"webp\">WebP</option>\n              </select>\n            </div>\n\n            <!-- JPEG质量 -->\n            <div v-if=\"outputFormat === 'jpeg'\">\n              <label class=\"block text-sm font-medium text-foreground mb-2\">\n                图片质量: {{ quality }}%\n              </label>\n              <input\n                v-model=\"quality\"\n                type=\"range\"\n                min=\"10\"\n                max=\"100\"\n                step=\"5\"\n                class=\"w-full\"\n              />\n            </div>\n          </div>\n        </div>\n\n        <!-- 操作按钮 -->\n        <div class=\"bg-card border border-border rounded-lg p-6\">\n          <button\n            @click=\"mergeImages\"\n            :disabled=\"images.length < 2 || processing\"\n            class=\"w-full bg-primary text-primary-foreground py-3 px-4 rounded-md hover:bg-primary/90 disabled:bg-muted disabled:cursor-not-allowed transition-colors flex items-center justify-center\"\n          >\n            <Loader2 v-if=\"processing\" class=\"h-5 w-5 mr-2 animate-spin\" />\n            <Layers v-else class=\"h-5 w-5 mr-2\" />\n            {{ processing ? '处理中...' : '合并图片' }}\n          </button>\n\n          <button\n            v-if=\"mergedImage\"\n            @click=\"downloadImage\"\n            class=\"w-full mt-3 bg-secondary text-secondary-foreground py-3 px-4 rounded-md hover:bg-secondary/90 transition-colors flex items-center justify-center\"\n          >\n            <Download class=\"h-5 w-5 mr-2\" />\n            下载合并结果\n          </button>\n        </div>\n      </div>\n\n      <!-- 右侧预览区域 -->\n      <div class=\"lg:col-span-2 space-y-6\">\n        <!-- 图片列表 -->\n        <div v-if=\"images.length > 0\" class=\"bg-card border border-border rounded-lg p-6\">\n          <div class=\"flex items-center justify-between mb-4\">\n            <h3 class=\"text-lg font-semibold flex items-center text-foreground\">\n              <Images class=\"h-5 w-5 mr-2 text-primary\" />\n              图片列表 ({{ images.length }})\n            </h3>\n            <div class=\"flex space-x-2\">\n              <button\n                @click=\"reorderImages('up')\"\n                :disabled=\"selectedIndex === null || selectedIndex === 0\"\n                class=\"p-2 text-muted-foreground hover:bg-muted rounded-md disabled:opacity-50\"\n              >\n                <ArrowUp class=\"h-4 w-4\" />\n              </button>\n              <button\n                @click=\"reorderImages('down')\"\n                :disabled=\"selectedIndex === null || selectedIndex === images.length - 1\"\n                class=\"p-2 text-muted-foreground hover:bg-muted rounded-md disabled:opacity-50\"\n              >\n                <ArrowDown class=\"h-4 w-4\" />\n              </button>\n              <button\n                @click=\"removeImage\"\n                :disabled=\"selectedIndex === null\"\n                class=\"p-2 text-destructive hover:bg-destructive/10 rounded-md disabled:opacity-50\"\n              >\n                <Trash2 class=\"h-4 w-4\" />\n              </button>\n            </div>\n          </div>\n\n          <div class=\"grid grid-cols-2 sm:grid-cols-3 gap-4\">\n            <div\n              v-for=\"(image, index) in images\"\n              :key=\"index\"\n              class=\"relative group cursor-pointer\"\n              @click=\"selectImage(index)\"\n            >\n              <div class=\"relative\">\n                <img\n                  :src=\"image.preview\"\n                  :alt=\"image.file.name\"\n                  class=\"w-full h-32 object-cover rounded-lg border-2 transition-all\"\n                  :class=\"[\n                    selectedIndex === index\n                      ? 'border-primary ring-2 ring-primary/20'\n                      : 'border-border group-hover:border-muted-foreground'\n                  ]\"\n                />\n\n                <!-- 序号 -->\n                <div class=\"absolute top-2 left-2 bg-background/80 backdrop-blur text-foreground text-xs px-2 py-1 rounded\">\n                  {{ index + 1 }}\n                </div>\n\n                <!-- 删除按钮 -->\n                <button\n                  @click.stop=\"removeImageAt(index)\"\n                  class=\"absolute top-2 right-2 p-1 bg-destructive text-destructive-foreground rounded-full opacity-0 group-hover:opacity-100 transition-opacity\"\n                >\n                  <X class=\"h-3 w-3\" />\n                </button>\n              </div>\n\n              <!-- 图片信息 -->\n              <div class=\"mt-2\">\n                <div class=\"text-xs text-muted-foreground truncate\">{{ image.file.name }}</div>\n                <div class=\"text-xs text-muted-foreground/70\">{{ image.width }} × {{ image.height }}</div>\n              </div>\n            </div>\n          </div>\n\n          <!-- 批量操作 -->\n          <div class=\"mt-4 pt-4 border-t border-border flex justify-between items-center\">\n            <div class=\"text-sm text-muted-foreground\">\n              共 {{ images.length }} 张图片\n              <span v-if=\"images.length < 2\" class=\"text-destructive ml-2\">\n                至少需要 2 张图片才能合并\n              </span>\n            </div>\n            <button\n              @click=\"reverseOrder\"\n              class=\"text-sm text-primary hover:text-primary/80\"\n            >\n              反转顺序\n            </button>\n          </div>\n        </div>\n\n        <!-- 预览区域 -->\n        <div class=\"bg-card border border-border rounded-lg p-6\">\n          <h3 class=\"text-lg font-semibold mb-4 flex items-center text-foreground\">\n            <Eye class=\"h-5 w-5 mr-2 text-primary\" />\n            预览效果\n          </h3>\n\n          <div class=\"bg-muted rounded-lg p-4 min-h-[400px] flex items-center justify-center\">\n            <div v-if=\"!mergedImage && images.length === 0\" class=\"text-center text-muted-foreground\">\n              <Image class=\"h-12 w-12 mx-auto mb-3\" />\n              <p>上传图片后将显示预览</p>\n            </div>\n\n            <div v-else-if=\"!mergedImage && images.length > 0\" class=\"text-center text-muted-foreground\">\n              <Layers class=\"h-12 w-12 mx-auto mb-3\" />\n              <p>点击\"合并图片\"生成预览</p>\n            </div>\n\n            <div v-else-if=\"mergedImage\" class=\"w-full\">\n              <img\n                :src=\"mergedImage\"\n                alt=\"合并预览\"\n                class=\"max-w-full h-auto mx-auto rounded-lg shadow-lg\"\n              />\n\n              <!-- 合并信息 -->\n              <div class=\"mt-4 grid grid-cols-2 sm:grid-cols-4 gap-4 text-sm\">\n                <div class=\"bg-muted rounded p-2\">\n                  <div class=\"text-muted-foreground\">宽度</div>\n                  <div class=\"font-semibold text-foreground\">{{ finalWidth }}px</div>\n                </div>\n                <div class=\"bg-muted rounded p-2\">\n                  <div class=\"text-muted-foreground\">高度</div>\n                  <div class=\"font-semibold text-foreground\">{{ finalHeight }}px</div>\n                </div>\n                <div class=\"bg-muted rounded p-2\">\n                  <div class=\"text-muted-foreground\">图片数</div>\n                  <div class=\"font-semibold text-foreground\">{{ images.length }}</div>\n                </div>\n                <div class=\"bg-muted rounded p-2\">\n                  <div class=\"text-muted-foreground\">格式</div>\n                  <div class=\"font-semibold text-foreground\">{{ outputFormat.toUpperCase() }}</div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- SEO 内容长尾区 -->\n    <div class=\"p-6 mb-12 relative\">\n      <!-- 折叠按钮 -->\n      <button \n        @click=\"toggleSeoContent\"\n        class=\"absolute top-4 right-4 text-muted-foreground hover:text-foreground transition-colors\"\n        :title=\"isSeoContentVisible ? '折叠内容' : '展开内容'\"\n      >\n        <HelpCircle v-if=\"!isSeoContentVisible\" class=\"w-5 h-5\" />\n        <ChevronUp v-else class=\"w-5 h-5\" />\n      </button>\n      \n      <!-- 内容区域 -->\n      <div v-show=\"isSeoContentVisible\">\n        <h2 class=\"text-2xl font-bold text-foreground mb-4 flex items-center\">\n          <span class=\"text-primary mr-2\">#</span>\n          什么是图片合并工具？\n        </h2>\n        <p class=\"text-muted-foreground mb-4\">\n          图片合并工具是一种在线服务，可以将多张图片按照指定的布局方式合并成一张图片。\n          无论是水平排列、垂直堆叠还是网格布局，都可以通过简单的设置快速完成图片合并操作。\n          这对于制作产品对比图、教程步骤图、社交媒体内容等场景非常有用。\n        </p>\n        <p class=\"text-muted-foreground mb-4\">\n          现代图片合并工具不仅支持基本的合并功能，还提供了丰富的自定义选项，\n          如间距调整、背景颜色、对齐方式、输出尺寸和格式等，让用户可以根据需求精确控制合并效果。\n        </p>\n        \n        <h2 class=\"text-2xl font-bold text-foreground mt-8 mb-4 flex items-center\">\n          <span class=\"text-primary mr-2\">#</span>\n          核心功能特性\n        </h2>\n        <ul class=\"list-disc list-inside space-y-2 text-muted-foreground mb-6\">\n          <li><strong>多种布局方式</strong>: 支持水平、垂直、网格三种主流布局方式</li>\n          <li><strong>灵活间距控制</strong>: 可自定义图片之间的间距，范围从0到50像素</li>\n          <li><strong>背景颜色设置</strong>: 支持自定义背景颜色，可使用颜色选择器或十六进制值</li>\n          <li><strong>对齐方式调整</strong>: 提供顶部/左侧、居中、底部/右侧等多种对齐选项</li>\n          <li><strong>输出尺寸定制</strong>: 支持自动计算或自定义输出图片的尺寸</li>\n          <li><strong>多种输出格式</strong>: 支持PNG、JPEG、WebP等主流图片格式</li>\n          <li><strong>质量控制</strong>: 可调节JPEG图片的质量，平衡文件大小和图像质量</li>\n          <li><strong>批量操作</strong>: 支持图片排序、反转、删除等批量管理功能</li>\n        </ul>\n        \n        <h2 class=\"text-2xl font-bold text-foreground mt-8 mb-4 flex items-center\">\n          <span class=\"text-primary mr-2\">#</span>\n          使用场景\n        </h2>\n        <ul class=\"list-disc list-inside space-y-2 text-muted-foreground mb-6\">\n          <li><strong>电商产品对比</strong>: 将多个产品的图片合并成一张对比图，方便用户查看</li>\n          <li><strong>教程制作</strong>: 将操作步骤截图合并成一张流程图，便于读者理解</li>\n          <li><strong>社交媒体内容</strong>: 制作信息丰富的社交媒体帖子，吸引更多关注</li>\n          <li><strong>设计稿展示</strong>: 将多个设计方案合并展示，方便客户比较选择</li>\n          <li><strong>报告插图</strong>: 在技术报告或商业文档中插入合并后的对比图表</li>\n          <li><strong>广告素材</strong>: 制作包含多个产品或功能的广告横幅</li>\n        </ul>\n        \n        <h2 class=\"text-2xl font-bold text-foreground mt-8 mb-4 flex items-center\">\n          <span class=\"text-primary mr-2\">#</span>\n          常见问题 (FAQ)\n        </h2>\n        <div class=\"space-y-4\">\n          <div>\n            <h3 class=\"text-lg font-semibold text-foreground\">支持哪些图片格式？</h3>\n            <p class=\"text-muted-foreground mt-1\">\n              工具支持所有主流的图片格式，包括JPG、PNG、WebP、GIF等。\n              上传的图片会在合并前自动转换为合适的格式，确保最终输出质量。\n            </p>\n          </div>\n          <div>\n            <h3 class=\"text-lg font-semibold text-foreground\">合并后的图片分辨率如何？</h3>\n            <p class=\"text-muted-foreground mt-1\">\n              合并后的图片分辨率取决于所选的布局方式和输出尺寸设置。\n              工具会自动计算最优分辨率以保证图片质量和文件大小的平衡。\n              用户也可以选择自定义输出尺寸来精确控制最终效果。\n            </p>\n          </div>\n          <div>\n            <h3 class=\"text-lg font-semibold text-foreground\">如何提高合并效率？</h3>\n            <p class=\"text-muted-foreground mt-1\">\n              为了提高合并效率，建议：\n              1. 上传前尽量压缩图片文件大小；\n              2. 合理选择布局方式和输出尺寸；\n              3. 使用批量操作功能一次性处理多张图片；\n              4. 选择合适的输出格式（WebP通常文件更小）。\n            </p>\n          </div>\n          <div>\n            <h3 class=\"text-lg font-semibold text-foreground\">合并的图片会保存到服务器吗？</h3>\n            <p class=\"text-muted-foreground mt-1\">\n              不会。所有的图片处理都在您的浏览器本地完成，图片数据不会上传到任何服务器。\n              这确保了您的隐私安全，也加快了处理速度。\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- 相关推荐区 -->\n    <section class=\"mb-12\">\n      <h2 class=\"text-2xl font-bold text-foreground mb-4\">您可能还需要...</h2>\n      <div class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\n        <NuxtLink \n          v-for=\"relatedTool in relatedTools\" \n          :key=\"relatedTool.id\"\n          :to=\"`/tools/${relatedTool.id}`\"\n          class=\"block p-4 bg-card border border-border rounded-lg hover:bg-accent transition-colors\"\n        >\n          <div class=\"flex items-center gap-2 mb-2\">\n            <component \n              :is=\"iconMap[relatedTool.icon] || Layers\" \n              class=\"w-5 h-5 text-primary\"\n            />\n            <span class=\"font-medium text-foreground\">{{ relatedTool.name }}</span>\n          </div>\n          <p class=\"text-sm text-muted-foreground line-clamp-2\">{{ relatedTool.description }}</p>\n        </NuxtLink>\n      </div>\n    </section>\n  </div>\n</template>\n\n<script setup>\nimport { ref, computed } from 'vue'\nimport { useSeoMeta } from 'nuxt/app'\nimport { \n  Upload, Layers, Settings, Images, Eye, Image, Download,\n  CheckCircle, ArrowUp, ArrowDown, Trash2, X, Loader2,\n  HelpCircle, ChevronUp\n} from 'lucide-vue-next'\nimport { tools } from '~/data/tools'\nimport { categories } from '~/data/categories'\nimport { addRecentTool } from '~/composables/useTools'\n\n// SEO配置\nuseSeoMeta({\n  title: '图片合并工具 - 在线合并多张图片',\n  meta: [\n    { name: 'description', content: '免费在线图片合并工具，支持水平、垂直、网格等多种布局方式，可自定义间距和背景颜色，轻松将多张图片合并成一张。' },\n    { name: 'keywords', content: '图片合并,图片拼接,在线合并,水平合并,垂直合并,网格布局,批量合并' }\n  ]\n})\n\n// 定义当前工具和分类\nconst tool = tools.find(t => t.id === 'image-merge')\nconst category = categories.find(c => c.id === 'image')\n\n// SEO内容折叠状态\nconst isSeoContentVisible = ref(true)\n\n// 响应式数据\nconst fileInput = ref(null)\nconst images = ref([])\nconst selectedIndex = ref(null)\nconst mergedImage = ref('')\nconst processing = ref(false)\nconst finalWidth = ref(0)\nconst finalHeight = ref(0)\n\n// 合并设置\nconst layoutMode = ref('horizontal') // horizontal, vertical, grid, custom\nconst gridCols = ref(3)\nconst spacing = ref(10)\nconst backgroundColor = ref('#FFFFFF')\nconst alignment = ref('center') // top, center, bottom\nconst sizeMode = ref('auto') // auto, custom\nconst outputWidth = ref(1000)\nconst outputHeight = ref(800)\nconst outputFormat = ref('png')\nconst quality = ref(90)\n\n// 图标映射\nconst iconMap = {\n  Upload, Layers, Settings, Images, Eye, Image, Download,\n  CheckCircle, ArrowUp, ArrowDown, Trash2, X, Loader2,\n  HelpCircle, ChevronUp\n}\n\n// 相关工具\nconst relatedTools = computed(() => {\n  // 获取相关工具：同一分类下的其他工具 + 推荐工具\n  const sameCategory = tools.filter(t => \n    t.category === 'image' && t.id !== 'image-merge'\n  ).slice(0, 2)\n  \n  // 添加一些推荐工具\n  const recommended = [\n    tools.find(t => t.id === 'image-crop'),\n    tools.find(t => t.id === 'image-resize'),\n    tools.find(t => t.id === 'image-compress'),\n    tools.find(t => t.id === 'image-watermark')\n  ].filter(Boolean)\n  \n  return [...sameCategory, ...recommended].slice(0, 4)\n})\n\n// 对齐选项\nconst alignOptions = computed(() => {\n  if (layoutMode.value === 'horizontal') {\n    return [\n      { label: '顶部', value: 'top' },\n      { label: '居中', value: 'center' },\n      { label: '底部', value: 'bottom' }\n    ]\n  } else {\n    return [\n      { label: '左侧', value: 'left' },\n      { label: '居中', value: 'center' },\n      { label: '右侧', value: 'right' }\n    ]\n  }\n})\n\n// 文件处理\nconst triggerFileInput = () => {\n  fileInput.value.click()\n}\n\nconst onFileSelect = (event) => {\n  handleFiles(event.target.files)\n}\n\nconst onDragOver = (event) => {\n  event.dataTransfer.dropEffect = 'copy'\n}\n\nconst onDragLeave = () => {\n  // 可以添加拖拽离开的视觉效果\n}\n\nconst onDrop = (event) => {\n  handleFiles(event.dataTransfer.files)\n}\n\nconst handleFiles = async (files) => {\n  const imageFiles = Array.from(files).filter(file => file.type.startsWith('image/'))\n\n  for (const file of imageFiles) {\n    const preview = await createImagePreview(file)\n    const img = await loadImage(preview)\n\n    images.value.push({\n      file,\n      preview,\n      width: img.naturalWidth,\n      height: img.naturalHeight\n    })\n  }\n}\n\nconst createImagePreview = (file) => {\n  return new Promise((resolve) => {\n    const reader = new FileReader()\n    reader.onload = (e) => resolve(e.target.result)\n    reader.readAsDataURL(file)\n  })\n}\n\nconst loadImage = (src) => {\n  return new Promise((resolve, reject) => {\n    const img = new Image()\n    img.onload = () => resolve(img)\n    img.onerror = reject\n    img.src = src\n  })\n}\n\nconst clearImages = () => {\n  images.value = []\n  selectedIndex.value = null\n  mergedImage.value = ''\n  finalWidth.value = 0\n  finalHeight.value = 0\n}\n\nconst selectImage = (index) => {\n  selectedIndex.value = selectedIndex.value === index ? null : index\n}\n\nconst removeImageAt = (index) => {\n  images.value.splice(index, 1)\n  if (selectedIndex.value === index) {\n    selectedIndex.value = null\n  } else if (selectedIndex.value > index) {\n    selectedIndex.value--\n  }\n  mergedImage.value = ''\n}\n\nconst removeImage = () => {\n  if (selectedIndex.value !== null) {\n    removeImageAt(selectedIndex.value)\n  }\n}\n\nconst reorderImages = (direction) => {\n  if (selectedIndex.value === null) return\n\n  const index = selectedIndex.value\n  const newIndex = direction === 'up' ? index - 1 : index + 1\n\n  if (newIndex >= 0 && newIndex < images.value.length) {\n    const temp = images.value[index]\n    images.value[index] = images.value[newIndex]\n    images.value[newIndex] = temp\n    selectedIndex.value = newIndex\n    mergedImage.value = ''\n  }\n}\n\nconst reverseOrder = () => {\n  images.value.reverse()\n  selectedIndex.value = null\n  mergedImage.value = ''\n}\n\n// 合并图片\nconst mergeImages = async () => {\n  if (images.value.length < 2) return\n\n  processing.value = true\n\n  try {\n    // 加载所有图片\n    const loadedImages = await Promise.all(\n      images.value.map(async (img) => {\n        const image = await loadImage(img.preview)\n        return {\n          image,\n          width: image.naturalWidth,\n          height: image.naturalHeight\n        }\n      })\n    )\n\n    // 计算画布尺寸\n    const { canvasWidth, canvasHeight, positions } = calculateLayout(loadedImages)\n\n    // 创建画布\n    const canvas = document.createElement('canvas')\n    canvas.width = canvasWidth\n    canvas.height = canvasHeight\n    const ctx = canvas.getContext('2d')\n\n    // 填充背景色\n    ctx.fillStyle = backgroundColor.value\n    ctx.fillRect(0, 0, canvasWidth, canvasHeight)\n\n    // 绘制图片\n    loadedImages.forEach((item, index) => {\n      const pos = positions[index]\n      ctx.drawImage(item.image, pos.x, pos.y, pos.width, pos.height)\n    })\n\n    // 调整输出尺寸\n    if (sizeMode.value === 'custom') {\n      const resizedCanvas = document.createElement('canvas')\n      resizedCanvas.width = outputWidth.value\n      resizedCanvas.height = outputHeight.value\n      const resizedCtx = resizedCanvas.getContext('2d')\n      resizedCtx.drawImage(canvas, 0, 0, outputWidth.value, outputHeight.value)\n      canvas.width = outputWidth.value\n      canvas.height = outputHeight.value\n      resizedCtx.drawImage(canvas, 0, 0)\n    }\n\n    finalWidth.value = canvas.width\n    finalHeight.value = canvas.height\n\n    // 转换为指定格式\n    mergedImage.value = canvas.toDataURL(\n      `image/${outputFormat.value}`,\n      outputFormat.value === 'jpeg' ? quality.value / 100 : undefined\n    )\n  } finally {\n    processing.value = false\n  }\n}\n\nconst calculateLayout = (loadedImages) => {\n  let canvasWidth = 0\n  let canvasHeight = 0\n  const positions = []\n\n  if (layoutMode.value === 'horizontal') {\n    // 水平排列\n    const maxHeight = Math.max(...loadedImages.map(item => item.height))\n    canvasHeight = maxHeight + spacing.value * 2\n\n    loadedImages.forEach((item, index) => {\n      const scale = maxHeight / item.height\n      const width = item.width * scale\n      const height = maxHeight\n\n      positions.push({\n        x: canvasWidth + (index > 0 ? spacing.value : spacing.value),\n        y: getAlignedY(canvasHeight, height) + spacing.value,\n        width,\n        height\n      })\n\n      canvasWidth += width + (index > 0 ? spacing.value : 0)\n    })\n\n    canvasWidth += spacing.value\n  } else if (layoutMode.value === 'vertical') {\n    // 垂直排列\n    const maxWidth = Math.max(...loadedImages.map(item => item.width))\n    canvasWidth = maxWidth + spacing.value * 2\n\n    loadedImages.forEach((item, index) => {\n      const scale = maxWidth / item.width\n      const width = maxWidth\n      const height = item.height * scale\n\n      positions.push({\n        x: getAlignedX(canvasWidth, width) + spacing.value,\n        y: canvasHeight + (index > 0 ? spacing.value : spacing.value),\n        width,\n        height\n      })\n\n      canvasHeight += height + (index > 0 ? spacing.value : 0)\n    })\n\n    canvasHeight += spacing.value\n  } else if (layoutMode.value === 'grid') {\n    // 网格布局\n    const cols = Math.min(gridCols.value, loadedImages.length)\n    const rows = Math.ceil(loadedImages.length / cols)\n\n    // 计算每个单元格的尺寸（使用最大尺寸）\n    const cellWidth = Math.max(...loadedImages.map(item => item.width))\n    const cellHeight = Math.max(...loadedImages.map(item => item.height))\n\n    canvasWidth = cols * cellWidth + (cols + 1) * spacing.value\n    canvasHeight = rows * cellHeight + (rows + 1) * spacing.value\n\n    loadedImages.forEach((item, index) => {\n      const col = index % cols\n      const row = Math.floor(index / cols)\n\n      const x = spacing.value + col * (cellWidth + spacing.value)\n      const y = spacing.value + row * (cellHeight + spacing.value)\n\n      // 居中对齐\n      const posX = x + (cellWidth - item.width) / 2\n      const posY = y + (cellHeight - item.height) / 2\n\n      positions.push({\n        x: posX,\n        y: posY,\n        width: item.width,\n        height: item.height\n      })\n    })\n  }\n\n  return { canvasWidth, canvasHeight, positions }\n}\n\nconst getAlignedY = (containerHeight, itemHeight) => {\n  if (alignment.value === 'top') return 0\n  if (alignment.value === 'bottom') return containerHeight - itemHeight\n  return (containerHeight - itemHeight) / 2\n}\n\nconst getAlignedX = (containerWidth, itemWidth) => {\n  if (alignment.value === 'left') return 0\n  if (alignment.value === 'right') return containerWidth - itemWidth\n  return (containerWidth - itemWidth) / 2\n}\n\n// 下载功能\nconst downloadImage = () => {\n  if (!mergedImage.value) return\n\n  const link = document.createElement('a')\n  link.download = `merged_image_${Date.now()}.${outputFormat.value}`\n  link.href = mergedImage.value\n  link.click()\n}\n\n// 切换SEO内容显示状态\nconst toggleSeoContent = () => {\n  isSeoContentVisible.value = !isSeoContentVisible.value\n}\n\n// 添加到最近使用\nif (tool) {\n  addRecentTool(tool.id)\n}\n</script>"],"names":["_ssrRenderAttrs","_mergeProps","_ssrRenderComponent","_unref","_ssrInterpolate","_ssrRenderList","_ssrIncludeBooleanAttr","_ssrRenderAttr","_push","_parent","_createVNode","_createBlock","_resolveDynamicComponent","_toDisplayString"],"mappings":"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"}