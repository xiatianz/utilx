{"version":3,"file":"base64-encode-c4DiqvGW.js","sources":["../../../../src/pages/tools/base64-encode.vue"],"sourcesContent":["<template>\n  <div class=\"max-w-8xl mx-auto\">\n    <!-- 面包屑导航 -->\n    <!-- <Breadcrumb :category=\"category\" /> -->\n\n    <!-- 工具标题 -->\n    <div class=\"mt-4 mb-8\">\n      <h1 class=\"text-3xl font-bold mb-3\">Base64 编码器</h1>\n      <p class=\"text-muted-foreground\">将文本或图片转换为 Base64 编码格式，支持拖拽上传文件</p>\n    </div>\n\n    <!-- 主要功能区域 -->\n    <div class=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n      <!-- 输入区域 -->\n      <div class=\"space-y-4\">\n        <div class=\"flex items-center justify-between\">\n          <h2 class=\"text-lg font-semibold\">输入内容</h2>\n          <div class=\"flex gap-2\">\n            <button\n              @click=\"clearInput\"\n              class=\"px-3 py-1 text-sm text-muted-foreground hover:text-foreground transition-colors\"\n            >\n              清空\n            </button>\n          </div>\n        </div>\n\n        <!-- 输入方式切换 -->\n        <div class=\"flex gap-2 p-1 bg-muted rounded-lg\">\n          <button\n            @click=\"inputMode = 'text'\"\n            :class=\"inputMode === 'text' ? 'bg-background shadow-sm' : ''\"\n            class=\"flex-1 px-3 py-2 text-sm font-medium rounded-md transition-colors\"\n          >\n            文本输入\n          </button>\n          <button\n            @click=\"inputMode = 'file'\"\n            :class=\"inputMode === 'file' ? 'bg-background shadow-sm' : ''\"\n            class=\"flex-1 px-3 py-2 text-sm font-medium rounded-md transition-colors\"\n          >\n            文件上传\n          </button>\n        </div>\n\n        <!-- 文本输入 -->\n        <textarea\n          v-if=\"inputMode === 'text'\"\n          v-model=\"inputText\"\n          placeholder=\"请输入要编码的文本...\"\n          class=\"w-full h-64 p-4 border rounded-lg resize-none focus:outline-none focus:ring-2 focus:ring-primary\"\n        ></textarea>\n\n        <!-- 文件上传 -->\n        <div\n          v-if=\"inputMode === 'file'\"\n          @drop=\"handleDrop\"\n          @dragover.prevent\n          @dragenter.prevent\n          class=\"w-full h-64 border-2 border-dashed border-muted-foreground/25 rounded-lg flex flex-col items-center justify-center cursor-pointer hover:border-primary/50 transition-colors\"\n          @click=\"$refs.fileInput?.click()\"\n        >\n          <input\n            ref=\"fileInput\"\n            type=\"file\"\n            class=\"hidden\"\n            @change=\"handleFileSelect\"\n            accept=\"image/*,.txt,.json,.xml,.csv\"\n          />\n          <Upload class=\"w-12 h-12 text-muted-foreground mb-2\" />\n          <p class=\"text-sm text-muted-foreground mb-1\">拖拽文件到此处或点击上传</p>\n          <p class=\"text-xs text-muted-foreground\">支持图片和文本文件</p>\n          <p v-if=\"selectedFile\" class=\"text-sm text-primary mt-2\">{{ selectedFile.name }}</p>\n        </div>\n\n        <!-- 编码选项 -->\n        <div class=\"space-y-3\">\n          <label class=\"flex items-center gap-2\">\n            <input\n              type=\"checkbox\"\n              v-model=\"options.urlSafe\"\n              class=\"rounded\"\n            />\n            <span class=\"text-sm\">URL 安全编码（替换 + 和 /）</span>\n          </label>\n          <label class=\"flex items-center gap-2\">\n            <input\n              type=\"checkbox\"\n              v-model=\"options.lineBreaks\"\n              class=\"rounded\"\n            />\n            <span class=\"text-sm\">每 76 个字符换行</span>\n          </label>\n        </div>\n      </div>\n\n      <!-- 输出区域 -->\n      <div class=\"space-y-4\">\n        <div class=\"flex items-center justify-between\">\n          <h2 class=\"text-lg font-semibold\">编码结果</h2>\n          <div class=\"flex gap-2\">\n            <button\n              v-if=\"outputText\"\n              @click=\"copyOutput\"\n              class=\"px-3 py-1 text-sm text-muted-foreground hover:text-foreground transition-colors\"\n            >\n              {{ copied ? '已复制' : '复制' }}\n            </button>\n            <button\n              v-if=\"outputText\"\n              @click=\"downloadOutput\"\n              class=\"px-3 py-1 text-sm text-muted-foreground hover:text-foreground transition-colors\"\n            >\n              下载\n            </button>\n          </div>\n        </div>\n\n        <div class=\"relative\">\n          <pre\n            v-if=\"outputText\"\n            class=\"w-full h-64 p-4 bg-muted rounded-lg overflow-auto text-sm font-mono whitespace-pre-wrap break-all\"\n          >{{ outputText }}</pre>\n          <div\n            v-else\n            class=\"w-full h-64 p-4 bg-muted rounded-lg flex items-center justify-center text-muted-foreground\"\n          >\n            编码结果将显示在这里\n          </div>\n\n          <!-- 字符统计 -->\n          <div\n            v-if=\"outputText\"\n            class=\"absolute bottom-2 right-2 text-xs text-muted-foreground bg-background px-2 py-1 rounded\"\n          >\n            {{ outputText.length }} 字符\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- 信息说明 -->\n    <div class=\"mt-12 space-y-6\">\n      <div class=\"bg-card  rounded-lg p-6\">\n        <h3 class=\"text-lg font-semibold mb-4 flex items-center gap-2\">\n          <Info class=\"w-5 h-5 text-primary\" />\n          关于 Base64 编码\n        </h3>\n        <div class=\"space-y-3 text-sm text-muted-foreground\">\n          <p>Base64 是一种基于 64 个可打印字符来表示二进制数据的编码方法。它常用于在处理文本数据的场合，表示、传输和存储一些二进制数据。</p>\n          <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4\">\n            <div>\n              <h4 class=\"font-medium text-foreground mb-2\">常见用途：</h4>\n              <ul class=\"list-disc list-inside space-y-1\">\n                <li>邮件附件编码</li>\n                <li>URL 参数传递</li>\n                <li>图片内嵌到 HTML/CSS</li>\n                <li>配置文件存储</li>\n              </ul>\n            </div>\n            <div>\n              <h4 class=\"font-medium text-foreground mb-2\">编码字符集：</h4>\n              <ul class=\"list-disc list-inside space-y-1\">\n                <li>大写字母 A-Z (26个)</li>\n                <li>小写字母 a-z (26个)</li>\n                <li>数字 0-9 (10个)</li>\n                <li>加号 + 和斜杠 / (2个)</li>\n                <li>等号 = 作为填充字符</li>\n              </ul>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- 相关工具 -->\n      <div class=\"bg-card  rounded-lg p-6\">\n        <h3 class=\"text-lg font-semibold mb-4\">相关工具</h3>\n        <div class=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n          <NuxtLink\n            to=\"/tools/base64-decode\"\n            class=\"flex items-center gap-3 p-3 bg-muted rounded-lg hover:bg-muted/80 transition-colors group\"\n          >\n            <Hash class=\"w-5 h-5 text-primary\" />\n            <div>\n              <p class=\"font-medium group-hover:text-primary\">Base64 解码</p>\n              <p class=\"text-xs text-muted-foreground\">解码 Base64 字符串</p>\n            </div>\n            <ArrowRight class=\"w-4 h-4 ml-auto text-muted-foreground group-hover:text-primary\" />\n          </NuxtLink>\n          <NuxtLink\n            to=\"/tools/url-encode\"\n            class=\"flex items-center gap-3 p-3 bg-muted rounded-lg hover:bg-muted/80 transition-colors group\"\n          >\n            <Link class=\"w-5 h-5 text-primary\" />\n            <div>\n              <p class=\"font-medium group-hover:text-primary\">URL 编码</p>\n              <p class=\"text-xs text-muted-foreground\">URL 百分比编码</p>\n            </div>\n            <ArrowRight class=\"w-4 h-4 ml-auto text-muted-foreground group-hover:text-primary\" />\n          </NuxtLink>\n          <NuxtLink\n            to=\"/tools/hex-convert\"\n            class=\"flex items-center gap-3 p-3 bg-muted rounded-lg hover:bg-muted/80 transition-colors group\"\n          >\n            <Hash class=\"w-5 h-5 text-primary\" />\n            <div>\n              <p class=\"font-medium group-hover:text-primary\">十六进制转换</p>\n              <p class=\"text-xs text-muted-foreground\">文本与十六进制互转</p>\n            </div>\n            <ArrowRight class=\"w-4 h-4 ml-auto text-muted-foreground group-hover:text-primary\" />\n          </NuxtLink>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, watch } from 'vue'\nimport { Upload, Info, Hash, Link, ArrowRight } from 'lucide-vue-next'\nimport Breadcrumb from '~/components/Breadcrumb.vue'\n\n// 分类信息\nconst category = { id: 'encode', name: '编码解码', description: '编码解码工具集合' }\n\n// 状态管理\nconst inputMode = ref('text')\nconst inputText = ref('')\nconst outputText = ref('')\nconst selectedFile = ref(null)\nconst copied = ref(false)\n\n// 编码选项\nconst options = ref({\n  urlSafe: false,\n  lineBreaks: false\n})\n\n// Base64 编码函数\nconst encodeBase64 = (text) => {\n  try {\n    let encoded = btoa(unescape(encodeURIComponent(text)))\n\n    if (options.value.urlSafe) {\n      encoded = encoded.replace(/\\+/g, '-').replace(/\\//g, '_')\n    }\n\n    if (options.value.lineBreaks) {\n      const lines = []\n      for (let i = 0; i < encoded.length; i += 76) {\n        lines.push(encoded.substring(i, i + 76))\n      }\n      encoded = lines.join('\\n')\n    }\n\n    return encoded\n  } catch (error) {\n    return '编码失败：' + error.message\n  }\n}\n\n// 文件读取并编码\nconst readFileAsBase64 = (file) => {\n  return new Promise((resolve, reject) => {\n    const reader = new FileReader()\n\n    reader.onload = (e) => {\n      const result = e.target.result\n      if (typeof result === 'string') {\n        // 获取 Base64 部分（移除 data:image/...;base64, 前缀）\n        const base64 = result.split(',')[1] || result\n        resolve(base64)\n      } else {\n        resolve('')\n      }\n    }\n\n    reader.onerror = () => reject(new Error('文件读取失败'))\n\n    if (file.type.startsWith('image/')) {\n      reader.readAsDataURL(file)\n    } else {\n      reader.readAsText(file)\n      reader.onload = (e) => {\n        try {\n          const base64 = btoa(e.target.result)\n          resolve(base64)\n        } catch (error) {\n          reject(error)\n        }\n      }\n    }\n  })\n}\n\n// 处理文件选择\nconst handleFileSelect = (event) => {\n  const file = event.target.files[0]\n  if (file) {\n    selectedFile.value = file\n    processFile(file)\n  }\n}\n\n// 处理拖拽\nconst handleDrop = (event) => {\n  event.preventDefault()\n  const file = event.dataTransfer.files[0]\n  if (file) {\n    selectedFile.value = file\n    processFile(file)\n  }\n}\n\n// 处理文件\nconst processFile = async (file) => {\n  try {\n    const base64 = await readFileAsBase64(file)\n    outputText.value = base64\n  } catch (error) {\n    outputText.value = '文件处理失败：' + error.message\n  }\n}\n\n// 监听输入变化\nwatch(inputText, (newText) => {\n  if (newText) {\n    outputText.value = encodeBase64(newText)\n  } else {\n    outputText.value = ''\n  }\n})\n\n// 监听选项变化\nwatch(options, () => {\n  if (inputText.value || selectedFile.value) {\n    if (inputText.value) {\n      outputText.value = encodeBase64(inputText.value)\n    }\n  }\n}, { deep: true })\n\n// 清空输入\nconst clearInput = () => {\n  inputText.value = ''\n  outputText.value = ''\n  selectedFile.value = null\n  if (inputMode.value === 'file') {\n    const fileInput = document.querySelector('input[type=\"file\"]')\n    if (fileInput) fileInput.value = ''\n  }\n}\n\n// 复制输出\nconst copyOutput = async () => {\n  try {\n    await navigator.clipboard.writeText(outputText.value)\n    copied.value = true\n    setTimeout(() => {\n      copied.value = false\n    }, 2000)\n  } catch (error) {\n    // 降级方案\n    const textarea = document.createElement('textarea')\n    textarea.value = outputText.value\n    document.body.appendChild(textarea)\n    textarea.select()\n    document.execCommand('copy')\n    document.body.removeChild(textarea)\n    copied.value = true\n    setTimeout(() => {\n      copied.value = false\n    }, 2000)\n  }\n}\n\n// 下载输出\nconst downloadOutput = () => {\n  const blob = new Blob([outputText.value], { type: 'text/plain' })\n  const url = URL.createObjectURL(blob)\n  const a = document.createElement('a')\n  a.href = url\n  a.download = 'base64-encoded.txt'\n  document.body.appendChild(a)\n  a.click()\n  document.body.removeChild(a)\n  URL.revokeObjectURL(url)\n}\n\n// SEO配置\nuseSeoMeta({\n  title: 'Base64编码器 - 在线Base64编码工具',\n  description: '免费在线Base64编码工具，支持文本和图片编码，可拖拽上传文件，提供多种编码选项。',\n  keywords: ['base64', '编码', 'encoder', '在线工具', '图片编码', '文件编码']\n})\n\ndefinePageMeta({\n  layout: 'default'\n})\n</script>\n\n<style scoped>\ninput[type=\"checkbox\"]:checked {\n  background-color: hsl(var(--primary));\n  border-color: hsl(var(--primary));\n}\n</style>"],"names":["_ssrRenderAttrs","_mergeProps","_ssrRenderComponent","_unref","_ssrInterpolate","_ssrIncludeBooleanAttr","_ssrLooseContain","_push","_parent","_createVNode"],"mappings":"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"}