<!doctype html><html lang=zh-cn dir=auto data-theme=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>æ¸¸æˆå‡ºæµ·å…¨æ”»ç•¥ï¼šä»æœ¬åœŸåŒ–åˆ°å…¨çƒå‘è¡Œçš„åˆ¶èƒœä¹‹é“ | æŠ€æœ¯åšå®¢ - æœ‰æ¡å·¥å…·</title><meta name=keywords content="æ¸¸æˆå‡ºæµ·,æœ¬åœ°åŒ–,æµ·å¤–å‘è¡Œ,è·¨æ–‡åŒ–,æ¸¸æˆå…¨çƒåŒ–,æµ·å¤–è¿è¥"><meta name=description content="æœ¬æ–‡å…¨é¢ä»‹ç»æ¸¸æˆå‡ºæµ·çš„å„ä¸ªå…³é”®ç¯èŠ‚ï¼ŒåŒ…æ‹¬æœ¬åœ°åŒ–ç¿»è¯‘ã€æ–‡åŒ–é€‚åº”ã€æµ·å¤–å‘è¡Œæ¸ é“ã€ç”¨æˆ·è¿è¥ç­‰æ ¸å¿ƒç­–ç•¥ã€‚"><meta name=author content="Util Tech Team"><link rel=canonical href=/blog/articles/game-localization-overseas-strategy/><link crossorigin=anonymous href=/blog/assets/css/stylesheet.7e8505b7cdf8bb22ab2305e53c2700bb06c7e64faeb72cd3468823a9a3bd3d6e.css integrity="sha256-foUFt834uyKrIwXlPCcAuwbH5k+utyzTRogjqaO9PW4=" rel="preload stylesheet" as=style><link rel=icon href=/favicon.ico><link rel=icon type=image/png sizes=16x16 href=/blog/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=/blog/favicon-32x32.png><link rel=apple-touch-icon href=/blog/apple-touch-icon.png><link rel=mask-icon href=/blog/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=/blog/articles/game-localization-overseas-strategy/feed.xml title=rss><link rel=alternate hreflang=zh-cn href=/blog/articles/game-localization-overseas-strategy/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51);color-scheme:dark}.list{background:var(--theme)}.toc{background:var(--entry)}}@media(prefers-color-scheme:light){.list::-webkit-scrollbar-thumb{border-color:var(--code-bg)}}</style></noscript><script>localStorage.getItem("pref-theme")==="dark"?document.querySelector("html").dataset.theme="dark":localStorage.getItem("pref-theme")==="light"?document.querySelector("html").dataset.theme="light":window.matchMedia("(prefers-color-scheme: dark)").matches?document.querySelector("html").dataset.theme="dark":document.querySelector("html").dataset.theme="light"</script><script src=/js/external-link-config.js></script><script src=/js/external-link-interceptor.js></script><link rel=stylesheet href=/blog/css/custom.css media=screen><script type=application/ld+json>{"@context":"https://schema.org","@type":"WebSite","name":"æŠ€æœ¯åšå®¢ - æœ‰æ¡å·¥å…· | å¼€å‘è€…å·¥å…·ä½¿ç”¨æ•™ç¨‹ & ç¼–ç¨‹æŠ€å·§åˆ†äº«","url":"https://www.util.cn/blog/","description":"æœ‰æ¡å·¥å…·æŠ€æœ¯åšå®¢ - åˆ†äº«å¼€å‘è€…å·¥å…·ä½¿ç”¨æ•™ç¨‹ã€ç¼–ç¨‹æŠ€å·§å’Œå®æˆ˜å¼€å‘ç»éªŒã€‚æä¾›JSONæ ¼å¼åŒ–ã€SQLä¼˜åŒ–ã€Markdownç¼–è¾‘å™¨ç­‰åœ¨çº¿å·¥å…·çš„è¯¦ç»†ä½¿ç”¨æŒ‡å—ï¼Œå¸®åŠ©å¼€å‘è€…æå‡å·¥ä½œæ•ˆç‡ã€‚","publisher":{"@type":"Organization","name":"æœ‰æ¡å·¥å…·","url":"https://www.util.cn","logo":{"@type":"ImageObject","url":"https://www.util.cn/blog/logo/logo-256.png","width":256,"height":256}},"potentialAction":[{"@type":"SearchAction","target":"https://www.util.cn/blog/search?q={search_term_string}","query-input":"required name=search_term_string"}]}</script><meta property="og:type" content="website"><meta property="og:title" content="æŠ€æœ¯åšå®¢ - æœ‰æ¡å·¥å…· | å¼€å‘è€…å·¥å…·ä½¿ç”¨æ•™ç¨‹ & ç¼–ç¨‹æŠ€å·§åˆ†äº«"><meta property="og:description" content="æœ‰æ¡å·¥å…·æŠ€æœ¯åšå®¢ - åˆ†äº«å¼€å‘è€…å·¥å…·ä½¿ç”¨æ•™ç¨‹ã€ç¼–ç¨‹æŠ€å·§å’Œå®æˆ˜å¼€å‘ç»éªŒã€‚æä¾›JSONæ ¼å¼åŒ–ã€SQLä¼˜åŒ–ã€Markdownç¼–è¾‘å™¨ç­‰åœ¨çº¿å·¥å…·çš„è¯¦ç»†ä½¿ç”¨æŒ‡å—ï¼Œå¸®åŠ©å¼€å‘è€…æå‡å·¥ä½œæ•ˆç‡ã€‚"><meta property="og:url" content="https://www.util.cn/blog/"><meta property="og:site_name" content="æœ‰æ¡å·¥å…·æŠ€æœ¯åšå®¢"><meta property="og:image" content="https://www.util.cn/blog/logo/logo-256.png"><meta property="og:image:width" content="1200"><meta property="og:image:height" content="630"><meta name=twitter:card content="summary_large_image"><meta name=twitter:title content="æŠ€æœ¯åšå®¢ - æœ‰æ¡å·¥å…· | å¼€å‘è€…å·¥å…·ä½¿ç”¨æ•™ç¨‹ & ç¼–ç¨‹æŠ€å·§åˆ†äº«"><meta name=twitter:description content="æœ‰æ¡å·¥å…·æŠ€æœ¯åšå®¢ - åˆ†äº«å¼€å‘è€…å·¥å…·ä½¿ç”¨æ•™ç¨‹ã€ç¼–ç¨‹æŠ€å·§å’Œå®æˆ˜å¼€å‘ç»éªŒã€‚"><meta name=twitter:image content="https://www.util.cn/blog/logo/logo-256.png"><meta name=baidu-site-verification content><meta name=category content="æŠ€æœ¯åšå®¢,å¼€å‘è€…å·¥å…·,ç¼–ç¨‹æ•™ç¨‹"><meta name=coverage content="Worldwide"><meta name=distribution content="Global"><meta name=rating content="General"><script id=51la_code async crossorigin=anonymous src="https://sdk.51.la/js-sdk-pro.min.js?id=3OM52V0xJAPv6ozF&hash=pro"></script><script>window.addEventListener("load",function(){setTimeout(function(){typeof la!="undefined"?console.log("51laç»Ÿè®¡å·²åŠ è½½"):(console.warn("51laç»Ÿè®¡åŠ è½½å¤±è´¥ï¼Œä½¿ç”¨å¤‡ç”¨æ–¹æ¡ˆ"),function(){var e=document.createElement("script");e.src="https://sdk.51.la/js-sdk-pro.min.js?id=3OM52V0xJAPv6ozF&hash=backup",e.async=!0,document.head.appendChild(e)}())},3e3)})</script><meta property="og:url" content="/blog/articles/game-localization-overseas-strategy/"><meta property="og:site_name" content="æŠ€æœ¯åšå®¢ - æœ‰æ¡å·¥å…·"><meta property="og:title" content="æ¸¸æˆå‡ºæµ·å…¨æ”»ç•¥ï¼šä»æœ¬åœŸåŒ–åˆ°å…¨çƒå‘è¡Œçš„åˆ¶èƒœä¹‹é“"><meta property="og:description" content="æœ¬æ–‡å…¨é¢ä»‹ç»æ¸¸æˆå‡ºæµ·çš„å„ä¸ªå…³é”®ç¯èŠ‚ï¼ŒåŒ…æ‹¬æœ¬åœ°åŒ–ç¿»è¯‘ã€æ–‡åŒ–é€‚åº”ã€æµ·å¤–å‘è¡Œæ¸ é“ã€ç”¨æˆ·è¿è¥ç­‰æ ¸å¿ƒç­–ç•¥ã€‚"><meta property="og:locale" content="zh-cn"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2025-12-20T13:00:00+08:00"><meta property="article:modified_time" content="2025-12-20T13:00:00+08:00"><meta property="article:tag" content="æ¸¸æˆå‡ºæµ·"><meta property="article:tag" content="æœ¬åœ°åŒ–"><meta property="article:tag" content="æµ·å¤–å‘è¡Œ"><meta property="article:tag" content="è·¨æ–‡åŒ–è¿è¥"><meta property="article:tag" content="æ¸¸æˆå…¨çƒåŒ–"><meta name=twitter:card content="summary"><meta name=twitter:title content="æ¸¸æˆå‡ºæµ·å…¨æ”»ç•¥ï¼šä»æœ¬åœŸåŒ–åˆ°å…¨çƒå‘è¡Œçš„åˆ¶èƒœä¹‹é“"><meta name=twitter:description content="æœ¬æ–‡å…¨é¢ä»‹ç»æ¸¸æˆå‡ºæµ·çš„å„ä¸ªå…³é”®ç¯èŠ‚ï¼ŒåŒ…æ‹¬æœ¬åœ°åŒ–ç¿»è¯‘ã€æ–‡åŒ–é€‚åº”ã€æµ·å¤–å‘è¡Œæ¸ é“ã€ç”¨æˆ·è¿è¥ç­‰æ ¸å¿ƒç­–ç•¥ã€‚"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"æ‰€æœ‰æ–‡ç« ","item":"/blog/posts/"},{"@type":"ListItem","position":2,"name":"æ¸¸æˆå‡ºæµ·å…¨æ”»ç•¥ï¼šä»æœ¬åœŸåŒ–åˆ°å…¨çƒå‘è¡Œçš„åˆ¶èƒœä¹‹é“","item":"/blog/articles/game-localization-overseas-strategy/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"æ¸¸æˆå‡ºæµ·å…¨æ”»ç•¥ï¼šä»æœ¬åœŸåŒ–åˆ°å…¨çƒå‘è¡Œçš„åˆ¶èƒœä¹‹é“","name":"æ¸¸æˆå‡ºæµ·å…¨æ”»ç•¥ï¼šä»æœ¬åœŸåŒ–åˆ°å…¨çƒå‘è¡Œçš„åˆ¶èƒœä¹‹é“","description":"æœ¬æ–‡å…¨é¢ä»‹ç»æ¸¸æˆå‡ºæµ·çš„å„ä¸ªå…³é”®ç¯èŠ‚ï¼ŒåŒ…æ‹¬æœ¬åœ°åŒ–ç¿»è¯‘ã€æ–‡åŒ–é€‚åº”ã€æµ·å¤–å‘è¡Œæ¸ é“ã€ç”¨æˆ·è¿è¥ç­‰æ ¸å¿ƒç­–ç•¥ã€‚","keywords":["æ¸¸æˆå‡ºæµ·","æœ¬åœ°åŒ–","æµ·å¤–å‘è¡Œ","è·¨æ–‡åŒ–","æ¸¸æˆå…¨çƒåŒ–","æµ·å¤–è¿è¥"],"articleBody":"å¼•è¨€ 2024å¹´å…¨çƒæ¸¸æˆå¸‚åœºè§„æ¨¡è¾¾åˆ°2000äº¿ç¾å…ƒï¼Œå…¶ä¸­ä¸­å›½æ¸¸æˆæµ·å¤–æ”¶å…¥è¶…è¿‡180äº¿ç¾å…ƒã€‚æ¸¸æˆå‡ºæµ·å·²æˆä¸ºä¸­å›½æ¸¸æˆä¼ä¸šçš„é‡è¦å¢é•¿å¼•æ“ã€‚ç„¶è€Œï¼ŒæˆåŠŸçš„å‡ºæµ·ä¸ä»…ä»…æ˜¯ç®€å•çš„è¯­è¨€ç¿»è¯‘ï¼Œæ›´éœ€è¦æ·±åº¦çš„æ–‡åŒ–ç†è§£ã€æœ¬åœ°åŒ–é€‚é…å’Œå…¨çƒåŒ–è¿è¥ç­–ç•¥ã€‚æœ¬æ–‡å°†æ·±å…¥æ¢è®¨æ¸¸æˆå‡ºæµ·çš„å…¨é“¾è·¯è§£å†³æ–¹æ¡ˆã€‚\næµ·å¤–å¸‚åœºåˆ†æ ä¸»è¦å¸‚åœºç‰¹ç‚¹ åŒ—ç¾å¸‚åœº å¸‚åœºè§„æ¨¡ï¼š çº¦600äº¿ç¾å…ƒ ç”¨æˆ·ç‰¹ç‚¹ï¼š\nä»˜è´¹æ„æ„¿é«˜ï¼ŒARPPUé¢†å…ˆå…¨çƒ ä¸»æµå¹³å°ï¼šPCã€ä¸»æœºã€ç§»åŠ¨ç«¯å‡è¡¡ åå¥½ï¼šé«˜è´¨é‡ç”»é¢ã€æ·±åº¦ç©æ³•ã€IPæ”¹ç¼–æ¸¸æˆ æˆåŠŸæ¡ˆä¾‹ï¼š\nã€ŠåŸç¥ã€‹æœˆæ”¶å…¥è¶…è¿‡1äº¿ç¾å…ƒ ã€ŠPUBG Mobileã€‹æŒç»­éœ¸æ¦œ å¸‚åœºç­–ç•¥ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 // åŒ—ç¾å¸‚åœºæœ¬åœ°åŒ–é…ç½® const naMarketConfig = { pricing: { tier1: 0.99, // åŸºç¡€æ¡£ä½ tier2: 4.99, tier3: 9.99, tier4: 19.99, tier5: 49.99 }, events: { thanksgiving: { name: \"Thanksgiving Festival\", startDate: \"2024-11-28\", endDate: \"2024-12-02\", discounts: 0.3 }, blackFriday: { name: \"Black Friday Special\", startDate: \"2024-11-29\", endDate: \"2024-12-01\", discounts: 0.5 }, christmas: { name: \"Winter Holiday\", startDate: \"2024-12-20\", endDate: \"2025-01-03\", discounts: 0.25 } }, features: { englishVoice: true, textSize: \"normal\", // è€å¹´ç”¨æˆ·å‹å¥½ autoPlay: true, // ä¼‘é—²ç©å®¶éœ€æ±‚ crossSave: true // å¤šå¹³å°åŒæ­¥ } } æ¬§æ´²å¸‚åœº å¸‚åœºè§„æ¨¡ï¼š çº¦450äº¿ç¾å…ƒ ç‰¹ç‚¹åˆ†æï¼š\nå¤šè¯­è¨€ç¯å¢ƒå¤æ‚ï¼ˆè‹±ã€å¾·ã€æ³•ã€è¥¿ã€æ„ç­‰ï¼‰ å®¡æ ¸ä¸¥æ ¼ï¼Œç‰¹åˆ«æ˜¯å¾·å›½å’Œæ³•å›½ æ•°æ®éšç§ä¿æŠ¤è¦æ±‚é«˜ï¼ˆGDPRï¼‰ PCå’Œä¸»æœºæ–‡åŒ–æ·±åš åˆè§„ç­–ç•¥ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 // GDPRåˆè§„å®ç° class GDPRCompliance { constructor() { this.consentData = {}; this.privacySettings = { analytics: false, advertising: false, crashReporting: true, performance: false }; } // æ˜¾ç¤ºéšç§æ”¿ç­– showPrivacyDialog() { return new Promise((resolve) =\u003e { const dialog = { title: this.getLocalizedText('privacy.title'), content: this.getLocalizedText('privacy.content'), buttons: [ { text: this.getLocalizedText('privacy.accept_all'), action: () =\u003e this.acceptAllConsents() }, { text: this.getLocalizedText('privacy.customize'), action: () =\u003e this.showCustomizeDialog() }, { text: this.getLocalizedText('privacy.reject'), action: () =\u003e this.rejectAllConsents() } ] }; this.showDialog(dialog, resolve); }); } // è·å–æœ¬åœ°åŒ–æ–‡æœ¬ getLocalizedText(key) { const texts = { 'en': { 'privacy.title': 'Privacy \u0026 Data', 'privacy.content': 'We use cookies and data to...', 'privacy.accept_all': 'Accept All', 'privacy.customize': 'Customize', 'privacy.reject': 'Reject' }, 'de': { 'privacy.title': 'Datenschutz', 'privacy.content': 'Wir verwenden Cookies...', 'privacy.accept_all': 'Alle akzeptieren', 'privacy.customize': 'Anpassen', 'privacy.reject': 'Ablehnen' } }; const locale = this.getUserLocale(); return texts[locale]?.[key] || texts['en'][key]; } // æ•°æ®å¤„ç†å‰æ£€æŸ¥ checkConsent(dataType) { return this.privacySettings[dataType] || this.isEssentialData(dataType); } // æ•°æ®åˆ é™¤è¯·æ±‚å¤„ç† handleDataDeletionRequest(userId) { return new Promise(async (resolve) =\u003e { try { // åˆ é™¤ç”¨æˆ·æ•°æ® await this.deleteUserData(userId); // ç”Ÿæˆåˆ é™¤æŠ¥å‘Š const report = await this.generateDeletionReport(userId); // é€šçŸ¥ç”¨æˆ· this.notifyDeletionComplete(userId); resolve({ success: true, report }); } catch (error) { resolve({ success: false, error: error.message }); } }); } } æ—¥éŸ©å¸‚åœº æ—¥æœ¬å¸‚åœºï¼š\nå¸‚åœºè§„æ¨¡ï¼š180äº¿ç¾å…ƒ ç”¨æˆ·ç‰¹å¾ï¼šå¿ è¯šåº¦é«˜ï¼Œå–œæ¬¢IPè”åŠ¨ ä¸»æµç±»å‹ï¼šRPGã€éŸ³æ¸¸ã€å¡ç‰Œæ¸¸æˆ ä»˜è´¹ä¹ æƒ¯ï¼šè¯¾é‡‘æ–‡åŒ–æ·±åš éŸ©å›½å¸‚åœºï¼š\nå¸‚åœºè§„æ¨¡ï¼š70äº¿ç¾å…ƒ ç”¨æˆ·ç‰¹å¾ï¼šç«æŠ€æ€§å¼ºï¼Œå–œæ¬¢PVP ä¸»æµç±»å‹ï¼šMMORPGã€MOBA å‘è¡Œè¦æ±‚ï¼šéœ€è¦æ¸¸æˆåˆ†çº§è®¤è¯ æœ¬åœ°åŒ–ç­–ç•¥ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 // æ—¥éŸ©å¸‚åœºæœ¬åœ°åŒ– const jpkrConfig = { jp: { language: 'ja', textDirection: 'ltr', currency: 'JPY', dateFormat: 'YYYY/MM/DD', features: { voicePack: true, // å£°ä¼˜æ–‡åŒ– gachaSystem: true, // æŠ½å¡æœºåˆ¶ idolSystem: true, // å¶åƒå…ƒç´  seasonalEvents: true // å­£èŠ‚æ´»åŠ¨ }, cultural: { avoidNumber4: true, // é¿è®³æ•°å­—4 cherryBlossom: true, // æ¨±èŠ±å…ƒç´  shrineVisit: true, // ç¥ç¤¾åœºæ™¯ schoolSetting: true // æ ¡å›­èƒŒæ™¯ } }, kr: { language: 'ko', currency: 'KRW', features: { rankingSystem: true, // æ’è¡Œæ¦œç³»ç»Ÿ pvpArena: true, // PvPç«æŠ€åœº guildSystem: true, // å…¬ä¼šç³»ç»Ÿ esportsIntegration: true // ç”µç«å…ƒç´  }, monetization: { battlePass: true, // é€šè¡Œè¯ cosmeticItems: true, // å¤–è§‚é“å…· convenienceItems: true // ä¾¿åˆ©é“å…· } } }; æœ¬åœ°åŒ–æŠ€æœ¯å®ç° å¤šè¯­è¨€ç³»ç»Ÿæ¶æ„ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 162 163 164 165 166 167 168 169 170 171 172 173 174 175 176 177 178 179 180 181 182 // å›½é™…åŒ–ç®¡ç†å™¨ class I18nManager { constructor() { this.currentLanguage = 'en'; this.fallbackLanguage = 'en'; this.translations = new Map(); this.loadedLanguages = new Set(); this.pluralRules = new Map(); } // åˆå§‹åŒ–è¯­è¨€åŒ… async init(language = 'en') { await this.loadLanguage(language); await this.loadLanguage(this.fallbackLanguage); this.setLanguage(language); this.initPluralRules(); } // åŠ è½½è¯­è¨€åŒ… async loadLanguage(language) { if (this.loadedLanguages.has(language)) { return; } try { const translations = await this.fetchTranslations(language); this.translations.set(language, translations); this.loadedLanguages.add(language); } catch (error) { console.error(`Failed to load language ${language}:`, error); } } // è·å–ç¿»è¯‘æ–‡ä»¶ async fetchTranslations(language) { const response = await fetch(`./locales/${language}.json`); return await response.json(); } // è®¾ç½®å½“å‰è¯­è¨€ setLanguage(language) { if (this.loadedLanguages.has(language)) { this.currentLanguage = language; this.updateUI(); this.saveLanguagePreference(language); } } // è·å–ç¿»è¯‘æ–‡æœ¬ t(key, params = {}) { const translation = this.getTranslation(key, this.currentLanguage) || this.getTranslation(key, this.fallbackLanguage) || key; // å¤„ç†å‚æ•°æ›¿æ¢ return this.interpolate(translation, params); } // è·å–ç‰¹å®šè¯­è¨€çš„ç¿»è¯‘ getTranslation(key, language) { const translations = this.translations.get(language); if (!translations) return null; // æ”¯æŒåµŒå¥—keyå¦‚ 'menu.settings.audio' const keys = key.split('.'); let result = translations; for (const k of keys) { result = result?.[k]; if (result === undefined) return null; } return result; } // å¤æ•°å½¢å¼å¤„ç† tn(key, count, params = {}) { const rule = this.getPluralRule(count); const pluralKey = `${key}.${rule}`; params.count = count; return this.t(pluralKey, params); } // è·å–å¤æ•°è§„åˆ™ getPluralRule(count) { const rule = this.pluralRules.get(this.currentLanguage); return rule ? rule(count) : 'other'; } // åˆå§‹åŒ–å¤æ•°è§„åˆ™ initPluralRules() { // è‹±è¯­å¤æ•°è§„åˆ™ this.pluralRules.set('en', (n) =\u003e n === 1 ? 'one' : 'other'); // ä¸­æ–‡æ— å¤æ•° this.pluralRules.set('zh', () =\u003e 'other'); // æ—¥è¯­å¤æ•°è§„åˆ™ this.pluralRules.set('ja', () =\u003e 'other'); // æ³•è¯­å¤æ•°è§„åˆ™ this.pluralRules.set('fr', (n) =\u003e n \u003e= 0 \u0026\u0026 n \u003c 2 ? 'one' : 'other'); } // å‚æ•°æ’å€¼ interpolate(text, params) { return text.replace(/\\{\\{(\\w+)\\}\\}/g, (match, key) =\u003e { return params[key] !== undefined ? params[key] : match; }); } // æ›´æ–°UIæ–‡æœ¬ updateUI() { // æ›´æ–°æ‰€æœ‰å¸¦æœ‰data-i18nå±æ€§çš„å…ƒç´  const elements = document.querySelectorAll('[data-i18n]'); elements.forEach(element =\u003e { const key = element.getAttribute('data-i18n'); const text = this.t(key); if (element.tagName === 'INPUT' || element.tagName === 'TEXTAREA') { element.placeholder = text; } else { element.textContent = text; } }); } // ä¿å­˜è¯­è¨€åå¥½ saveLanguagePreference(language) { localStorage.setItem('preferredLanguage', language); } // è·å–ä¿å­˜çš„è¯­è¨€ getSavedLanguage() { return localStorage.getItem('preferredLanguage') || navigator.language.split('-')[0] || 'en'; } // åŠ¨æ€åŠ è½½å­—ä½“ async loadFontForLanguage(language) { const fontConfig = { 'ar': { family: 'Noto Sans Arabic', url: 'https://fonts.googleapis.com/css2?family=Noto+Sans+Arabic:wght@400;700\u0026display=swap' }, 'ja': { family: 'Noto Sans JP', url: 'https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;700\u0026display=swap' }, 'ko': { family: 'Noto Sans KR', url: 'https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;700\u0026display=swap' }, 'th': { family: 'Noto Sans Thai', url: 'https://fonts.googleapis.com/css2?family=Noto+Sans+Thai:wght@400;700\u0026display=swap' } }; const config = fontConfig[language]; if (config) { const link = document.createElement('link'); link.href = config.url; link.rel = 'stylesheet'; document.head.appendChild(link); // ç­‰å¾…å­—ä½“åŠ è½½ await document.fonts.load(`16px ${config.family}`); } } // å¤„ç†æ–‡æœ¬æ–¹å‘ setTextDirection() { const rtlLanguages = ['ar', 'he', 'fa']; const isRTL = rtlLanguages.includes(this.currentLanguage); document.documentElement.dir = isRTL ? 'rtl' : 'ltr'; document.body.classList.toggle('rtl', isRTL); } } èµ„æºæœ¬åœ°åŒ–ç®¡ç† 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 // èµ„æºæœ¬åœ°åŒ–ç³»ç»Ÿ class AssetLocalizationManager { constructor() { this.localizedAssets = new Map(); this.assetCache = new Map(); this.currentRegion = 'global'; } // æ ¹æ®åœ°åŒºåŠ è½½èµ„æº async loadLocalizedAsset(assetType, assetName, region) { const cacheKey = `${region}:${assetType}:${assetName}`; if (this.assetCache.has(cacheKey)) { return this.assetCache.get(cacheKey); } try { // å°è¯•åŠ è½½åœ°åŒºç‰¹å®šèµ„æº let assetUrl = this.getLocalizedAssetUrl(assetType, assetName, region); let asset = await this.loadAsset(assetUrl); // å¦‚æœåœ°åŒºç‰¹å®šèµ„æºä¸å­˜åœ¨ï¼Œä½¿ç”¨å…¨å±€èµ„æº if (!asset \u0026\u0026 region !== 'global') { assetUrl = this.getLocalizedAssetUrl(assetType, assetName, 'global'); asset = await this.loadAsset(assetUrl); } if (asset) { this.assetCache.set(cacheKey, asset); return asset; } } catch (error) { console.error(`Failed to load localized asset: ${assetName}`, error); } return null; } // è·å–æœ¬åœ°åŒ–èµ„æºURL getLocalizedAssetUrl(assetType, assetName, region) { const baseUrl = './assets'; const regionFolder = region !== 'global' ? `/${region}` : ''; switch (assetType) { case 'image': return `${baseUrl}/images${regionFolder}/${assetName}`; case 'audio': return `${baseUrl}/audio${regionFolder}/${assetName}`; case 'video': return `${baseUrl}/video${regionFolder}/${assetName}`; case 'ui': return `${baseUrl}/ui${regionFolder}/${assetName}`; default: return `${baseUrl}${regionFolder}/${assetName}`; } } // åŠ è½½èµ„æº async loadAsset(url) { if (url.endsWith('.json')) { const response = await fetch(url); return await response.json(); } else if (url.match(/\\.(jpg|jpeg|png|gif|webp)$/)) { return new Promise((resolve, reject) =\u003e { const img = new Image(); img.onload = () =\u003e resolve(img); img.onerror = reject; img.src = url; }); } else if (url.match(/\\.(mp3|wav|ogg)$/)) { return new Promise((resolve, reject) =\u003e { const audio = new Audio(); audio.oncanplaythrough = () =\u003e resolve(audio); audio.onerror = reject; audio.src = url; }); } } // é¢„åŠ è½½åœ°åŒºç‰¹å®šèµ„æº async preloadRegionalAssets(region, assetList) { const promises = assetList.map(async (asset) =\u003e { return { type: asset.type, name: asset.name, data: await this.loadLocalizedAsset(asset.type, asset.name, region) }; }); const results = await Promise.allSettled(promises); return results.filter(r =\u003e r.status === 'fulfilled').map(r =\u003e r.value); } // æ¸…ç†ç¼“å­˜ clearCache() { this.assetCache.clear(); } } æ–‡åŒ–é€‚é…ç­–ç•¥ è§†è§‰å…ƒç´ æœ¬åœ°åŒ– 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 162 163 164 165 166 167 168 169 170 171 172 173 174 175 176 177 178 179 180 181 182 183 184 185 186 187 188 189 190 191 192 193 194 195 196 197 198 199 200 201 202 203 204 205 206 207 208 209 210 211 212 213 214 215 216 217 218 219 220 221 222 223 224 225 226 227 228 229 230 231 // æ–‡åŒ–é€‚é…ç®¡ç†å™¨ class CulturalAdaptationManager { constructor() { this.culturalConfigs = new Map(); this.currentCulture = 'default'; this.initCulturalConfigs(); } // åˆå§‹åŒ–æ–‡åŒ–é…ç½® initCulturalConfigs() { // ä¸­ä¸œåœ°åŒºé…ç½® this.culturalConfigs.set('middle-east', { colors: { primary: '#2D5F8C', // æ·±è“è‰²ï¼Œä»£è¡¨ç¨³é‡ secondary: '#D4AF37', // é‡‘è‰²ï¼Œè±¡å¾ç¹è£ danger: '#DC143C', // çº¢è‰²ï¼Œæ³¨æ„ä½¿ç”¨ success: '#228B22' // ç»¿è‰² }, imagery: { avoid: ['pigs', 'alcohol', 'revealing clothing'], prefer: ['geometric', 'calligraphy', 'architecture'] }, ui: { textDirection: 'rtl', fontFamily: 'Noto Sans Arabic', roundedCorners: false, // åå¥½æ–¹æ­£è®¾è®¡ minimalIcons: true // é¿å…å¤æ‚å›¾æ ‡ }, content: { genderRepresentation: 'separate', religiousSensitivity: 'high', familyValues: 'conservative' } }); // ä¸œäºšåœ°åŒºé…ç½® this.culturalConfigs.set('east-asia', { colors: { primary: '#E60012', // ä¸­å›½çº¢ secondary: '#FFD700', // é‡‘è‰² danger: '#FF0000', success: '#00C853' }, imagery: { avoid: ['skulls', 'excessive violence'], prefer: ['dragons', 'nature', 'cute characters'] }, ui: { textDirection: 'ltr', fontFamily: 'Noto Sans CJK', denseLayout: true, // ä¿¡æ¯å¯†åº¦é«˜ cuteElements: true // å¯çˆ±åŒ–å…ƒç´  }, content: { ageRating: 'strict', violence: 'moderate', socialHarmony: 'important' } }); // æ¬§ç¾åœ°åŒºé…ç½® this.culturalConfigs.set('western', { colors: { primary: '#0078D4', // å¾®è½¯è“ secondary: '#50E3C2', danger: '#FF4444', success: '#4CAF50' }, imagery: { avoid: [], prefer: ['realistic', 'diverse', 'modern'] }, ui: { textDirection: 'ltr', fontFamily: 'Roboto, Arial', cleanMinimal: true, highContrast: true }, content: { diversity: 'important', individualism: 'valued', directCommunication: 'preferred' } }); } // åº”ç”¨æ–‡åŒ–é€‚é… applyCulturalAdaptation(culture) { const config = this.culturalConfigs.get(culture); if (!config) return; this.currentCulture = culture; // åº”ç”¨é¢œè‰²ä¸»é¢˜ this.applyColorTheme(config.colors); // åº”ç”¨UIè°ƒæ•´ this.applyUIAdjustments(config.ui); // åº”ç”¨å†…å®¹è¿‡æ»¤ this.applyContentFilters(config.content); } // åº”ç”¨é¢œè‰²ä¸»é¢˜ applyColorTheme(colors) { const root = document.documentElement; root.style.setProperty('--primary-color', colors.primary); root.style.setProperty('--secondary-color', colors.secondary); root.style.setProperty('--danger-color', colors.danger); root.style.setProperty('--success-color', colors.success); } // åº”ç”¨UIè°ƒæ•´ applyUIAdjustments(ui) { const body = document.body; // è®¾ç½®æ–‡æœ¬æ–¹å‘ body.style.direction = ui.textDirection; // è®¾ç½®å­—ä½“ if (ui.fontFamily) { body.style.fontFamily = ui.fontFamily; } // æ·»åŠ æ–‡åŒ–CSSç±» body.classList.add(`culture-${this.currentCulture}`); // è°ƒæ•´é—´è·å’Œå¸ƒå±€ if (ui.denseLayout) { body.classList.add('dense-layout'); } if (ui.roundedCorners === false) { body.classList.add('square-corners'); } } // å†…å®¹è¿‡æ»¤ filterContent(content, type) { const config = this.culturalConfigs.get(this.currentCulture); if (!config || !config.content) return content; switch (type) { case 'image': return this.filterImage(content, config.imagery); case 'text': return this.filterText(content, config.content); case 'audio': return this.filterAudio(content, config.content); default: return content; } } // å›¾ç‰‡è¿‡æ»¤ filterImage(imageUrl, imageryConfig) { // å®ç°å›¾ç‰‡å†…å®¹è¿‡æ»¤é€»è¾‘ // å¯ä»¥ä½¿ç”¨AIå›¾åƒè¯†åˆ«APIæ£€æµ‹æ•æ„Ÿå†…å®¹ return imageUrl; } // æ–‡æœ¬è¿‡æ»¤ filterText(text, contentConfig) { let filteredText = text; // æ ¹æ®æ–‡åŒ–æ•æ„Ÿæ€§è¿‡æ»¤å†…å®¹ if (contentConfig.religiousSensitivity === 'high') { // ç§»é™¤å®—æ•™ç›¸å…³æ•æ„Ÿè¯æ±‡ filteredText = this.removeSensitiveContent(filteredText); } return filteredText; } // è·å–æœ¬åœ°åŒ–æ—¥æœŸæ ¼å¼ getLocalizedDateFormat() { const formats = { 'middle-east': 'DD/MM/YYYY', 'east-asia': 'YYYY/MM/DD', 'western': 'MM/DD/YYYY', 'european': 'DD.MM.YYYY' }; return formats[this.currentCulture] || 'YYYY-MM-DD'; } // è·å–æœ¬åœ°åŒ–æ•°å­—æ ¼å¼ formatNumber(number, type = 'decimal') { const formatters = { 'middle-east': new Intl.NumberFormat('ar-SA'), 'east-asia': new Intl.NumberFormat('zh-CN'), 'western': new Intl.NumberFormat('en-US'), 'european': new Intl.NumberFormat('de-DE') }; const formatter = formatters[this.currentCulture] || new Intl.NumberFormat('en-US'); switch (type) { case 'currency': return formatter.format(number); case 'percent': return formatter.format(number / 100) + '%'; default: return formatter.format(number); } } // è·å–æ–‡åŒ–ç‰¹å®šçš„èŠ‚æ—¥åˆ—è¡¨ getCulturalHolidays() { const holidays = { 'middle-east': [ { name: 'Eid al-Fitr', date: '2024-04-10', type: 'major' }, { name: 'Eid al-Adha', date: '2024-06-17', type: 'major' }, { name: 'Ramadan Start', date: '2024-03-11', type: 'major' } ], 'east-asia': [ { name: 'Chinese New Year', date: '2024-02-10', type: 'major' }, { name: 'Golden Week', date: '2024-04-29', type: 'major' }, { name: 'Mid-Autumn Festival', date: '2024-09-17', type: 'minor' } ], 'western': [ { name: 'Christmas', date: '2024-12-25', type: 'major' }, { name: 'Easter', date: '2024-03-31', type: 'major' }, { name: 'Halloween', date: '2024-10-31', type: 'minor' } ] }; return holidays[this.currentCulture] || []; } } æµ·å¤–å‘è¡Œç­–ç•¥ æ¸ é“é€‰æ‹©ä¸ä¼˜åŒ– 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 162 163 164 165 166 167 168 169 170 171 172 173 174 175 176 177 178 179 180 181 182 183 184 185 186 187 188 189 190 191 192 193 194 195 196 197 198 199 200 201 202 203 204 205 206 207 208 209 210 211 212 213 214 215 216 217 218 // æ¸ é“ç®¡ç†å™¨ class ChannelManager { constructor() { this.channels = new Map(); this.channelMetrics = new Map(); this.initChannels(); } // åˆå§‹åŒ–æ¸ é“é…ç½® initChannels() { // Google Play this.channels.set('google-play', { name: 'Google Play Store', platform: 'android', regions: ['global'], features: { inAppPurchase: true, subscriptions: true, seasonalPromotions: true, preRegistration: true }, optimization: { aso: true, featuredPlacement: true, localPricing: true, betaTesting: true }, costs: { developerFee: 25, revenueShare: 0.30 } }); // App Store this.channels.set('app-store', { name: 'Apple App Store', platform: 'ios', regions: ['global'], features: { inAppPurchase: true, subscriptions: true, appClips: true, arcade: false }, optimization: { aso: true, editorialPlacement: true, searchAds: true, productPage: true }, costs: { developerFee: 99, revenueShare: 0.30 } }); // Steam this.channels.set('steam', { name: 'Steam', platform: 'pc', regions: ['global'], features: { dlc: true, workshop: true, cards: true, achievements: true }, optimization: { discoveryQueue: true, seasonalSales: true, communityFeatures: true, earlyAccess: true }, costs: { submissionFee: 100, revenueShare: { 0.30: 1000000, 0.25: 50000000, 0.20: Infinity } } }); // Nintendo eShop this.channels.set('eshop', { name: 'Nintendo eShop', platform: 'switch', regions: ['americas', 'europe', 'asia'], features: { demoVersions: true, discounts: true, goldPoints: true, multiplayer: true }, optimization: { featuredBanners: true, eshopSales: true, socialMediaIntegration: true }, costs: { developerProgram: 500, revenueShare: 0.30 } }); } // è·å–æ¨èæ¸ é“ getRecommendedChannels(targetPlatform, targetRegion, gameType) { const recommendations = []; this.channels.forEach((channel, channelKey) =\u003e { if (channel.platform === targetPlatform || targetPlatform === 'all') { if (channel.regions.includes('global') || channel.regions.includes(targetRegion)) { recommendations.push({ id: channelKey, name: channel.name, matchScore: this.calculateMatchScore(channel, gameType) }); } } }); return recommendations.sort((a, b) =\u003e b.matchScore - a.matchScore); } // è®¡ç®—æ¸ é“åŒ¹é…åº¦ calculateMatchScore(channel, gameType) { let score = 50; // åŸºç¡€åˆ†æ•° // æ ¹æ®æ¸¸æˆç±»å‹è°ƒæ•´åˆ†æ•° if (gameType === 'casual' \u0026\u0026 channel.features?.seasonalPromotions) { score += 20; } if (gameType === 'indie' \u0026\u0026 channel.platform === 'steam') { score += 30; } if (gameType === 'mobile' \u0026\u0026 (channel.platform === 'android' || channel.platform === 'ios')) { score += 25; } return score; } // æ¸ é“å‘å¸ƒæ£€æŸ¥æ¸…å• getPublishingChecklist(channelKey) { const channel = this.channels.get(channelKey); if (!channel) return []; const checklist = [ { category: 'legal', items: [ { task: 'éšç§æ”¿ç­–', required: true }, { task: 'æœåŠ¡æ¡æ¬¾', required: true }, { task: 'ç‰ˆæƒå£°æ˜', required: true }, { task: 'åœ°åŒºæ³•è§„ç¬¦åˆ', required: true } ] }, { category: 'technical', items: [ { task: 'åº”ç”¨ç­¾å', required: true }, { task: 'æƒé™å£°æ˜', required: true }, { task: 'å´©æºƒæŠ¥å‘Š', required: false }, { task: 'æ€§èƒ½ä¼˜åŒ–', required: false } ] }, { category: 'content', items: [ { task: 'æœ¬åœ°åŒ–å®Œæˆ', required: true }, { task: 'æˆªå›¾å’Œè§†é¢‘', required: true }, { task: 'æè¿°æ–‡æ¡ˆ', required: true }, { task: 'å…³é”®è¯ä¼˜åŒ–', required: false } ] }, { category: 'monetization', items: [ { task: 'å®šä»·ç­–ç•¥', required: true }, { task: 'å†…è´­é…ç½®', required: false }, { task: 'å¹¿å‘Šé›†æˆ', required: false }, { task: 'è®¢é˜…è®¾ç½®', required: false } ] } ]; return checklist; } // æ¸ é“æ”¶ç›Šåˆ†æ analyzeChannelRevenue(channelKey, metrics) { const channel = this.channels.get(channelKey); if (!channel) return null; const revenue = metrics.revenue || 0; const downloads = metrics.downloads || 0; const revenueShare = channel.costs.revenueShare; // è®¡ç®—å‡€æ”¶ç›Š let netRevenue = revenue; if (typeof revenueShare === 'number') { netRevenue = revenue * (1 - revenueShare); } else if (typeof revenueShare === 'object') { // é˜¶æ¢¯å¼åˆ†æˆ for (const [share, threshold] of Object.entries(revenueShare)) { if (revenue \u003c= threshold) { netRevenue = revenue * (1 - parseFloat(share)); break; } } } return { grossRevenue: revenue, netRevenue, channelFee: revenue - netRevenue, arpd: downloads \u003e 0 ? revenue / downloads : 0, profitMargin: revenue \u003e 0 ? (netRevenue / revenue) * 100 : 0 }; } } ç”¨æˆ·è·å–ç­–ç•¥ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 162 163 164 165 166 167 168 169 170 171 172 173 174 175 176 177 178 179 180 181 182 183 184 185 186 187 188 189 190 // ç”¨æˆ·è·å–ç®¡ç†å™¨ class UserAcquisitionManager { constructor() { this.campaigns = new Map(); this.metrics = new Map(); this.attributionModel = 'last_click'; } // åˆ›å»ºè¥é”€æ´»åŠ¨ createCampaign(config) { const campaign = { id: this.generateCampaignId(), name: config.name, type: config.type, // 'cpi', 'cpa', 'cpm', 'organic' platform: config.platform, region: config.region, budget: config.budget, targeting: config.targeting, creative: config.creative, startDate: config.startDate, endDate: config.endDate, status: 'active', metrics: { impressions: 0, clicks: 0, installs: 0, cost: 0, revenue: 0, roas: 0 } }; this.campaigns.set(campaign.id, campaign); return campaign; } // è·å–ç”¨æˆ·æ¥æºåˆ†æ getUserSourceAnalysis(timeRange = '30d') { const sources = { organic: { users: 0, revenue: 0, retention: [] }, paid_social: { users: 0, revenue: 0, retention: [] }, paid_search: { users: 0, revenue: 0, retention: [] }, influencer: { users: 0, revenue: 0, retention: [] }, referral: { users: 0, revenue: 0, retention: [] } }; // åˆ†æå„æ¸ é“æ•°æ® this.metrics.forEach((userMetrics, userId) =\u003e { const source = userMetrics.acquisitionSource; if (sources[source]) { sources[source].users++; sources[source].revenue += userMetrics.ltv || 0; sources[source].retention.push(userMetrics.retention || 0); } }); // è®¡ç®—å¹³å‡å€¼ Object.keys(sources).forEach(source =\u003e { const retentionData = sources[source].retention; sources[source].avgRetention = retentionData.length \u003e 0 ? retentionData.reduce((a, b) =\u003e a + b, 0) / retentionData.length : 0; }); return sources; } // A/Bæµ‹è¯•å¹¿å‘Šç´ æ async testAdCreatives(campaignId, creatives) { const results = []; for (const creative of creatives) { const testResult = await this.runAdTest(campaignId, creative); results.push({ creative: creative, cpm: testResult.cpm, ctr: testResult.ctr, cpi: testResult.cpi, roas: testResult.roas, significance: testResult.significance }); } // æ’åºå¹¶æ¨èæœ€ä½³ç´ æ return results.sort((a, b) =\u003e b.roas - a.roas); } // è¿è¡Œå¹¿å‘Šæµ‹è¯• async runAdTest(campaignId, creative) { // å®ç°A/Bæµ‹è¯•é€»è¾‘ // è¿”å›æµ‹è¯•æŒ‡æ ‡ return { cpm: 2.5, ctr: 0.015, cpi: 1.2, roas: 2.8, significance: 0.95 }; } // è®¡ç®—LTV/CACæ¯”ç‡ calculateLTVCACRatio() { let totalLTV = 0; let totalCAC = 0; let userCount = 0; this.metrics.forEach((metrics) =\u003e { if (metrics.ltv \u0026\u0026 metrics.cac) { totalLTV += metrics.ltv; totalCAC += metrics.cac; userCount++; } }); if (userCount === 0) return 0; const avgLTV = totalLTV / userCount; const avgCAC = totalCAC / userCount; return avgLTV / avgCAC; } // ç”Ÿæˆç”¨æˆ·è·å–æŠ¥å‘Š generateAcquisitionReport(timeRange = '7d') { const report = { period: timeRange, totalUsers: 0, totalCost: 0, totalRevenue: 0, avgCAC: 0, avgLTV: 0, ltvCACRatio: this.calculateLTVCACRatio(), topChannels: [], recommendations: [] }; // ç»Ÿè®¡æ•°æ® this.campaigns.forEach((campaign) =\u003e { if (this.isCampaignInPeriod(campaign, timeRange)) { report.totalUsers += campaign.metrics.installs; report.totalCost += campaign.metrics.cost; report.totalRevenue += campaign.metrics.revenue; } }); // è®¡ç®—å¹³å‡å€¼ if (report.totalUsers \u003e 0) { report.avgCAC = report.totalCost / report.totalUsers; report.avgLTV = report.totalRevenue / report.totalUsers; } // ç”Ÿæˆå»ºè®® report.recommendations = this.generateRecommendations(report); return report; } // ç”Ÿæˆä¼˜åŒ–å»ºè®® generateRecommendations(report) { const recommendations = []; if (report.ltvCACRatio \u003c 1) { recommendations.push({ type: 'warning', message: 'LTV/CACæ¯”ç‡ä½äº1ï¼Œéœ€è¦ä¼˜åŒ–ç”¨æˆ·è·å–ç­–ç•¥', actions: ['æé«˜ç”¨æˆ·ç•™å­˜', 'ä¼˜åŒ–å¹¿å‘Šç´ æ', 'è°ƒæ•´ç›®æ ‡å—ä¼—'] }); } if (report.avgCAC \u003e report.avgLTV * 0.3) { recommendations.push({ type: 'info', message: 'è·å®¢æˆæœ¬åé«˜ï¼Œå»ºè®®ä¼˜åŒ–æŠ•æ”¾æ¸ é“', actions: ['æµ‹è¯•æ–°æ¸ é“', 'ä¼˜åŒ–æŠ•æ”¾æ—¶æ®µ', 'æ”¹è¿›è½åœ°é¡µ'] }); } return recommendations; } // ç”Ÿæˆæ´»åŠ¨ID generateCampaignId() { return 'camp_' + Date.now().toString(36) + Math.random().toString(36).substr(2); } // æ£€æŸ¥æ´»åŠ¨æ˜¯å¦åœ¨æŒ‡å®šæ—¶é—´èŒƒå›´å†… isCampaignInPeriod(campaign, timeRange) { // å®ç°æ—¶é—´èŒƒå›´æ£€æŸ¥é€»è¾‘ return true; } } æ€»ç»“ æ¸¸æˆå‡ºæµ·æˆåŠŸçš„å…³é”®è¦ç´ ï¼š\næœ¬åœ°åŒ–æ·±åº¦ï¼š\nè¯­è¨€ç¿»è¯‘çš„å‡†ç¡®æ€§å’Œæ–‡åŒ–é€‚åº”æ€§ è§†è§‰å…ƒç´ çš„æ–‡åŒ–æ•æ„Ÿåº¦å¤„ç† ç”¨æˆ·ä½“éªŒçš„æœ¬åœ°åŒ–ä¼˜åŒ– ç¤¾äº¤åŠŸèƒ½çš„æœ¬åœ°åŒ–è°ƒæ•´ å‘è¡Œç­–ç•¥ï¼š\nåˆé€‚çš„æ¸ é“é€‰æ‹©å’Œç»„åˆ ç²¾å‡†çš„ç”¨æˆ·è·å–ç­–ç•¥ æ•°æ®é©±åŠ¨çš„ä¼˜åŒ–å†³ç­– æŒç»­çš„å¸‚åœºç›‘æ§å’Œè°ƒæ•´ è¿è¥è¦ç‚¹ï¼š\næ·±åº¦ç†è§£ç›®æ ‡å¸‚åœºæ–‡åŒ– å»ºç«‹æœ¬åœ°åŒ–è¿è¥å›¢é˜Ÿ é€‚åº”ä¸åŒåœ°åŒºçš„æ³•è§„è¦æ±‚ ä¿æŒäº§å“æŒç»­ä¼˜åŒ– æˆåŠŸæŒ‡æ ‡ï¼š\nç”¨æˆ·ç•™å­˜ç‡ ä»˜è´¹è½¬åŒ–ç‡ LTV/CACæ¯”ç‡ å¸‚åœºä»½é¢å¢é•¿ é€šè¿‡ç³»ç»ŸåŒ–çš„å‡ºæµ·ç­–ç•¥ï¼Œä¸­å›½æ¸¸æˆä¼ä¸šå¯ä»¥åœ¨å…¨çƒå¸‚åœºå–å¾—æˆåŠŸï¼Œå®ç°å•†ä¸šä»·å€¼å’Œæ–‡åŒ–å½±å“åŠ›çš„åŒé‡æå‡ã€‚\nç›¸å…³èµ„æºï¼š\nGoogle Play Console Apple App Store Connect Steamworks æ¸¸æˆæœ¬åœ°åŒ–æœ€ä½³å®è·µ ","wordCount":"3732","inLanguage":"zh-cn","datePublished":"2025-12-20T13:00:00+08:00","dateModified":"2025-12-20T13:00:00+08:00","author":{"@type":"Person","name":"Util Tech Team"},"mainEntityOfPage":{"@type":"WebPage","@id":"/blog/articles/game-localization-overseas-strategy/"},"publisher":{"@type":"Organization","name":"æŠ€æœ¯åšå®¢ - æœ‰æ¡å·¥å…·","logo":{"@type":"ImageObject","url":"/favicon.ico"}}}</script></head><body id=top><header class=header><nav class=nav><div class=logo><a href=/blog/ accesskey=h title="æŠ€æœ¯åšå®¢ - æœ‰æ¡å·¥å…· (Alt + H)">æŠ€æœ¯åšå®¢ - æœ‰æ¡å·¥å…·</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=/blog/posts/ title="æ‰€æœ‰æ–‡ç« åˆ—è¡¨ - æœ‰æ¡å·¥å…·æŠ€æœ¯åšå®¢ï¼šæŸ¥çœ‹æ‰€æœ‰æŠ€æœ¯æ–‡ç« å’Œæ•™ç¨‹å†…å®¹"><span>æ–‡ç« </span></a></li><li><a href=https://www.util.cn title="æœ‰æ¡å·¥å…· - å¼€å‘è€…çš„å¸¸ç”¨å·¥å…·é›†åˆï¼šæ— å¹¿å‘Š Â· æœ¬åœ°è®¡ç®— Â· å³å¼€å³ç”¨çš„åœ¨çº¿å·¥å…·å¹³å°ï¼Œæä¾›JSONæ ¼å¼åŒ–ã€SQLæ ¼å¼åŒ–ã€Markdownç¼–è¾‘å™¨ç­‰å®ç”¨å·¥å…·"><span>æœ‰æ¡å·¥å…·</span>&nbsp;
<svg fill="none" shape-rendering="geometricPrecision" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"/><path d="M15 3h6v6"/><path d="M10 14 21 3"/></svg></a></li><li><a href=/blog/categories/ title="æ–‡ç« åˆ†ç±» - æœ‰æ¡å·¥å…·æŠ€æœ¯åšå®¢ï¼šæŒ‰æŠ€æœ¯é¢†åŸŸåˆ†ç±»çš„ä¼˜è´¨æ–‡ç« ï¼ŒåŒ…æ‹¬å‰ç«¯å¼€å‘ã€å·¥å…·ä½¿ç”¨ã€ç¼–ç¨‹æŠ€å·§ç­‰"><span>åˆ†ç±»</span></a></li><li><a href=/blog/tags/ title="æ ‡ç­¾äº‘ - æœ‰æ¡å·¥å…·æŠ€æœ¯åšå®¢ï¼šé€šè¿‡æ ‡ç­¾å¿«é€Ÿæ‰¾åˆ°æ„Ÿå…´è¶£çš„æŠ€æœ¯æ–‡ç« å’Œæ•™ç¨‹å†…å®¹"><span>æ ‡ç­¾</span></a></li><li><a href=/blog/archives/ title="æ–‡ç« å½’æ¡£ - æœ‰æ¡å·¥å…·æŠ€æœ¯åšå®¢ï¼šæŒ‰æ—¶é—´æŸ¥çœ‹å†å²æ–‡ç« "><span>å½’æ¡£</span></a></li><li><a href=/blog/search/ title="æœç´¢æ–‡ç«  - æœ‰æ¡å·¥å…·æŠ€æœ¯åšå®¢ï¼šé€šè¿‡å…³é”®è¯æœç´¢æ‰¾åˆ°æ„Ÿå…´è¶£çš„æŠ€æœ¯æ–‡ç« å’Œæ•™ç¨‹å†…å®¹ï¼Œæ”¯æŒæ ‡é¢˜ã€å†…å®¹ã€åˆ†ç±»å’Œæ ‡ç­¾æœç´¢"><span>æœç´¢</span></a></li></ul></nav></header><main class=main><article class=post-single><div class=post-content-wrapper><main class=post-content-main><header class=post-header-main><h1 class="post-title entry-hint-parent">æ¸¸æˆå‡ºæµ·å…¨æ”»ç•¥ï¼šä»æœ¬åœŸåŒ–åˆ°å…¨çƒå‘è¡Œçš„åˆ¶èƒœä¹‹é“</h1><div class=post-description>æœ¬æ–‡å…¨é¢ä»‹ç»æ¸¸æˆå‡ºæµ·çš„å„ä¸ªå…³é”®ç¯èŠ‚ï¼ŒåŒ…æ‹¬æœ¬åœ°åŒ–ç¿»è¯‘ã€æ–‡åŒ–é€‚åº”ã€æµ·å¤–å‘è¡Œæ¸ é“ã€ç”¨æˆ·è¿è¥ç­‰æ ¸å¿ƒç­–ç•¥ã€‚</div><div class=post-meta><div class=post-meta-content><div class=post-categories-inline><a href=/blog/categories/%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/ class=category-link>æ¸¸æˆå¼€å‘</a><a href=/blog/categories/%E6%B5%B7%E5%A4%96%E8%BF%90%E8%90%A5/ class=category-link>æµ·å¤–è¿è¥</a></div><span class=post-date>2025-12-20</span><span class=post-author>Util Tech Team</span></div><style>.post-meta-content{display:flex;align-items:center;flex-wrap:wrap;gap:.75rem;font-family:sf mono,monaco,courier new,monospace;font-size:.875rem;color:#9ca3af !important}.post-categories-inline{display:inline-flex;align-items:center;gap:.5rem}.category-link{display:inline-flex;align-items:center;gap:.25rem;padding:.25rem .75rem;background:rgba(255,255,255,.1);color:#e5e7eb !important;text-decoration:none;font-size:.75rem;font-weight:600;text-transform:uppercase;letter-spacing:.05em;border:1px solid rgba(255,255,255,.2);border-radius:0;transition:all .3s ease;white-space:nowrap}.category-link:hover{background:rgba(255,255,255,.2);color:#fff !important;border-color:rgba(255,255,255,.3);transform:translateY(-1px)}.category-link::before{content:'ğŸ“';font-size:.7rem;opacity:.8}.post-date,.post-reading-time,.post-word-count,.post-author{color:#9ca3af !important}[data-theme=dark] .post-meta-content{color:#9ca3af !important}[data-theme=dark] .category-link{background:rgba(255,255,255,.1);color:#e5e7eb !important;border-color:rgba(255,255,255,.2)}[data-theme=dark] .category-link:hover{background:rgba(255,255,255,.2);color:#fff !important;border-color:rgba(255,255,255,.3)}[data-theme=dark] .post-date,[data-theme=dark] .post-reading-time,[data-theme=dark] .post-word-count,[data-theme=dark] .post-author{color:#9ca3af !important}[data-theme=light] .post-meta-content{color:#6c757d !important}[data-theme=light] .category-link{background:rgba(0,0,0,5%);color:#495057 !important;border-color:rgba(0,0,0,.15)}[data-theme=light] .category-link:hover{background:rgba(0,102,204,.1);color:#212529 !important;border-color:rgba(0,102,204,.3)}[data-theme=light] .post-date,[data-theme=light] .post-reading-time,[data-theme=light] .post-word-count,[data-theme=light] .post-author{color:#6c757d !important}@media(max-width:768px){.post-meta-content{gap:.5rem;font-size:.8rem}.category-link{padding:.2rem .6rem;font-size:.7rem}}</style></div></header><div class=post-content><h2 id=å¼•è¨€>å¼•è¨€<a hidden class=anchor aria-hidden=true href=#å¼•è¨€>#</a></h2><p>2024å¹´å…¨çƒæ¸¸æˆå¸‚åœºè§„æ¨¡è¾¾åˆ°2000äº¿ç¾å…ƒï¼Œå…¶ä¸­ä¸­å›½æ¸¸æˆæµ·å¤–æ”¶å…¥è¶…è¿‡180äº¿ç¾å…ƒã€‚æ¸¸æˆå‡ºæµ·å·²æˆä¸ºä¸­å›½æ¸¸æˆä¼ä¸šçš„é‡è¦å¢é•¿å¼•æ“ã€‚ç„¶è€Œï¼ŒæˆåŠŸçš„å‡ºæµ·ä¸ä»…ä»…æ˜¯ç®€å•çš„è¯­è¨€ç¿»è¯‘ï¼Œæ›´éœ€è¦æ·±åº¦çš„æ–‡åŒ–ç†è§£ã€æœ¬åœ°åŒ–é€‚é…å’Œå…¨çƒåŒ–è¿è¥ç­–ç•¥ã€‚æœ¬æ–‡å°†æ·±å…¥æ¢è®¨æ¸¸æˆå‡ºæµ·çš„å…¨é“¾è·¯è§£å†³æ–¹æ¡ˆã€‚</p><h2 id=æµ·å¤–å¸‚åœºåˆ†æ>æµ·å¤–å¸‚åœºåˆ†æ<a hidden class=anchor aria-hidden=true href=#æµ·å¤–å¸‚åœºåˆ†æ>#</a></h2><h3 id=ä¸»è¦å¸‚åœºç‰¹ç‚¹>ä¸»è¦å¸‚åœºç‰¹ç‚¹<a hidden class=anchor aria-hidden=true href=#ä¸»è¦å¸‚åœºç‰¹ç‚¹>#</a></h3><h4 id=åŒ—ç¾å¸‚åœº>åŒ—ç¾å¸‚åœº<a hidden class=anchor aria-hidden=true href=#åŒ—ç¾å¸‚åœº>#</a></h4><p><strong>å¸‚åœºè§„æ¨¡ï¼š</strong> çº¦600äº¿ç¾å…ƒ
<strong>ç”¨æˆ·ç‰¹ç‚¹ï¼š</strong></p><ul><li>ä»˜è´¹æ„æ„¿é«˜ï¼ŒARPPUé¢†å…ˆå…¨çƒ</li><li>ä¸»æµå¹³å°ï¼šPCã€ä¸»æœºã€ç§»åŠ¨ç«¯å‡è¡¡</li><li>åå¥½ï¼šé«˜è´¨é‡ç”»é¢ã€æ·±åº¦ç©æ³•ã€IPæ”¹ç¼–æ¸¸æˆ</li></ul><p><strong>æˆåŠŸæ¡ˆä¾‹ï¼š</strong></p><ul><li>ã€ŠåŸç¥ã€‹æœˆæ”¶å…¥è¶…è¿‡1äº¿ç¾å…ƒ</li><li>ã€ŠPUBG Mobileã€‹æŒç»­éœ¸æ¦œ</li></ul><p><strong>å¸‚åœºç­–ç•¥ï¼š</strong></p><div class=highlight><div style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:2;-o-tab-size:2;tab-size:2><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">36
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#8b949e;font-style:italic>// åŒ—ç¾å¸‚åœºæœ¬åœ°åŒ–é…ç½®
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span><span style=color:#ff7b72>const</span> naMarketConfig <span style=color:#ff7b72;font-weight:700>=</span> {
</span></span><span style=display:flex><span>  pricing<span style=color:#ff7b72;font-weight:700>:</span> {
</span></span><span style=display:flex><span>    tier1<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>0.99</span>,    <span style=color:#8b949e;font-style:italic>// åŸºç¡€æ¡£ä½
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    tier2<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>4.99</span>,
</span></span><span style=display:flex><span>    tier3<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>9.99</span>,
</span></span><span style=display:flex><span>    tier4<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>19.99</span>,
</span></span><span style=display:flex><span>    tier5<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>49.99</span>
</span></span><span style=display:flex><span>  },
</span></span><span style=display:flex><span>  events<span style=color:#ff7b72;font-weight:700>:</span> {
</span></span><span style=display:flex><span>    thanksgiving<span style=color:#ff7b72;font-weight:700>:</span> {
</span></span><span style=display:flex><span>      name<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#34;Thanksgiving Festival&#34;</span>,
</span></span><span style=display:flex><span>      startDate<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#34;2024-11-28&#34;</span>,
</span></span><span style=display:flex><span>      endDate<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#34;2024-12-02&#34;</span>,
</span></span><span style=display:flex><span>      discounts<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>0.3</span>
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>    blackFriday<span style=color:#ff7b72;font-weight:700>:</span> {
</span></span><span style=display:flex><span>      name<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#34;Black Friday Special&#34;</span>,
</span></span><span style=display:flex><span>      startDate<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#34;2024-11-29&#34;</span>,
</span></span><span style=display:flex><span>      endDate<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#34;2024-12-01&#34;</span>,
</span></span><span style=display:flex><span>      discounts<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>0.5</span>
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>    christmas<span style=color:#ff7b72;font-weight:700>:</span> {
</span></span><span style=display:flex><span>      name<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#34;Winter Holiday&#34;</span>,
</span></span><span style=display:flex><span>      startDate<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#34;2024-12-20&#34;</span>,
</span></span><span style=display:flex><span>      endDate<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#34;2025-01-03&#34;</span>,
</span></span><span style=display:flex><span>      discounts<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>0.25</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  },
</span></span><span style=display:flex><span>  features<span style=color:#ff7b72;font-weight:700>:</span> {
</span></span><span style=display:flex><span>    englishVoice<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#79c0ff>true</span>,
</span></span><span style=display:flex><span>    textSize<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#34;normal&#34;</span>,  <span style=color:#8b949e;font-style:italic>// è€å¹´ç”¨æˆ·å‹å¥½
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    autoPlay<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#79c0ff>true</span>,     <span style=color:#8b949e;font-style:italic>// ä¼‘é—²ç©å®¶éœ€æ±‚
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    crossSave<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#79c0ff>true</span>     <span style=color:#8b949e;font-style:italic>// å¤šå¹³å°åŒæ­¥
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>  }
</span></span><span style=display:flex><span>}
</span></span></code></pre></td></tr></table></div></div><h4 id=æ¬§æ´²å¸‚åœº>æ¬§æ´²å¸‚åœº<a hidden class=anchor aria-hidden=true href=#æ¬§æ´²å¸‚åœº>#</a></h4><p><strong>å¸‚åœºè§„æ¨¡ï¼š</strong> çº¦450äº¿ç¾å…ƒ
<strong>ç‰¹ç‚¹åˆ†æï¼š</strong></p><ul><li>å¤šè¯­è¨€ç¯å¢ƒå¤æ‚ï¼ˆè‹±ã€å¾·ã€æ³•ã€è¥¿ã€æ„ç­‰ï¼‰</li><li>å®¡æ ¸ä¸¥æ ¼ï¼Œç‰¹åˆ«æ˜¯å¾·å›½å’Œæ³•å›½</li><li>æ•°æ®éšç§ä¿æŠ¤è¦æ±‚é«˜ï¼ˆGDPRï¼‰</li><li>PCå’Œä¸»æœºæ–‡åŒ–æ·±åš</li></ul><p><strong>åˆè§„ç­–ç•¥ï¼š</strong></p><div class=highlight><div style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:2;-o-tab-size:2;tab-size:2><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">56
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">57
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">58
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">59
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">60
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">61
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">62
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">63
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">64
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">65
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">66
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">67
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">68
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">69
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">70
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">71
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">72
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">73
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">74
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">75
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">76
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">77
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">78
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">79
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">80
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">81
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">82
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">83
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">84
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">85
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">86
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#8b949e;font-style:italic>// GDPRåˆè§„å®ç°
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span><span style=color:#ff7b72>class</span> GDPRCompliance {
</span></span><span style=display:flex><span>  constructor() {
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>this</span>.consentData <span style=color:#ff7b72;font-weight:700>=</span> {};
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>this</span>.privacySettings <span style=color:#ff7b72;font-weight:700>=</span> {
</span></span><span style=display:flex><span>      analytics<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#79c0ff>false</span>,
</span></span><span style=display:flex><span>      advertising<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#79c0ff>false</span>,
</span></span><span style=display:flex><span>      crashReporting<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#79c0ff>true</span>,
</span></span><span style=display:flex><span>      performance<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#79c0ff>false</span>
</span></span><span style=display:flex><span>    };
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#8b949e;font-style:italic>// æ˜¾ç¤ºéšç§æ”¿ç­–
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>  showPrivacyDialog() {
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>return</span> <span style=color:#ff7b72>new</span> Promise((resolve) =&gt; {
</span></span><span style=display:flex><span>      <span style=color:#ff7b72>const</span> dialog <span style=color:#ff7b72;font-weight:700>=</span> {
</span></span><span style=display:flex><span>        title<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#ff7b72>this</span>.getLocalizedText(<span style=color:#a5d6ff>&#39;privacy.title&#39;</span>),
</span></span><span style=display:flex><span>        content<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#ff7b72>this</span>.getLocalizedText(<span style=color:#a5d6ff>&#39;privacy.content&#39;</span>),
</span></span><span style=display:flex><span>        buttons<span style=color:#ff7b72;font-weight:700>:</span> [
</span></span><span style=display:flex><span>          {
</span></span><span style=display:flex><span>            text<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#ff7b72>this</span>.getLocalizedText(<span style=color:#a5d6ff>&#39;privacy.accept_all&#39;</span>),
</span></span><span style=display:flex><span>            action<span style=color:#ff7b72;font-weight:700>:</span> () =&gt; <span style=color:#ff7b72>this</span>.acceptAllConsents()
</span></span><span style=display:flex><span>          },
</span></span><span style=display:flex><span>          {
</span></span><span style=display:flex><span>            text<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#ff7b72>this</span>.getLocalizedText(<span style=color:#a5d6ff>&#39;privacy.customize&#39;</span>),
</span></span><span style=display:flex><span>            action<span style=color:#ff7b72;font-weight:700>:</span> () =&gt; <span style=color:#ff7b72>this</span>.showCustomizeDialog()
</span></span><span style=display:flex><span>          },
</span></span><span style=display:flex><span>          {
</span></span><span style=display:flex><span>            text<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#ff7b72>this</span>.getLocalizedText(<span style=color:#a5d6ff>&#39;privacy.reject&#39;</span>),
</span></span><span style=display:flex><span>            action<span style=color:#ff7b72;font-weight:700>:</span> () =&gt; <span style=color:#ff7b72>this</span>.rejectAllConsents()
</span></span><span style=display:flex><span>          }
</span></span><span style=display:flex><span>        ]
</span></span><span style=display:flex><span>      };
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#ff7b72>this</span>.showDialog(dialog, resolve);
</span></span><span style=display:flex><span>    });
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#8b949e;font-style:italic>// è·å–æœ¬åœ°åŒ–æ–‡æœ¬
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>  getLocalizedText(key) {
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>const</span> texts <span style=color:#ff7b72;font-weight:700>=</span> {
</span></span><span style=display:flex><span>      <span style=color:#a5d6ff>&#39;en&#39;</span><span style=color:#ff7b72;font-weight:700>:</span> {
</span></span><span style=display:flex><span>        <span style=color:#a5d6ff>&#39;privacy.title&#39;</span><span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;Privacy &amp; Data&#39;</span>,
</span></span><span style=display:flex><span>        <span style=color:#a5d6ff>&#39;privacy.content&#39;</span><span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;We use cookies and data to...&#39;</span>,
</span></span><span style=display:flex><span>        <span style=color:#a5d6ff>&#39;privacy.accept_all&#39;</span><span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;Accept All&#39;</span>,
</span></span><span style=display:flex><span>        <span style=color:#a5d6ff>&#39;privacy.customize&#39;</span><span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;Customize&#39;</span>,
</span></span><span style=display:flex><span>        <span style=color:#a5d6ff>&#39;privacy.reject&#39;</span><span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;Reject&#39;</span>
</span></span><span style=display:flex><span>      },
</span></span><span style=display:flex><span>      <span style=color:#a5d6ff>&#39;de&#39;</span><span style=color:#ff7b72;font-weight:700>:</span> {
</span></span><span style=display:flex><span>        <span style=color:#a5d6ff>&#39;privacy.title&#39;</span><span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;Datenschutz&#39;</span>,
</span></span><span style=display:flex><span>        <span style=color:#a5d6ff>&#39;privacy.content&#39;</span><span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;Wir verwenden Cookies...&#39;</span>,
</span></span><span style=display:flex><span>        <span style=color:#a5d6ff>&#39;privacy.accept_all&#39;</span><span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;Alle akzeptieren&#39;</span>,
</span></span><span style=display:flex><span>        <span style=color:#a5d6ff>&#39;privacy.customize&#39;</span><span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;Anpassen&#39;</span>,
</span></span><span style=display:flex><span>        <span style=color:#a5d6ff>&#39;privacy.reject&#39;</span><span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;Ablehnen&#39;</span>
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>    };
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>const</span> locale <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#ff7b72>this</span>.getUserLocale();
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>return</span> texts[locale]<span style=color:#ff7b72;font-weight:700>?</span>.[key] <span style=color:#ff7b72;font-weight:700>||</span> texts[<span style=color:#a5d6ff>&#39;en&#39;</span>][key];
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#8b949e;font-style:italic>// æ•°æ®å¤„ç†å‰æ£€æŸ¥
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>  checkConsent(dataType) {
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>return</span> <span style=color:#ff7b72>this</span>.privacySettings[dataType] <span style=color:#ff7b72;font-weight:700>||</span> <span style=color:#ff7b72>this</span>.isEssentialData(dataType);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#8b949e;font-style:italic>// æ•°æ®åˆ é™¤è¯·æ±‚å¤„ç†
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>  handleDataDeletionRequest(userId) {
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>return</span> <span style=color:#ff7b72>new</span> Promise(<span style=color:#ff7b72>async</span> (resolve) =&gt; {
</span></span><span style=display:flex><span>      <span style=color:#ff7b72>try</span> {
</span></span><span style=display:flex><span>        <span style=color:#8b949e;font-style:italic>// åˆ é™¤ç”¨æˆ·æ•°æ®
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>        <span style=color:#ff7b72>await</span> <span style=color:#ff7b72>this</span>.deleteUserData(userId);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#8b949e;font-style:italic>// ç”Ÿæˆåˆ é™¤æŠ¥å‘Š
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>        <span style=color:#ff7b72>const</span> report <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#ff7b72>await</span> <span style=color:#ff7b72>this</span>.generateDeletionReport(userId);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#8b949e;font-style:italic>// é€šçŸ¥ç”¨æˆ·
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>        <span style=color:#ff7b72>this</span>.notifyDeletionComplete(userId);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        resolve({ success<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#79c0ff>true</span>, report });
</span></span><span style=display:flex><span>      } <span style=color:#ff7b72>catch</span> (error) {
</span></span><span style=display:flex><span>        resolve({ success<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#79c0ff>false</span>, error<span style=color:#ff7b72;font-weight:700>:</span> error.message });
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>    });
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span></code></pre></td></tr></table></div></div><h4 id=æ—¥éŸ©å¸‚åœº>æ—¥éŸ©å¸‚åœº<a hidden class=anchor aria-hidden=true href=#æ—¥éŸ©å¸‚åœº>#</a></h4><p><strong>æ—¥æœ¬å¸‚åœºï¼š</strong></p><ul><li>å¸‚åœºè§„æ¨¡ï¼š180äº¿ç¾å…ƒ</li><li>ç”¨æˆ·ç‰¹å¾ï¼šå¿ è¯šåº¦é«˜ï¼Œå–œæ¬¢IPè”åŠ¨</li><li>ä¸»æµç±»å‹ï¼šRPGã€éŸ³æ¸¸ã€å¡ç‰Œæ¸¸æˆ</li><li>ä»˜è´¹ä¹ æƒ¯ï¼šè¯¾é‡‘æ–‡åŒ–æ·±åš</li></ul><p><strong>éŸ©å›½å¸‚åœºï¼š</strong></p><ul><li>å¸‚åœºè§„æ¨¡ï¼š70äº¿ç¾å…ƒ</li><li>ç”¨æˆ·ç‰¹å¾ï¼šç«æŠ€æ€§å¼ºï¼Œå–œæ¬¢PVP</li><li>ä¸»æµç±»å‹ï¼šMMORPGã€MOBA</li><li>å‘è¡Œè¦æ±‚ï¼šéœ€è¦æ¸¸æˆåˆ†çº§è®¤è¯</li></ul><p><strong>æœ¬åœ°åŒ–ç­–ç•¥ï¼š</strong></p><div class=highlight><div style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:2;-o-tab-size:2;tab-size:2><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">36
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#8b949e;font-style:italic>// æ—¥éŸ©å¸‚åœºæœ¬åœ°åŒ–
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span><span style=color:#ff7b72>const</span> jpkrConfig <span style=color:#ff7b72;font-weight:700>=</span> {
</span></span><span style=display:flex><span>  jp<span style=color:#ff7b72;font-weight:700>:</span> {
</span></span><span style=display:flex><span>    language<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;ja&#39;</span>,
</span></span><span style=display:flex><span>    textDirection<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;ltr&#39;</span>,
</span></span><span style=display:flex><span>    currency<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;JPY&#39;</span>,
</span></span><span style=display:flex><span>    dateFormat<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;YYYY/MM/DD&#39;</span>,
</span></span><span style=display:flex><span>    features<span style=color:#ff7b72;font-weight:700>:</span> {
</span></span><span style=display:flex><span>      voicePack<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#79c0ff>true</span>,           <span style=color:#8b949e;font-style:italic>// å£°ä¼˜æ–‡åŒ–
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>      gachaSystem<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#79c0ff>true</span>,         <span style=color:#8b949e;font-style:italic>// æŠ½å¡æœºåˆ¶
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>      idolSystem<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#79c0ff>true</span>,          <span style=color:#8b949e;font-style:italic>// å¶åƒå…ƒç´ 
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>      seasonalEvents<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#79c0ff>true</span>       <span style=color:#8b949e;font-style:italic>// å­£èŠ‚æ´»åŠ¨
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    },
</span></span><span style=display:flex><span>    cultural<span style=color:#ff7b72;font-weight:700>:</span> {
</span></span><span style=display:flex><span>      avoidNumber4<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#79c0ff>true</span>,        <span style=color:#8b949e;font-style:italic>// é¿è®³æ•°å­—4
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>      cherryBlossom<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#79c0ff>true</span>,       <span style=color:#8b949e;font-style:italic>// æ¨±èŠ±å…ƒç´ 
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>      shrineVisit<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#79c0ff>true</span>,         <span style=color:#8b949e;font-style:italic>// ç¥ç¤¾åœºæ™¯
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>      schoolSetting<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#79c0ff>true</span>        <span style=color:#8b949e;font-style:italic>// æ ¡å›­èƒŒæ™¯
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    }
</span></span><span style=display:flex><span>  },
</span></span><span style=display:flex><span>  kr<span style=color:#ff7b72;font-weight:700>:</span> {
</span></span><span style=display:flex><span>    language<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;ko&#39;</span>,
</span></span><span style=display:flex><span>    currency<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;KRW&#39;</span>,
</span></span><span style=display:flex><span>    features<span style=color:#ff7b72;font-weight:700>:</span> {
</span></span><span style=display:flex><span>      rankingSystem<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#79c0ff>true</span>,       <span style=color:#8b949e;font-style:italic>// æ’è¡Œæ¦œç³»ç»Ÿ
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>      pvpArena<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#79c0ff>true</span>,            <span style=color:#8b949e;font-style:italic>// PvPç«æŠ€åœº
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>      guildSystem<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#79c0ff>true</span>,         <span style=color:#8b949e;font-style:italic>// å…¬ä¼šç³»ç»Ÿ
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>      esportsIntegration<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#79c0ff>true</span>   <span style=color:#8b949e;font-style:italic>// ç”µç«å…ƒç´ 
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    },
</span></span><span style=display:flex><span>    monetization<span style=color:#ff7b72;font-weight:700>:</span> {
</span></span><span style=display:flex><span>      battlePass<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#79c0ff>true</span>,          <span style=color:#8b949e;font-style:italic>// é€šè¡Œè¯
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>      cosmeticItems<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#79c0ff>true</span>,       <span style=color:#8b949e;font-style:italic>// å¤–è§‚é“å…·
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>      convenienceItems<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#79c0ff>true</span>     <span style=color:#8b949e;font-style:italic>// ä¾¿åˆ©é“å…·
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    }
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>};
</span></span></code></pre></td></tr></table></div></div><h2 id=æœ¬åœ°åŒ–æŠ€æœ¯å®ç°>æœ¬åœ°åŒ–æŠ€æœ¯å®ç°<a hidden class=anchor aria-hidden=true href=#æœ¬åœ°åŒ–æŠ€æœ¯å®ç°>#</a></h2><h3 id=å¤šè¯­è¨€ç³»ç»Ÿæ¶æ„>å¤šè¯­è¨€ç³»ç»Ÿæ¶æ„<a hidden class=anchor aria-hidden=true href=#å¤šè¯­è¨€ç³»ç»Ÿæ¶æ„>#</a></h3><div class=highlight><div style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:2;-o-tab-size:2;tab-size:2><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 56
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 57
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 58
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 59
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 60
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 61
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 62
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 63
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 64
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 65
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 66
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 67
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 68
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 69
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 70
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 71
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 72
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 73
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 74
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 75
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 76
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 77
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 78
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 79
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 80
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 81
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 82
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 83
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 84
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 85
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 86
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 87
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 88
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 89
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 90
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 91
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 92
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 93
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 94
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 95
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 96
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 97
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 98
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 99
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">100
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">101
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">102
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">103
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">104
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">105
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">106
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">107
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">108
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">109
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">110
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">111
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">112
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">113
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">114
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">115
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">116
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">117
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">118
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">119
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">120
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">121
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">122
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">123
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">124
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">125
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">126
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">127
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">128
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">129
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">130
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">131
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">132
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">133
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">134
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">135
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">136
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">137
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">138
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">139
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">140
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">141
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">142
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">143
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">144
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">145
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">146
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">147
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">148
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">149
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">150
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">151
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">152
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">153
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">154
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">155
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">156
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">157
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">158
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">159
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">160
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">161
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">162
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">163
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">164
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">165
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">166
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">167
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">168
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">169
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">170
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">171
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">172
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">173
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">174
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">175
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">176
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">177
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">178
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">179
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">180
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">181
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">182
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#8b949e;font-style:italic>// å›½é™…åŒ–ç®¡ç†å™¨
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span><span style=color:#ff7b72>class</span> I18nManager {
</span></span><span style=display:flex><span>  constructor() {
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>this</span>.currentLanguage <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#a5d6ff>&#39;en&#39;</span>;
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>this</span>.fallbackLanguage <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#a5d6ff>&#39;en&#39;</span>;
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>this</span>.translations <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#ff7b72>new</span> Map();
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>this</span>.loadedLanguages <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#ff7b72>new</span> Set();
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>this</span>.pluralRules <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#ff7b72>new</span> Map();
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#8b949e;font-style:italic>// åˆå§‹åŒ–è¯­è¨€åŒ…
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>  <span style=color:#ff7b72>async</span> init(language <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#a5d6ff>&#39;en&#39;</span>) {
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>await</span> <span style=color:#ff7b72>this</span>.loadLanguage(language);
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>await</span> <span style=color:#ff7b72>this</span>.loadLanguage(<span style=color:#ff7b72>this</span>.fallbackLanguage);
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>this</span>.setLanguage(language);
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>this</span>.initPluralRules();
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#8b949e;font-style:italic>// åŠ è½½è¯­è¨€åŒ…
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>  <span style=color:#ff7b72>async</span> loadLanguage(language) {
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>if</span> (<span style=color:#ff7b72>this</span>.loadedLanguages.has(language)) {
</span></span><span style=display:flex><span>      <span style=color:#ff7b72>return</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>try</span> {
</span></span><span style=display:flex><span>      <span style=color:#ff7b72>const</span> translations <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#ff7b72>await</span> <span style=color:#ff7b72>this</span>.fetchTranslations(language);
</span></span><span style=display:flex><span>      <span style=color:#ff7b72>this</span>.translations.set(language, translations);
</span></span><span style=display:flex><span>      <span style=color:#ff7b72>this</span>.loadedLanguages.add(language);
</span></span><span style=display:flex><span>    } <span style=color:#ff7b72>catch</span> (error) {
</span></span><span style=display:flex><span>      console.error(<span style=color:#a5d6ff>`Failed to load language </span><span style=color:#a5d6ff>${</span>language<span style=color:#a5d6ff>}</span><span style=color:#a5d6ff>:`</span>, error);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#8b949e;font-style:italic>// è·å–ç¿»è¯‘æ–‡ä»¶
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>  <span style=color:#ff7b72>async</span> fetchTranslations(language) {
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>const</span> response <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#ff7b72>await</span> fetch(<span style=color:#a5d6ff>`./locales/</span><span style=color:#a5d6ff>${</span>language<span style=color:#a5d6ff>}</span><span style=color:#a5d6ff>.json`</span>);
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>return</span> <span style=color:#ff7b72>await</span> response.json();
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#8b949e;font-style:italic>// è®¾ç½®å½“å‰è¯­è¨€
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>  setLanguage(language) {
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>if</span> (<span style=color:#ff7b72>this</span>.loadedLanguages.has(language)) {
</span></span><span style=display:flex><span>      <span style=color:#ff7b72>this</span>.currentLanguage <span style=color:#ff7b72;font-weight:700>=</span> language;
</span></span><span style=display:flex><span>      <span style=color:#ff7b72>this</span>.updateUI();
</span></span><span style=display:flex><span>      <span style=color:#ff7b72>this</span>.saveLanguagePreference(language);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#8b949e;font-style:italic>// è·å–ç¿»è¯‘æ–‡æœ¬
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>  t(key, params <span style=color:#ff7b72;font-weight:700>=</span> {}) {
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>const</span> translation <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#ff7b72>this</span>.getTranslation(key, <span style=color:#ff7b72>this</span>.currentLanguage) <span style=color:#ff7b72;font-weight:700>||</span>
</span></span><span style=display:flex><span>                       <span style=color:#ff7b72>this</span>.getTranslation(key, <span style=color:#ff7b72>this</span>.fallbackLanguage) <span style=color:#ff7b72;font-weight:700>||</span>
</span></span><span style=display:flex><span>                       key;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic>// å¤„ç†å‚æ•°æ›¿æ¢
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    <span style=color:#ff7b72>return</span> <span style=color:#ff7b72>this</span>.interpolate(translation, params);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#8b949e;font-style:italic>// è·å–ç‰¹å®šè¯­è¨€çš„ç¿»è¯‘
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>  getTranslation(key, language) {
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>const</span> translations <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#ff7b72>this</span>.translations.get(language);
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>if</span> (<span style=color:#ff7b72;font-weight:700>!</span>translations) <span style=color:#ff7b72>return</span> <span style=color:#79c0ff>null</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic>// æ”¯æŒåµŒå¥—keyå¦‚ &#39;menu.settings.audio&#39;
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    <span style=color:#ff7b72>const</span> keys <span style=color:#ff7b72;font-weight:700>=</span> key.split(<span style=color:#a5d6ff>&#39;.&#39;</span>);
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>let</span> result <span style=color:#ff7b72;font-weight:700>=</span> translations;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>for</span> (<span style=color:#ff7b72>const</span> k <span style=color:#ff7b72>of</span> keys) {
</span></span><span style=display:flex><span>      result <span style=color:#ff7b72;font-weight:700>=</span> result<span style=color:#ff7b72;font-weight:700>?</span>.[k];
</span></span><span style=display:flex><span>      <span style=color:#ff7b72>if</span> (result <span style=color:#ff7b72;font-weight:700>===</span> <span style=color:#79c0ff>undefined</span>) <span style=color:#ff7b72>return</span> <span style=color:#79c0ff>null</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>return</span> result;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#8b949e;font-style:italic>// å¤æ•°å½¢å¼å¤„ç†
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>  tn(key, count, params <span style=color:#ff7b72;font-weight:700>=</span> {}) {
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>const</span> rule <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#ff7b72>this</span>.getPluralRule(count);
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>const</span> pluralKey <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#a5d6ff>`</span><span style=color:#a5d6ff>${</span>key<span style=color:#a5d6ff>}</span><span style=color:#a5d6ff>.</span><span style=color:#a5d6ff>${</span>rule<span style=color:#a5d6ff>}</span><span style=color:#a5d6ff>`</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    params.count <span style=color:#ff7b72;font-weight:700>=</span> count;
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>return</span> <span style=color:#ff7b72>this</span>.t(pluralKey, params);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#8b949e;font-style:italic>// è·å–å¤æ•°è§„åˆ™
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>  getPluralRule(count) {
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>const</span> rule <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#ff7b72>this</span>.pluralRules.get(<span style=color:#ff7b72>this</span>.currentLanguage);
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>return</span> rule <span style=color:#ff7b72;font-weight:700>?</span> rule(count) <span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;other&#39;</span>;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#8b949e;font-style:italic>// åˆå§‹åŒ–å¤æ•°è§„åˆ™
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>  initPluralRules() {
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic>// è‹±è¯­å¤æ•°è§„åˆ™
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    <span style=color:#ff7b72>this</span>.pluralRules.set(<span style=color:#a5d6ff>&#39;en&#39;</span>, (n) =&gt; n <span style=color:#ff7b72;font-weight:700>===</span> <span style=color:#a5d6ff>1</span> <span style=color:#ff7b72;font-weight:700>?</span> <span style=color:#a5d6ff>&#39;one&#39;</span> <span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;other&#39;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic>// ä¸­æ–‡æ— å¤æ•°
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    <span style=color:#ff7b72>this</span>.pluralRules.set(<span style=color:#a5d6ff>&#39;zh&#39;</span>, () =&gt; <span style=color:#a5d6ff>&#39;other&#39;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic>// æ—¥è¯­å¤æ•°è§„åˆ™
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    <span style=color:#ff7b72>this</span>.pluralRules.set(<span style=color:#a5d6ff>&#39;ja&#39;</span>, () =&gt; <span style=color:#a5d6ff>&#39;other&#39;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic>// æ³•è¯­å¤æ•°è§„åˆ™
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    <span style=color:#ff7b72>this</span>.pluralRules.set(<span style=color:#a5d6ff>&#39;fr&#39;</span>, (n) =&gt; n <span style=color:#ff7b72;font-weight:700>&gt;=</span> <span style=color:#a5d6ff>0</span> <span style=color:#ff7b72;font-weight:700>&amp;&amp;</span> n <span style=color:#ff7b72;font-weight:700>&lt;</span> <span style=color:#a5d6ff>2</span> <span style=color:#ff7b72;font-weight:700>?</span> <span style=color:#a5d6ff>&#39;one&#39;</span> <span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;other&#39;</span>);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#8b949e;font-style:italic>// å‚æ•°æ’å€¼
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>  interpolate(text, params) {
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>return</span> text.replace(<span style=color:#79c0ff>/\{\{(\w+)\}\}/g</span>, (match, key) =&gt; {
</span></span><span style=display:flex><span>      <span style=color:#ff7b72>return</span> params[key] <span style=color:#ff7b72;font-weight:700>!==</span> <span style=color:#79c0ff>undefined</span> <span style=color:#ff7b72;font-weight:700>?</span> params[key] <span style=color:#ff7b72;font-weight:700>:</span> match;
</span></span><span style=display:flex><span>    });
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#8b949e;font-style:italic>// æ›´æ–°UIæ–‡æœ¬
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>  updateUI() {
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic>// æ›´æ–°æ‰€æœ‰å¸¦æœ‰data-i18nå±æ€§çš„å…ƒç´ 
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    <span style=color:#ff7b72>const</span> elements <span style=color:#ff7b72;font-weight:700>=</span> document.querySelectorAll(<span style=color:#a5d6ff>&#39;[data-i18n]&#39;</span>);
</span></span><span style=display:flex><span>    elements.forEach(element =&gt; {
</span></span><span style=display:flex><span>      <span style=color:#ff7b72>const</span> key <span style=color:#ff7b72;font-weight:700>=</span> element.getAttribute(<span style=color:#a5d6ff>&#39;data-i18n&#39;</span>);
</span></span><span style=display:flex><span>      <span style=color:#ff7b72>const</span> text <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#ff7b72>this</span>.t(key);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#ff7b72>if</span> (element.tagName <span style=color:#ff7b72;font-weight:700>===</span> <span style=color:#a5d6ff>&#39;INPUT&#39;</span> <span style=color:#ff7b72;font-weight:700>||</span> element.tagName <span style=color:#ff7b72;font-weight:700>===</span> <span style=color:#a5d6ff>&#39;TEXTAREA&#39;</span>) {
</span></span><span style=display:flex><span>        element.placeholder <span style=color:#ff7b72;font-weight:700>=</span> text;
</span></span><span style=display:flex><span>      } <span style=color:#ff7b72>else</span> {
</span></span><span style=display:flex><span>        element.textContent <span style=color:#ff7b72;font-weight:700>=</span> text;
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>    });
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#8b949e;font-style:italic>// ä¿å­˜è¯­è¨€åå¥½
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>  saveLanguagePreference(language) {
</span></span><span style=display:flex><span>    localStorage.setItem(<span style=color:#a5d6ff>&#39;preferredLanguage&#39;</span>, language);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#8b949e;font-style:italic>// è·å–ä¿å­˜çš„è¯­è¨€
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>  getSavedLanguage() {
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>return</span> localStorage.getItem(<span style=color:#a5d6ff>&#39;preferredLanguage&#39;</span>) <span style=color:#ff7b72;font-weight:700>||</span>
</span></span><span style=display:flex><span>           navigator.language.split(<span style=color:#a5d6ff>&#39;-&#39;</span>)[<span style=color:#a5d6ff>0</span>] <span style=color:#ff7b72;font-weight:700>||</span>
</span></span><span style=display:flex><span>           <span style=color:#a5d6ff>&#39;en&#39;</span>;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#8b949e;font-style:italic>// åŠ¨æ€åŠ è½½å­—ä½“
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>  <span style=color:#ff7b72>async</span> loadFontForLanguage(language) {
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>const</span> fontConfig <span style=color:#ff7b72;font-weight:700>=</span> {
</span></span><span style=display:flex><span>      <span style=color:#a5d6ff>&#39;ar&#39;</span><span style=color:#ff7b72;font-weight:700>:</span> {
</span></span><span style=display:flex><span>        family<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;Noto Sans Arabic&#39;</span>,
</span></span><span style=display:flex><span>        url<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;https://fonts.googleapis.com/css2?family=Noto+Sans+Arabic:wght@400;700&amp;display=swap&#39;</span>
</span></span><span style=display:flex><span>      },
</span></span><span style=display:flex><span>      <span style=color:#a5d6ff>&#39;ja&#39;</span><span style=color:#ff7b72;font-weight:700>:</span> {
</span></span><span style=display:flex><span>        family<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;Noto Sans JP&#39;</span>,
</span></span><span style=display:flex><span>        url<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;700&amp;display=swap&#39;</span>
</span></span><span style=display:flex><span>      },
</span></span><span style=display:flex><span>      <span style=color:#a5d6ff>&#39;ko&#39;</span><span style=color:#ff7b72;font-weight:700>:</span> {
</span></span><span style=display:flex><span>        family<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;Noto Sans KR&#39;</span>,
</span></span><span style=display:flex><span>        url<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;700&amp;display=swap&#39;</span>
</span></span><span style=display:flex><span>      },
</span></span><span style=display:flex><span>      <span style=color:#a5d6ff>&#39;th&#39;</span><span style=color:#ff7b72;font-weight:700>:</span> {
</span></span><span style=display:flex><span>        family<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;Noto Sans Thai&#39;</span>,
</span></span><span style=display:flex><span>        url<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;https://fonts.googleapis.com/css2?family=Noto+Sans+Thai:wght@400;700&amp;display=swap&#39;</span>
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>    };
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>const</span> config <span style=color:#ff7b72;font-weight:700>=</span> fontConfig[language];
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>if</span> (config) {
</span></span><span style=display:flex><span>      <span style=color:#ff7b72>const</span> link <span style=color:#ff7b72;font-weight:700>=</span> document.createElement(<span style=color:#a5d6ff>&#39;link&#39;</span>);
</span></span><span style=display:flex><span>      link.href <span style=color:#ff7b72;font-weight:700>=</span> config.url;
</span></span><span style=display:flex><span>      link.rel <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#a5d6ff>&#39;stylesheet&#39;</span>;
</span></span><span style=display:flex><span>      document.head.appendChild(link);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#8b949e;font-style:italic>// ç­‰å¾…å­—ä½“åŠ è½½
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>      <span style=color:#ff7b72>await</span> document.fonts.load(<span style=color:#a5d6ff>`16px </span><span style=color:#a5d6ff>${</span>config.family<span style=color:#a5d6ff>}</span><span style=color:#a5d6ff>`</span>);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#8b949e;font-style:italic>// å¤„ç†æ–‡æœ¬æ–¹å‘
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>  setTextDirection() {
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>const</span> rtlLanguages <span style=color:#ff7b72;font-weight:700>=</span> [<span style=color:#a5d6ff>&#39;ar&#39;</span>, <span style=color:#a5d6ff>&#39;he&#39;</span>, <span style=color:#a5d6ff>&#39;fa&#39;</span>];
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>const</span> isRTL <span style=color:#ff7b72;font-weight:700>=</span> rtlLanguages.includes(<span style=color:#ff7b72>this</span>.currentLanguage);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    document.documentElement.dir <span style=color:#ff7b72;font-weight:700>=</span> isRTL <span style=color:#ff7b72;font-weight:700>?</span> <span style=color:#a5d6ff>&#39;rtl&#39;</span> <span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;ltr&#39;</span>;
</span></span><span style=display:flex><span>    document.body.classList.toggle(<span style=color:#a5d6ff>&#39;rtl&#39;</span>, isRTL);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span></code></pre></td></tr></table></div></div><h3 id=èµ„æºæœ¬åœ°åŒ–ç®¡ç†>èµ„æºæœ¬åœ°åŒ–ç®¡ç†<a hidden class=anchor aria-hidden=true href=#èµ„æºæœ¬åœ°åŒ–ç®¡ç†>#</a></h3><div class=highlight><div style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:2;-o-tab-size:2;tab-size:2><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">56
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">57
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">58
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">59
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">60
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">61
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">62
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">63
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">64
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">65
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">66
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">67
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">68
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">69
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">70
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">71
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">72
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">73
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">74
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">75
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">76
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">77
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">78
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">79
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">80
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">81
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">82
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">83
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">84
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">85
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">86
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">87
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">88
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">89
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">90
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">91
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">92
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">93
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">94
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">95
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">96
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">97
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">98
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#8b949e;font-style:italic>// èµ„æºæœ¬åœ°åŒ–ç³»ç»Ÿ
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span><span style=color:#ff7b72>class</span> AssetLocalizationManager {
</span></span><span style=display:flex><span>  constructor() {
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>this</span>.localizedAssets <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#ff7b72>new</span> Map();
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>this</span>.assetCache <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#ff7b72>new</span> Map();
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>this</span>.currentRegion <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#a5d6ff>&#39;global&#39;</span>;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#8b949e;font-style:italic>// æ ¹æ®åœ°åŒºåŠ è½½èµ„æº
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>  <span style=color:#ff7b72>async</span> loadLocalizedAsset(assetType, assetName, region) {
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>const</span> cacheKey <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#a5d6ff>`</span><span style=color:#a5d6ff>${</span>region<span style=color:#a5d6ff>}</span><span style=color:#a5d6ff>:</span><span style=color:#a5d6ff>${</span>assetType<span style=color:#a5d6ff>}</span><span style=color:#a5d6ff>:</span><span style=color:#a5d6ff>${</span>assetName<span style=color:#a5d6ff>}</span><span style=color:#a5d6ff>`</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>if</span> (<span style=color:#ff7b72>this</span>.assetCache.has(cacheKey)) {
</span></span><span style=display:flex><span>      <span style=color:#ff7b72>return</span> <span style=color:#ff7b72>this</span>.assetCache.get(cacheKey);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>try</span> {
</span></span><span style=display:flex><span>      <span style=color:#8b949e;font-style:italic>// å°è¯•åŠ è½½åœ°åŒºç‰¹å®šèµ„æº
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>      <span style=color:#ff7b72>let</span> assetUrl <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#ff7b72>this</span>.getLocalizedAssetUrl(assetType, assetName, region);
</span></span><span style=display:flex><span>      <span style=color:#ff7b72>let</span> asset <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#ff7b72>await</span> <span style=color:#ff7b72>this</span>.loadAsset(assetUrl);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#8b949e;font-style:italic>// å¦‚æœåœ°åŒºç‰¹å®šèµ„æºä¸å­˜åœ¨ï¼Œä½¿ç”¨å…¨å±€èµ„æº
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>      <span style=color:#ff7b72>if</span> (<span style=color:#ff7b72;font-weight:700>!</span>asset <span style=color:#ff7b72;font-weight:700>&amp;&amp;</span> region <span style=color:#ff7b72;font-weight:700>!==</span> <span style=color:#a5d6ff>&#39;global&#39;</span>) {
</span></span><span style=display:flex><span>        assetUrl <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#ff7b72>this</span>.getLocalizedAssetUrl(assetType, assetName, <span style=color:#a5d6ff>&#39;global&#39;</span>);
</span></span><span style=display:flex><span>        asset <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#ff7b72>await</span> <span style=color:#ff7b72>this</span>.loadAsset(assetUrl);
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#ff7b72>if</span> (asset) {
</span></span><span style=display:flex><span>        <span style=color:#ff7b72>this</span>.assetCache.set(cacheKey, asset);
</span></span><span style=display:flex><span>        <span style=color:#ff7b72>return</span> asset;
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>    } <span style=color:#ff7b72>catch</span> (error) {
</span></span><span style=display:flex><span>      console.error(<span style=color:#a5d6ff>`Failed to load localized asset: </span><span style=color:#a5d6ff>${</span>assetName<span style=color:#a5d6ff>}</span><span style=color:#a5d6ff>`</span>, error);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>return</span> <span style=color:#79c0ff>null</span>;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#8b949e;font-style:italic>// è·å–æœ¬åœ°åŒ–èµ„æºURL
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>  getLocalizedAssetUrl(assetType, assetName, region) {
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>const</span> baseUrl <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#a5d6ff>&#39;./assets&#39;</span>;
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>const</span> regionFolder <span style=color:#ff7b72;font-weight:700>=</span> region <span style=color:#ff7b72;font-weight:700>!==</span> <span style=color:#a5d6ff>&#39;global&#39;</span> <span style=color:#ff7b72;font-weight:700>?</span> <span style=color:#a5d6ff>`/</span><span style=color:#a5d6ff>${</span>region<span style=color:#a5d6ff>}</span><span style=color:#a5d6ff>`</span> <span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;&#39;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>switch</span> (assetType) {
</span></span><span style=display:flex><span>      <span style=color:#ff7b72>case</span> <span style=color:#a5d6ff>&#39;image&#39;</span><span style=color:#ff7b72;font-weight:700>:</span>
</span></span><span style=display:flex><span>        <span style=color:#ff7b72>return</span> <span style=color:#a5d6ff>`</span><span style=color:#a5d6ff>${</span>baseUrl<span style=color:#a5d6ff>}</span><span style=color:#a5d6ff>/images</span><span style=color:#a5d6ff>${</span>regionFolder<span style=color:#a5d6ff>}</span><span style=color:#a5d6ff>/</span><span style=color:#a5d6ff>${</span>assetName<span style=color:#a5d6ff>}</span><span style=color:#a5d6ff>`</span>;
</span></span><span style=display:flex><span>      <span style=color:#ff7b72>case</span> <span style=color:#a5d6ff>&#39;audio&#39;</span><span style=color:#ff7b72;font-weight:700>:</span>
</span></span><span style=display:flex><span>        <span style=color:#ff7b72>return</span> <span style=color:#a5d6ff>`</span><span style=color:#a5d6ff>${</span>baseUrl<span style=color:#a5d6ff>}</span><span style=color:#a5d6ff>/audio</span><span style=color:#a5d6ff>${</span>regionFolder<span style=color:#a5d6ff>}</span><span style=color:#a5d6ff>/</span><span style=color:#a5d6ff>${</span>assetName<span style=color:#a5d6ff>}</span><span style=color:#a5d6ff>`</span>;
</span></span><span style=display:flex><span>      <span style=color:#ff7b72>case</span> <span style=color:#a5d6ff>&#39;video&#39;</span><span style=color:#ff7b72;font-weight:700>:</span>
</span></span><span style=display:flex><span>        <span style=color:#ff7b72>return</span> <span style=color:#a5d6ff>`</span><span style=color:#a5d6ff>${</span>baseUrl<span style=color:#a5d6ff>}</span><span style=color:#a5d6ff>/video</span><span style=color:#a5d6ff>${</span>regionFolder<span style=color:#a5d6ff>}</span><span style=color:#a5d6ff>/</span><span style=color:#a5d6ff>${</span>assetName<span style=color:#a5d6ff>}</span><span style=color:#a5d6ff>`</span>;
</span></span><span style=display:flex><span>      <span style=color:#ff7b72>case</span> <span style=color:#a5d6ff>&#39;ui&#39;</span><span style=color:#ff7b72;font-weight:700>:</span>
</span></span><span style=display:flex><span>        <span style=color:#ff7b72>return</span> <span style=color:#a5d6ff>`</span><span style=color:#a5d6ff>${</span>baseUrl<span style=color:#a5d6ff>}</span><span style=color:#a5d6ff>/ui</span><span style=color:#a5d6ff>${</span>regionFolder<span style=color:#a5d6ff>}</span><span style=color:#a5d6ff>/</span><span style=color:#a5d6ff>${</span>assetName<span style=color:#a5d6ff>}</span><span style=color:#a5d6ff>`</span>;
</span></span><span style=display:flex><span>      <span style=color:#ff7b72>default</span><span style=color:#ff7b72;font-weight:700>:</span>
</span></span><span style=display:flex><span>        <span style=color:#ff7b72>return</span> <span style=color:#a5d6ff>`</span><span style=color:#a5d6ff>${</span>baseUrl<span style=color:#a5d6ff>}${</span>regionFolder<span style=color:#a5d6ff>}</span><span style=color:#a5d6ff>/</span><span style=color:#a5d6ff>${</span>assetName<span style=color:#a5d6ff>}</span><span style=color:#a5d6ff>`</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#8b949e;font-style:italic>// åŠ è½½èµ„æº
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>  <span style=color:#ff7b72>async</span> loadAsset(url) {
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>if</span> (url.endsWith(<span style=color:#a5d6ff>&#39;.json&#39;</span>)) {
</span></span><span style=display:flex><span>      <span style=color:#ff7b72>const</span> response <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#ff7b72>await</span> fetch(url);
</span></span><span style=display:flex><span>      <span style=color:#ff7b72>return</span> <span style=color:#ff7b72>await</span> response.json();
</span></span><span style=display:flex><span>    } <span style=color:#ff7b72>else</span> <span style=color:#ff7b72>if</span> (url.match(<span style=color:#79c0ff>/\.(jpg|jpeg|png|gif|webp)$/</span>)) {
</span></span><span style=display:flex><span>      <span style=color:#ff7b72>return</span> <span style=color:#ff7b72>new</span> Promise((resolve, reject) =&gt; {
</span></span><span style=display:flex><span>        <span style=color:#ff7b72>const</span> img <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#ff7b72>new</span> Image();
</span></span><span style=display:flex><span>        img.onload <span style=color:#ff7b72;font-weight:700>=</span> () =&gt; resolve(img);
</span></span><span style=display:flex><span>        img.onerror <span style=color:#ff7b72;font-weight:700>=</span> reject;
</span></span><span style=display:flex><span>        img.src <span style=color:#ff7b72;font-weight:700>=</span> url;
</span></span><span style=display:flex><span>      });
</span></span><span style=display:flex><span>    } <span style=color:#ff7b72>else</span> <span style=color:#ff7b72>if</span> (url.match(<span style=color:#79c0ff>/\.(mp3|wav|ogg)$/</span>)) {
</span></span><span style=display:flex><span>      <span style=color:#ff7b72>return</span> <span style=color:#ff7b72>new</span> Promise((resolve, reject) =&gt; {
</span></span><span style=display:flex><span>        <span style=color:#ff7b72>const</span> audio <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#ff7b72>new</span> Audio();
</span></span><span style=display:flex><span>        audio.oncanplaythrough <span style=color:#ff7b72;font-weight:700>=</span> () =&gt; resolve(audio);
</span></span><span style=display:flex><span>        audio.onerror <span style=color:#ff7b72;font-weight:700>=</span> reject;
</span></span><span style=display:flex><span>        audio.src <span style=color:#ff7b72;font-weight:700>=</span> url;
</span></span><span style=display:flex><span>      });
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#8b949e;font-style:italic>// é¢„åŠ è½½åœ°åŒºç‰¹å®šèµ„æº
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>  <span style=color:#ff7b72>async</span> preloadRegionalAssets(region, assetList) {
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>const</span> promises <span style=color:#ff7b72;font-weight:700>=</span> assetList.map(<span style=color:#ff7b72>async</span> (asset) =&gt; {
</span></span><span style=display:flex><span>      <span style=color:#ff7b72>return</span> {
</span></span><span style=display:flex><span>        type<span style=color:#ff7b72;font-weight:700>:</span> asset.type,
</span></span><span style=display:flex><span>        name<span style=color:#ff7b72;font-weight:700>:</span> asset.name,
</span></span><span style=display:flex><span>        data<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#ff7b72>await</span> <span style=color:#ff7b72>this</span>.loadLocalizedAsset(asset.type, asset.name, region)
</span></span><span style=display:flex><span>      };
</span></span><span style=display:flex><span>    });
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>const</span> results <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#ff7b72>await</span> Promise.allSettled(promises);
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>return</span> results.filter(r =&gt; r.status <span style=color:#ff7b72;font-weight:700>===</span> <span style=color:#a5d6ff>&#39;fulfilled&#39;</span>).map(r =&gt; r.value);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#8b949e;font-style:italic>// æ¸…ç†ç¼“å­˜
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>  clearCache() {
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>this</span>.assetCache.clear();
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span></code></pre></td></tr></table></div></div><h2 id=æ–‡åŒ–é€‚é…ç­–ç•¥>æ–‡åŒ–é€‚é…ç­–ç•¥<a hidden class=anchor aria-hidden=true href=#æ–‡åŒ–é€‚é…ç­–ç•¥>#</a></h2><h3 id=è§†è§‰å…ƒç´ æœ¬åœ°åŒ–>è§†è§‰å…ƒç´ æœ¬åœ°åŒ–<a hidden class=anchor aria-hidden=true href=#è§†è§‰å…ƒç´ æœ¬åœ°åŒ–>#</a></h3><div class=highlight><div style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:2;-o-tab-size:2;tab-size:2><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 56
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 57
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 58
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 59
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 60
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 61
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 62
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 63
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 64
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 65
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 66
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 67
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 68
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 69
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 70
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 71
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 72
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 73
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 74
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 75
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 76
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 77
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 78
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 79
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 80
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 81
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 82
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 83
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 84
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 85
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 86
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 87
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 88
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 89
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 90
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 91
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 92
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 93
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 94
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 95
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 96
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 97
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 98
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 99
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">100
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">101
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">102
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">103
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">104
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">105
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">106
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">107
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">108
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">109
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">110
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">111
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">112
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">113
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">114
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">115
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">116
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">117
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">118
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">119
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">120
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">121
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">122
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">123
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">124
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">125
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">126
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">127
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">128
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">129
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">130
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">131
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">132
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">133
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">134
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">135
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">136
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">137
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">138
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">139
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">140
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">141
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">142
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">143
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">144
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">145
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">146
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">147
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">148
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">149
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">150
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">151
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">152
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">153
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">154
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">155
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">156
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">157
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">158
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">159
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">160
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">161
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">162
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">163
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">164
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">165
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">166
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">167
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">168
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">169
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">170
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">171
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">172
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">173
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">174
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">175
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">176
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">177
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">178
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">179
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">180
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">181
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">182
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">183
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">184
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">185
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">186
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">187
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">188
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">189
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">190
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">191
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">192
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">193
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">194
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">195
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">196
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">197
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">198
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">199
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">200
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">201
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">202
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">203
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">204
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">205
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">206
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">207
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">208
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">209
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">210
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">211
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">212
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">213
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">214
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">215
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">216
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">217
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">218
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">219
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">220
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">221
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">222
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">223
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">224
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">225
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">226
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">227
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">228
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">229
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">230
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">231
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#8b949e;font-style:italic>// æ–‡åŒ–é€‚é…ç®¡ç†å™¨
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span><span style=color:#ff7b72>class</span> CulturalAdaptationManager {
</span></span><span style=display:flex><span>  constructor() {
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>this</span>.culturalConfigs <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#ff7b72>new</span> Map();
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>this</span>.currentCulture <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#a5d6ff>&#39;default&#39;</span>;
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>this</span>.initCulturalConfigs();
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#8b949e;font-style:italic>// åˆå§‹åŒ–æ–‡åŒ–é…ç½®
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>  initCulturalConfigs() {
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic>// ä¸­ä¸œåœ°åŒºé…ç½®
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    <span style=color:#ff7b72>this</span>.culturalConfigs.set(<span style=color:#a5d6ff>&#39;middle-east&#39;</span>, {
</span></span><span style=display:flex><span>      colors<span style=color:#ff7b72;font-weight:700>:</span> {
</span></span><span style=display:flex><span>        primary<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;#2D5F8C&#39;</span>,        <span style=color:#8b949e;font-style:italic>// æ·±è“è‰²ï¼Œä»£è¡¨ç¨³é‡
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>        secondary<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;#D4AF37&#39;</span>,      <span style=color:#8b949e;font-style:italic>// é‡‘è‰²ï¼Œè±¡å¾ç¹è£
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>        danger<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;#DC143C&#39;</span>,         <span style=color:#8b949e;font-style:italic>// çº¢è‰²ï¼Œæ³¨æ„ä½¿ç”¨
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>        success<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;#228B22&#39;</span>         <span style=color:#8b949e;font-style:italic>// ç»¿è‰²
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>      },
</span></span><span style=display:flex><span>      imagery<span style=color:#ff7b72;font-weight:700>:</span> {
</span></span><span style=display:flex><span>        avoid<span style=color:#ff7b72;font-weight:700>:</span> [<span style=color:#a5d6ff>&#39;pigs&#39;</span>, <span style=color:#a5d6ff>&#39;alcohol&#39;</span>, <span style=color:#a5d6ff>&#39;revealing clothing&#39;</span>],
</span></span><span style=display:flex><span>        prefer<span style=color:#ff7b72;font-weight:700>:</span> [<span style=color:#a5d6ff>&#39;geometric&#39;</span>, <span style=color:#a5d6ff>&#39;calligraphy&#39;</span>, <span style=color:#a5d6ff>&#39;architecture&#39;</span>]
</span></span><span style=display:flex><span>      },
</span></span><span style=display:flex><span>      ui<span style=color:#ff7b72;font-weight:700>:</span> {
</span></span><span style=display:flex><span>        textDirection<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;rtl&#39;</span>,
</span></span><span style=display:flex><span>        fontFamily<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;Noto Sans Arabic&#39;</span>,
</span></span><span style=display:flex><span>        roundedCorners<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#79c0ff>false</span>,    <span style=color:#8b949e;font-style:italic>// åå¥½æ–¹æ­£è®¾è®¡
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>        minimalIcons<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#79c0ff>true</span>         <span style=color:#8b949e;font-style:italic>// é¿å…å¤æ‚å›¾æ ‡
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>      },
</span></span><span style=display:flex><span>      content<span style=color:#ff7b72;font-weight:700>:</span> {
</span></span><span style=display:flex><span>        genderRepresentation<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;separate&#39;</span>,
</span></span><span style=display:flex><span>        religiousSensitivity<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;high&#39;</span>,
</span></span><span style=display:flex><span>        familyValues<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;conservative&#39;</span>
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>    });
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic>// ä¸œäºšåœ°åŒºé…ç½®
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    <span style=color:#ff7b72>this</span>.culturalConfigs.set(<span style=color:#a5d6ff>&#39;east-asia&#39;</span>, {
</span></span><span style=display:flex><span>      colors<span style=color:#ff7b72;font-weight:700>:</span> {
</span></span><span style=display:flex><span>        primary<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;#E60012&#39;</span>,        <span style=color:#8b949e;font-style:italic>// ä¸­å›½çº¢
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>        secondary<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;#FFD700&#39;</span>,      <span style=color:#8b949e;font-style:italic>// é‡‘è‰²
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>        danger<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;#FF0000&#39;</span>,
</span></span><span style=display:flex><span>        success<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;#00C853&#39;</span>
</span></span><span style=display:flex><span>      },
</span></span><span style=display:flex><span>      imagery<span style=color:#ff7b72;font-weight:700>:</span> {
</span></span><span style=display:flex><span>        avoid<span style=color:#ff7b72;font-weight:700>:</span> [<span style=color:#a5d6ff>&#39;skulls&#39;</span>, <span style=color:#a5d6ff>&#39;excessive violence&#39;</span>],
</span></span><span style=display:flex><span>        prefer<span style=color:#ff7b72;font-weight:700>:</span> [<span style=color:#a5d6ff>&#39;dragons&#39;</span>, <span style=color:#a5d6ff>&#39;nature&#39;</span>, <span style=color:#a5d6ff>&#39;cute characters&#39;</span>]
</span></span><span style=display:flex><span>      },
</span></span><span style=display:flex><span>      ui<span style=color:#ff7b72;font-weight:700>:</span> {
</span></span><span style=display:flex><span>        textDirection<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;ltr&#39;</span>,
</span></span><span style=display:flex><span>        fontFamily<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;Noto Sans CJK&#39;</span>,
</span></span><span style=display:flex><span>        denseLayout<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#79c0ff>true</span>,         <span style=color:#8b949e;font-style:italic>// ä¿¡æ¯å¯†åº¦é«˜
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>        cuteElements<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#79c0ff>true</span>         <span style=color:#8b949e;font-style:italic>// å¯çˆ±åŒ–å…ƒç´ 
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>      },
</span></span><span style=display:flex><span>      content<span style=color:#ff7b72;font-weight:700>:</span> {
</span></span><span style=display:flex><span>        ageRating<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;strict&#39;</span>,
</span></span><span style=display:flex><span>        violence<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;moderate&#39;</span>,
</span></span><span style=display:flex><span>        socialHarmony<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;important&#39;</span>
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>    });
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic>// æ¬§ç¾åœ°åŒºé…ç½®
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    <span style=color:#ff7b72>this</span>.culturalConfigs.set(<span style=color:#a5d6ff>&#39;western&#39;</span>, {
</span></span><span style=display:flex><span>      colors<span style=color:#ff7b72;font-weight:700>:</span> {
</span></span><span style=display:flex><span>        primary<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;#0078D4&#39;</span>,        <span style=color:#8b949e;font-style:italic>// å¾®è½¯è“
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>        secondary<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;#50E3C2&#39;</span>,
</span></span><span style=display:flex><span>        danger<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;#FF4444&#39;</span>,
</span></span><span style=display:flex><span>        success<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;#4CAF50&#39;</span>
</span></span><span style=display:flex><span>      },
</span></span><span style=display:flex><span>      imagery<span style=color:#ff7b72;font-weight:700>:</span> {
</span></span><span style=display:flex><span>        avoid<span style=color:#ff7b72;font-weight:700>:</span> [],
</span></span><span style=display:flex><span>        prefer<span style=color:#ff7b72;font-weight:700>:</span> [<span style=color:#a5d6ff>&#39;realistic&#39;</span>, <span style=color:#a5d6ff>&#39;diverse&#39;</span>, <span style=color:#a5d6ff>&#39;modern&#39;</span>]
</span></span><span style=display:flex><span>      },
</span></span><span style=display:flex><span>      ui<span style=color:#ff7b72;font-weight:700>:</span> {
</span></span><span style=display:flex><span>        textDirection<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;ltr&#39;</span>,
</span></span><span style=display:flex><span>        fontFamily<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;Roboto, Arial&#39;</span>,
</span></span><span style=display:flex><span>        cleanMinimal<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#79c0ff>true</span>,
</span></span><span style=display:flex><span>        highContrast<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#79c0ff>true</span>
</span></span><span style=display:flex><span>      },
</span></span><span style=display:flex><span>      content<span style=color:#ff7b72;font-weight:700>:</span> {
</span></span><span style=display:flex><span>        diversity<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;important&#39;</span>,
</span></span><span style=display:flex><span>        individualism<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;valued&#39;</span>,
</span></span><span style=display:flex><span>        directCommunication<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;preferred&#39;</span>
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>    });
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#8b949e;font-style:italic>// åº”ç”¨æ–‡åŒ–é€‚é…
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>  applyCulturalAdaptation(culture) {
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>const</span> config <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#ff7b72>this</span>.culturalConfigs.get(culture);
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>if</span> (<span style=color:#ff7b72;font-weight:700>!</span>config) <span style=color:#ff7b72>return</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>this</span>.currentCulture <span style=color:#ff7b72;font-weight:700>=</span> culture;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic>// åº”ç”¨é¢œè‰²ä¸»é¢˜
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    <span style=color:#ff7b72>this</span>.applyColorTheme(config.colors);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic>// åº”ç”¨UIè°ƒæ•´
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    <span style=color:#ff7b72>this</span>.applyUIAdjustments(config.ui);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic>// åº”ç”¨å†…å®¹è¿‡æ»¤
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    <span style=color:#ff7b72>this</span>.applyContentFilters(config.content);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#8b949e;font-style:italic>// åº”ç”¨é¢œè‰²ä¸»é¢˜
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>  applyColorTheme(colors) {
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>const</span> root <span style=color:#ff7b72;font-weight:700>=</span> document.documentElement;
</span></span><span style=display:flex><span>    root.style.setProperty(<span style=color:#a5d6ff>&#39;--primary-color&#39;</span>, colors.primary);
</span></span><span style=display:flex><span>    root.style.setProperty(<span style=color:#a5d6ff>&#39;--secondary-color&#39;</span>, colors.secondary);
</span></span><span style=display:flex><span>    root.style.setProperty(<span style=color:#a5d6ff>&#39;--danger-color&#39;</span>, colors.danger);
</span></span><span style=display:flex><span>    root.style.setProperty(<span style=color:#a5d6ff>&#39;--success-color&#39;</span>, colors.success);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#8b949e;font-style:italic>// åº”ç”¨UIè°ƒæ•´
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>  applyUIAdjustments(ui) {
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>const</span> body <span style=color:#ff7b72;font-weight:700>=</span> document.body;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic>// è®¾ç½®æ–‡æœ¬æ–¹å‘
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    body.style.direction <span style=color:#ff7b72;font-weight:700>=</span> ui.textDirection;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic>// è®¾ç½®å­—ä½“
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    <span style=color:#ff7b72>if</span> (ui.fontFamily) {
</span></span><span style=display:flex><span>      body.style.fontFamily <span style=color:#ff7b72;font-weight:700>=</span> ui.fontFamily;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic>// æ·»åŠ æ–‡åŒ–CSSç±»
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    body.classList.add(<span style=color:#a5d6ff>`culture-</span><span style=color:#a5d6ff>${</span><span style=color:#ff7b72>this</span>.currentCulture<span style=color:#a5d6ff>}</span><span style=color:#a5d6ff>`</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic>// è°ƒæ•´é—´è·å’Œå¸ƒå±€
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    <span style=color:#ff7b72>if</span> (ui.denseLayout) {
</span></span><span style=display:flex><span>      body.classList.add(<span style=color:#a5d6ff>&#39;dense-layout&#39;</span>);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>if</span> (ui.roundedCorners <span style=color:#ff7b72;font-weight:700>===</span> <span style=color:#79c0ff>false</span>) {
</span></span><span style=display:flex><span>      body.classList.add(<span style=color:#a5d6ff>&#39;square-corners&#39;</span>);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#8b949e;font-style:italic>// å†…å®¹è¿‡æ»¤
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>  filterContent(content, type) {
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>const</span> config <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#ff7b72>this</span>.culturalConfigs.get(<span style=color:#ff7b72>this</span>.currentCulture);
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>if</span> (<span style=color:#ff7b72;font-weight:700>!</span>config <span style=color:#ff7b72;font-weight:700>||</span> <span style=color:#ff7b72;font-weight:700>!</span>config.content) <span style=color:#ff7b72>return</span> content;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>switch</span> (type) {
</span></span><span style=display:flex><span>      <span style=color:#ff7b72>case</span> <span style=color:#a5d6ff>&#39;image&#39;</span><span style=color:#ff7b72;font-weight:700>:</span>
</span></span><span style=display:flex><span>        <span style=color:#ff7b72>return</span> <span style=color:#ff7b72>this</span>.filterImage(content, config.imagery);
</span></span><span style=display:flex><span>      <span style=color:#ff7b72>case</span> <span style=color:#a5d6ff>&#39;text&#39;</span><span style=color:#ff7b72;font-weight:700>:</span>
</span></span><span style=display:flex><span>        <span style=color:#ff7b72>return</span> <span style=color:#ff7b72>this</span>.filterText(content, config.content);
</span></span><span style=display:flex><span>      <span style=color:#ff7b72>case</span> <span style=color:#a5d6ff>&#39;audio&#39;</span><span style=color:#ff7b72;font-weight:700>:</span>
</span></span><span style=display:flex><span>        <span style=color:#ff7b72>return</span> <span style=color:#ff7b72>this</span>.filterAudio(content, config.content);
</span></span><span style=display:flex><span>      <span style=color:#ff7b72>default</span><span style=color:#ff7b72;font-weight:700>:</span>
</span></span><span style=display:flex><span>        <span style=color:#ff7b72>return</span> content;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#8b949e;font-style:italic>// å›¾ç‰‡è¿‡æ»¤
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>  filterImage(imageUrl, imageryConfig) {
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic>// å®ç°å›¾ç‰‡å†…å®¹è¿‡æ»¤é€»è¾‘
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    <span style=color:#8b949e;font-style:italic>// å¯ä»¥ä½¿ç”¨AIå›¾åƒè¯†åˆ«APIæ£€æµ‹æ•æ„Ÿå†…å®¹
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    <span style=color:#ff7b72>return</span> imageUrl;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#8b949e;font-style:italic>// æ–‡æœ¬è¿‡æ»¤
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>  filterText(text, contentConfig) {
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>let</span> filteredText <span style=color:#ff7b72;font-weight:700>=</span> text;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic>// æ ¹æ®æ–‡åŒ–æ•æ„Ÿæ€§è¿‡æ»¤å†…å®¹
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    <span style=color:#ff7b72>if</span> (contentConfig.religiousSensitivity <span style=color:#ff7b72;font-weight:700>===</span> <span style=color:#a5d6ff>&#39;high&#39;</span>) {
</span></span><span style=display:flex><span>      <span style=color:#8b949e;font-style:italic>// ç§»é™¤å®—æ•™ç›¸å…³æ•æ„Ÿè¯æ±‡
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>      filteredText <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#ff7b72>this</span>.removeSensitiveContent(filteredText);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>return</span> filteredText;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#8b949e;font-style:italic>// è·å–æœ¬åœ°åŒ–æ—¥æœŸæ ¼å¼
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>  getLocalizedDateFormat() {
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>const</span> formats <span style=color:#ff7b72;font-weight:700>=</span> {
</span></span><span style=display:flex><span>      <span style=color:#a5d6ff>&#39;middle-east&#39;</span><span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;DD/MM/YYYY&#39;</span>,
</span></span><span style=display:flex><span>      <span style=color:#a5d6ff>&#39;east-asia&#39;</span><span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;YYYY/MM/DD&#39;</span>,
</span></span><span style=display:flex><span>      <span style=color:#a5d6ff>&#39;western&#39;</span><span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;MM/DD/YYYY&#39;</span>,
</span></span><span style=display:flex><span>      <span style=color:#a5d6ff>&#39;european&#39;</span><span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;DD.MM.YYYY&#39;</span>
</span></span><span style=display:flex><span>    };
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>return</span> formats[<span style=color:#ff7b72>this</span>.currentCulture] <span style=color:#ff7b72;font-weight:700>||</span> <span style=color:#a5d6ff>&#39;YYYY-MM-DD&#39;</span>;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#8b949e;font-style:italic>// è·å–æœ¬åœ°åŒ–æ•°å­—æ ¼å¼
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>  formatNumber(number, type <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#a5d6ff>&#39;decimal&#39;</span>) {
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>const</span> formatters <span style=color:#ff7b72;font-weight:700>=</span> {
</span></span><span style=display:flex><span>      <span style=color:#a5d6ff>&#39;middle-east&#39;</span><span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#ff7b72>new</span> Intl.NumberFormat(<span style=color:#a5d6ff>&#39;ar-SA&#39;</span>),
</span></span><span style=display:flex><span>      <span style=color:#a5d6ff>&#39;east-asia&#39;</span><span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#ff7b72>new</span> Intl.NumberFormat(<span style=color:#a5d6ff>&#39;zh-CN&#39;</span>),
</span></span><span style=display:flex><span>      <span style=color:#a5d6ff>&#39;western&#39;</span><span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#ff7b72>new</span> Intl.NumberFormat(<span style=color:#a5d6ff>&#39;en-US&#39;</span>),
</span></span><span style=display:flex><span>      <span style=color:#a5d6ff>&#39;european&#39;</span><span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#ff7b72>new</span> Intl.NumberFormat(<span style=color:#a5d6ff>&#39;de-DE&#39;</span>)
</span></span><span style=display:flex><span>    };
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>const</span> formatter <span style=color:#ff7b72;font-weight:700>=</span> formatters[<span style=color:#ff7b72>this</span>.currentCulture] <span style=color:#ff7b72;font-weight:700>||</span>
</span></span><span style=display:flex><span>                     <span style=color:#ff7b72>new</span> Intl.NumberFormat(<span style=color:#a5d6ff>&#39;en-US&#39;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>switch</span> (type) {
</span></span><span style=display:flex><span>      <span style=color:#ff7b72>case</span> <span style=color:#a5d6ff>&#39;currency&#39;</span><span style=color:#ff7b72;font-weight:700>:</span>
</span></span><span style=display:flex><span>        <span style=color:#ff7b72>return</span> formatter.format(number);
</span></span><span style=display:flex><span>      <span style=color:#ff7b72>case</span> <span style=color:#a5d6ff>&#39;percent&#39;</span><span style=color:#ff7b72;font-weight:700>:</span>
</span></span><span style=display:flex><span>        <span style=color:#ff7b72>return</span> formatter.format(number <span style=color:#ff7b72;font-weight:700>/</span> <span style=color:#a5d6ff>100</span>) <span style=color:#ff7b72;font-weight:700>+</span> <span style=color:#a5d6ff>&#39;%&#39;</span>;
</span></span><span style=display:flex><span>      <span style=color:#ff7b72>default</span><span style=color:#ff7b72;font-weight:700>:</span>
</span></span><span style=display:flex><span>        <span style=color:#ff7b72>return</span> formatter.format(number);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#8b949e;font-style:italic>// è·å–æ–‡åŒ–ç‰¹å®šçš„èŠ‚æ—¥åˆ—è¡¨
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>  getCulturalHolidays() {
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>const</span> holidays <span style=color:#ff7b72;font-weight:700>=</span> {
</span></span><span style=display:flex><span>      <span style=color:#a5d6ff>&#39;middle-east&#39;</span><span style=color:#ff7b72;font-weight:700>:</span> [
</span></span><span style=display:flex><span>        { name<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;Eid al-Fitr&#39;</span>, date<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;2024-04-10&#39;</span>, type<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;major&#39;</span> },
</span></span><span style=display:flex><span>        { name<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;Eid al-Adha&#39;</span>, date<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;2024-06-17&#39;</span>, type<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;major&#39;</span> },
</span></span><span style=display:flex><span>        { name<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;Ramadan Start&#39;</span>, date<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;2024-03-11&#39;</span>, type<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;major&#39;</span> }
</span></span><span style=display:flex><span>      ],
</span></span><span style=display:flex><span>      <span style=color:#a5d6ff>&#39;east-asia&#39;</span><span style=color:#ff7b72;font-weight:700>:</span> [
</span></span><span style=display:flex><span>        { name<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;Chinese New Year&#39;</span>, date<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;2024-02-10&#39;</span>, type<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;major&#39;</span> },
</span></span><span style=display:flex><span>        { name<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;Golden Week&#39;</span>, date<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;2024-04-29&#39;</span>, type<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;major&#39;</span> },
</span></span><span style=display:flex><span>        { name<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;Mid-Autumn Festival&#39;</span>, date<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;2024-09-17&#39;</span>, type<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;minor&#39;</span> }
</span></span><span style=display:flex><span>      ],
</span></span><span style=display:flex><span>      <span style=color:#a5d6ff>&#39;western&#39;</span><span style=color:#ff7b72;font-weight:700>:</span> [
</span></span><span style=display:flex><span>        { name<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;Christmas&#39;</span>, date<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;2024-12-25&#39;</span>, type<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;major&#39;</span> },
</span></span><span style=display:flex><span>        { name<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;Easter&#39;</span>, date<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;2024-03-31&#39;</span>, type<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;major&#39;</span> },
</span></span><span style=display:flex><span>        { name<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;Halloween&#39;</span>, date<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;2024-10-31&#39;</span>, type<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;minor&#39;</span> }
</span></span><span style=display:flex><span>      ]
</span></span><span style=display:flex><span>    };
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>return</span> holidays[<span style=color:#ff7b72>this</span>.currentCulture] <span style=color:#ff7b72;font-weight:700>||</span> [];
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span></code></pre></td></tr></table></div></div><h2 id=æµ·å¤–å‘è¡Œç­–ç•¥>æµ·å¤–å‘è¡Œç­–ç•¥<a hidden class=anchor aria-hidden=true href=#æµ·å¤–å‘è¡Œç­–ç•¥>#</a></h2><h3 id=æ¸ é“é€‰æ‹©ä¸ä¼˜åŒ–>æ¸ é“é€‰æ‹©ä¸ä¼˜åŒ–<a hidden class=anchor aria-hidden=true href=#æ¸ é“é€‰æ‹©ä¸ä¼˜åŒ–>#</a></h3><div class=highlight><div style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:2;-o-tab-size:2;tab-size:2><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 56
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 57
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 58
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 59
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 60
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 61
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 62
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 63
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 64
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 65
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 66
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 67
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 68
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 69
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 70
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 71
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 72
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 73
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 74
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 75
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 76
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 77
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 78
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 79
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 80
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 81
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 82
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 83
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 84
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 85
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 86
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 87
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 88
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 89
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 90
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 91
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 92
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 93
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 94
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 95
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 96
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 97
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 98
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 99
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">100
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">101
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">102
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">103
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">104
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">105
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">106
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">107
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">108
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">109
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">110
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">111
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">112
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">113
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">114
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">115
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">116
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">117
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">118
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">119
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">120
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">121
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">122
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">123
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">124
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">125
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">126
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">127
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">128
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">129
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">130
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">131
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">132
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">133
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">134
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">135
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">136
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">137
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">138
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">139
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">140
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">141
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">142
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">143
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">144
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">145
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">146
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">147
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">148
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">149
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">150
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">151
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">152
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">153
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">154
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">155
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">156
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">157
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">158
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">159
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">160
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">161
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">162
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">163
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">164
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">165
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">166
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">167
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">168
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">169
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">170
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">171
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">172
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">173
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">174
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">175
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">176
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">177
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">178
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">179
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">180
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">181
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">182
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">183
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">184
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">185
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">186
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">187
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">188
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">189
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">190
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">191
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">192
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">193
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">194
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">195
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">196
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">197
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">198
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">199
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">200
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">201
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">202
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">203
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">204
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">205
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">206
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">207
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">208
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">209
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">210
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">211
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">212
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">213
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">214
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">215
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">216
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">217
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">218
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#8b949e;font-style:italic>// æ¸ é“ç®¡ç†å™¨
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span><span style=color:#ff7b72>class</span> ChannelManager {
</span></span><span style=display:flex><span>  constructor() {
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>this</span>.channels <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#ff7b72>new</span> Map();
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>this</span>.channelMetrics <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#ff7b72>new</span> Map();
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>this</span>.initChannels();
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#8b949e;font-style:italic>// åˆå§‹åŒ–æ¸ é“é…ç½®
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>  initChannels() {
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic>// Google Play
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    <span style=color:#ff7b72>this</span>.channels.set(<span style=color:#a5d6ff>&#39;google-play&#39;</span>, {
</span></span><span style=display:flex><span>      name<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;Google Play Store&#39;</span>,
</span></span><span style=display:flex><span>      platform<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;android&#39;</span>,
</span></span><span style=display:flex><span>      regions<span style=color:#ff7b72;font-weight:700>:</span> [<span style=color:#a5d6ff>&#39;global&#39;</span>],
</span></span><span style=display:flex><span>      features<span style=color:#ff7b72;font-weight:700>:</span> {
</span></span><span style=display:flex><span>        inAppPurchase<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#79c0ff>true</span>,
</span></span><span style=display:flex><span>        subscriptions<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#79c0ff>true</span>,
</span></span><span style=display:flex><span>        seasonalPromotions<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#79c0ff>true</span>,
</span></span><span style=display:flex><span>        preRegistration<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#79c0ff>true</span>
</span></span><span style=display:flex><span>      },
</span></span><span style=display:flex><span>      optimization<span style=color:#ff7b72;font-weight:700>:</span> {
</span></span><span style=display:flex><span>        aso<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#79c0ff>true</span>,
</span></span><span style=display:flex><span>        featuredPlacement<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#79c0ff>true</span>,
</span></span><span style=display:flex><span>        localPricing<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#79c0ff>true</span>,
</span></span><span style=display:flex><span>        betaTesting<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#79c0ff>true</span>
</span></span><span style=display:flex><span>      },
</span></span><span style=display:flex><span>      costs<span style=color:#ff7b72;font-weight:700>:</span> {
</span></span><span style=display:flex><span>        developerFee<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>25</span>,
</span></span><span style=display:flex><span>        revenueShare<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>0.30</span>
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>    });
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic>// App Store
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    <span style=color:#ff7b72>this</span>.channels.set(<span style=color:#a5d6ff>&#39;app-store&#39;</span>, {
</span></span><span style=display:flex><span>      name<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;Apple App Store&#39;</span>,
</span></span><span style=display:flex><span>      platform<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;ios&#39;</span>,
</span></span><span style=display:flex><span>      regions<span style=color:#ff7b72;font-weight:700>:</span> [<span style=color:#a5d6ff>&#39;global&#39;</span>],
</span></span><span style=display:flex><span>      features<span style=color:#ff7b72;font-weight:700>:</span> {
</span></span><span style=display:flex><span>        inAppPurchase<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#79c0ff>true</span>,
</span></span><span style=display:flex><span>        subscriptions<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#79c0ff>true</span>,
</span></span><span style=display:flex><span>        appClips<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#79c0ff>true</span>,
</span></span><span style=display:flex><span>        arcade<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#79c0ff>false</span>
</span></span><span style=display:flex><span>      },
</span></span><span style=display:flex><span>      optimization<span style=color:#ff7b72;font-weight:700>:</span> {
</span></span><span style=display:flex><span>        aso<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#79c0ff>true</span>,
</span></span><span style=display:flex><span>        editorialPlacement<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#79c0ff>true</span>,
</span></span><span style=display:flex><span>        searchAds<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#79c0ff>true</span>,
</span></span><span style=display:flex><span>        productPage<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#79c0ff>true</span>
</span></span><span style=display:flex><span>      },
</span></span><span style=display:flex><span>      costs<span style=color:#ff7b72;font-weight:700>:</span> {
</span></span><span style=display:flex><span>        developerFee<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>99</span>,
</span></span><span style=display:flex><span>        revenueShare<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>0.30</span>
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>    });
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic>// Steam
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    <span style=color:#ff7b72>this</span>.channels.set(<span style=color:#a5d6ff>&#39;steam&#39;</span>, {
</span></span><span style=display:flex><span>      name<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;Steam&#39;</span>,
</span></span><span style=display:flex><span>      platform<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;pc&#39;</span>,
</span></span><span style=display:flex><span>      regions<span style=color:#ff7b72;font-weight:700>:</span> [<span style=color:#a5d6ff>&#39;global&#39;</span>],
</span></span><span style=display:flex><span>      features<span style=color:#ff7b72;font-weight:700>:</span> {
</span></span><span style=display:flex><span>        dlc<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#79c0ff>true</span>,
</span></span><span style=display:flex><span>        workshop<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#79c0ff>true</span>,
</span></span><span style=display:flex><span>        cards<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#79c0ff>true</span>,
</span></span><span style=display:flex><span>        achievements<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#79c0ff>true</span>
</span></span><span style=display:flex><span>      },
</span></span><span style=display:flex><span>      optimization<span style=color:#ff7b72;font-weight:700>:</span> {
</span></span><span style=display:flex><span>        discoveryQueue<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#79c0ff>true</span>,
</span></span><span style=display:flex><span>        seasonalSales<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#79c0ff>true</span>,
</span></span><span style=display:flex><span>        communityFeatures<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#79c0ff>true</span>,
</span></span><span style=display:flex><span>        earlyAccess<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#79c0ff>true</span>
</span></span><span style=display:flex><span>      },
</span></span><span style=display:flex><span>      costs<span style=color:#ff7b72;font-weight:700>:</span> {
</span></span><span style=display:flex><span>        submissionFee<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>100</span>,
</span></span><span style=display:flex><span>        revenueShare<span style=color:#ff7b72;font-weight:700>:</span> { <span style=color:#a5d6ff>0.30</span><span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>1000000</span>, <span style=color:#a5d6ff>0.25</span><span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>50000000</span>, <span style=color:#a5d6ff>0.20</span><span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#79c0ff>Infinity</span> }
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>    });
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic>// Nintendo eShop
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    <span style=color:#ff7b72>this</span>.channels.set(<span style=color:#a5d6ff>&#39;eshop&#39;</span>, {
</span></span><span style=display:flex><span>      name<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;Nintendo eShop&#39;</span>,
</span></span><span style=display:flex><span>      platform<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;switch&#39;</span>,
</span></span><span style=display:flex><span>      regions<span style=color:#ff7b72;font-weight:700>:</span> [<span style=color:#a5d6ff>&#39;americas&#39;</span>, <span style=color:#a5d6ff>&#39;europe&#39;</span>, <span style=color:#a5d6ff>&#39;asia&#39;</span>],
</span></span><span style=display:flex><span>      features<span style=color:#ff7b72;font-weight:700>:</span> {
</span></span><span style=display:flex><span>        demoVersions<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#79c0ff>true</span>,
</span></span><span style=display:flex><span>        discounts<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#79c0ff>true</span>,
</span></span><span style=display:flex><span>        goldPoints<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#79c0ff>true</span>,
</span></span><span style=display:flex><span>        multiplayer<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#79c0ff>true</span>
</span></span><span style=display:flex><span>      },
</span></span><span style=display:flex><span>      optimization<span style=color:#ff7b72;font-weight:700>:</span> {
</span></span><span style=display:flex><span>        featuredBanners<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#79c0ff>true</span>,
</span></span><span style=display:flex><span>        eshopSales<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#79c0ff>true</span>,
</span></span><span style=display:flex><span>        socialMediaIntegration<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#79c0ff>true</span>
</span></span><span style=display:flex><span>      },
</span></span><span style=display:flex><span>      costs<span style=color:#ff7b72;font-weight:700>:</span> {
</span></span><span style=display:flex><span>        developerProgram<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>500</span>,
</span></span><span style=display:flex><span>        revenueShare<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>0.30</span>
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>    });
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#8b949e;font-style:italic>// è·å–æ¨èæ¸ é“
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>  getRecommendedChannels(targetPlatform, targetRegion, gameType) {
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>const</span> recommendations <span style=color:#ff7b72;font-weight:700>=</span> [];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>this</span>.channels.forEach((channel, channelKey) =&gt; {
</span></span><span style=display:flex><span>      <span style=color:#ff7b72>if</span> (channel.platform <span style=color:#ff7b72;font-weight:700>===</span> targetPlatform <span style=color:#ff7b72;font-weight:700>||</span> targetPlatform <span style=color:#ff7b72;font-weight:700>===</span> <span style=color:#a5d6ff>&#39;all&#39;</span>) {
</span></span><span style=display:flex><span>        <span style=color:#ff7b72>if</span> (channel.regions.includes(<span style=color:#a5d6ff>&#39;global&#39;</span>) <span style=color:#ff7b72;font-weight:700>||</span> channel.regions.includes(targetRegion)) {
</span></span><span style=display:flex><span>          recommendations.push({
</span></span><span style=display:flex><span>            id<span style=color:#ff7b72;font-weight:700>:</span> channelKey,
</span></span><span style=display:flex><span>            name<span style=color:#ff7b72;font-weight:700>:</span> channel.name,
</span></span><span style=display:flex><span>            matchScore<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#ff7b72>this</span>.calculateMatchScore(channel, gameType)
</span></span><span style=display:flex><span>          });
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>    });
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>return</span> recommendations.sort((a, b) =&gt; b.matchScore <span style=color:#ff7b72;font-weight:700>-</span> a.matchScore);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#8b949e;font-style:italic>// è®¡ç®—æ¸ é“åŒ¹é…åº¦
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>  calculateMatchScore(channel, gameType) {
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>let</span> score <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#a5d6ff>50</span>; <span style=color:#8b949e;font-style:italic>// åŸºç¡€åˆ†æ•°
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic>// æ ¹æ®æ¸¸æˆç±»å‹è°ƒæ•´åˆ†æ•°
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    <span style=color:#ff7b72>if</span> (gameType <span style=color:#ff7b72;font-weight:700>===</span> <span style=color:#a5d6ff>&#39;casual&#39;</span> <span style=color:#ff7b72;font-weight:700>&amp;&amp;</span> channel.features<span style=color:#ff7b72;font-weight:700>?</span>.seasonalPromotions) {
</span></span><span style=display:flex><span>      score <span style=color:#ff7b72;font-weight:700>+=</span> <span style=color:#a5d6ff>20</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>if</span> (gameType <span style=color:#ff7b72;font-weight:700>===</span> <span style=color:#a5d6ff>&#39;indie&#39;</span> <span style=color:#ff7b72;font-weight:700>&amp;&amp;</span> channel.platform <span style=color:#ff7b72;font-weight:700>===</span> <span style=color:#a5d6ff>&#39;steam&#39;</span>) {
</span></span><span style=display:flex><span>      score <span style=color:#ff7b72;font-weight:700>+=</span> <span style=color:#a5d6ff>30</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>if</span> (gameType <span style=color:#ff7b72;font-weight:700>===</span> <span style=color:#a5d6ff>&#39;mobile&#39;</span> <span style=color:#ff7b72;font-weight:700>&amp;&amp;</span> (channel.platform <span style=color:#ff7b72;font-weight:700>===</span> <span style=color:#a5d6ff>&#39;android&#39;</span> <span style=color:#ff7b72;font-weight:700>||</span> channel.platform <span style=color:#ff7b72;font-weight:700>===</span> <span style=color:#a5d6ff>&#39;ios&#39;</span>)) {
</span></span><span style=display:flex><span>      score <span style=color:#ff7b72;font-weight:700>+=</span> <span style=color:#a5d6ff>25</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>return</span> score;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#8b949e;font-style:italic>// æ¸ é“å‘å¸ƒæ£€æŸ¥æ¸…å•
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>  getPublishingChecklist(channelKey) {
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>const</span> channel <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#ff7b72>this</span>.channels.get(channelKey);
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>if</span> (<span style=color:#ff7b72;font-weight:700>!</span>channel) <span style=color:#ff7b72>return</span> [];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>const</span> checklist <span style=color:#ff7b72;font-weight:700>=</span> [
</span></span><span style=display:flex><span>      {
</span></span><span style=display:flex><span>        category<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;legal&#39;</span>,
</span></span><span style=display:flex><span>        items<span style=color:#ff7b72;font-weight:700>:</span> [
</span></span><span style=display:flex><span>          { task<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;éšç§æ”¿ç­–&#39;</span>, required<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#79c0ff>true</span> },
</span></span><span style=display:flex><span>          { task<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;æœåŠ¡æ¡æ¬¾&#39;</span>, required<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#79c0ff>true</span> },
</span></span><span style=display:flex><span>          { task<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;ç‰ˆæƒå£°æ˜&#39;</span>, required<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#79c0ff>true</span> },
</span></span><span style=display:flex><span>          { task<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;åœ°åŒºæ³•è§„ç¬¦åˆ&#39;</span>, required<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#79c0ff>true</span> }
</span></span><span style=display:flex><span>        ]
</span></span><span style=display:flex><span>      },
</span></span><span style=display:flex><span>      {
</span></span><span style=display:flex><span>        category<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;technical&#39;</span>,
</span></span><span style=display:flex><span>        items<span style=color:#ff7b72;font-weight:700>:</span> [
</span></span><span style=display:flex><span>          { task<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;åº”ç”¨ç­¾å&#39;</span>, required<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#79c0ff>true</span> },
</span></span><span style=display:flex><span>          { task<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;æƒé™å£°æ˜&#39;</span>, required<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#79c0ff>true</span> },
</span></span><span style=display:flex><span>          { task<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;å´©æºƒæŠ¥å‘Š&#39;</span>, required<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#79c0ff>false</span> },
</span></span><span style=display:flex><span>          { task<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;æ€§èƒ½ä¼˜åŒ–&#39;</span>, required<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#79c0ff>false</span> }
</span></span><span style=display:flex><span>        ]
</span></span><span style=display:flex><span>      },
</span></span><span style=display:flex><span>      {
</span></span><span style=display:flex><span>        category<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;content&#39;</span>,
</span></span><span style=display:flex><span>        items<span style=color:#ff7b72;font-weight:700>:</span> [
</span></span><span style=display:flex><span>          { task<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;æœ¬åœ°åŒ–å®Œæˆ&#39;</span>, required<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#79c0ff>true</span> },
</span></span><span style=display:flex><span>          { task<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;æˆªå›¾å’Œè§†é¢‘&#39;</span>, required<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#79c0ff>true</span> },
</span></span><span style=display:flex><span>          { task<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;æè¿°æ–‡æ¡ˆ&#39;</span>, required<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#79c0ff>true</span> },
</span></span><span style=display:flex><span>          { task<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;å…³é”®è¯ä¼˜åŒ–&#39;</span>, required<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#79c0ff>false</span> }
</span></span><span style=display:flex><span>        ]
</span></span><span style=display:flex><span>      },
</span></span><span style=display:flex><span>      {
</span></span><span style=display:flex><span>        category<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;monetization&#39;</span>,
</span></span><span style=display:flex><span>        items<span style=color:#ff7b72;font-weight:700>:</span> [
</span></span><span style=display:flex><span>          { task<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;å®šä»·ç­–ç•¥&#39;</span>, required<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#79c0ff>true</span> },
</span></span><span style=display:flex><span>          { task<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;å†…è´­é…ç½®&#39;</span>, required<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#79c0ff>false</span> },
</span></span><span style=display:flex><span>          { task<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;å¹¿å‘Šé›†æˆ&#39;</span>, required<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#79c0ff>false</span> },
</span></span><span style=display:flex><span>          { task<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;è®¢é˜…è®¾ç½®&#39;</span>, required<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#79c0ff>false</span> }
</span></span><span style=display:flex><span>        ]
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>    ];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>return</span> checklist;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#8b949e;font-style:italic>// æ¸ é“æ”¶ç›Šåˆ†æ
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>  analyzeChannelRevenue(channelKey, metrics) {
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>const</span> channel <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#ff7b72>this</span>.channels.get(channelKey);
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>if</span> (<span style=color:#ff7b72;font-weight:700>!</span>channel) <span style=color:#ff7b72>return</span> <span style=color:#79c0ff>null</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>const</span> revenue <span style=color:#ff7b72;font-weight:700>=</span> metrics.revenue <span style=color:#ff7b72;font-weight:700>||</span> <span style=color:#a5d6ff>0</span>;
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>const</span> downloads <span style=color:#ff7b72;font-weight:700>=</span> metrics.downloads <span style=color:#ff7b72;font-weight:700>||</span> <span style=color:#a5d6ff>0</span>;
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>const</span> revenueShare <span style=color:#ff7b72;font-weight:700>=</span> channel.costs.revenueShare;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic>// è®¡ç®—å‡€æ”¶ç›Š
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    <span style=color:#ff7b72>let</span> netRevenue <span style=color:#ff7b72;font-weight:700>=</span> revenue;
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>if</span> (<span style=color:#ff7b72>typeof</span> revenueShare <span style=color:#ff7b72;font-weight:700>===</span> <span style=color:#a5d6ff>&#39;number&#39;</span>) {
</span></span><span style=display:flex><span>      netRevenue <span style=color:#ff7b72;font-weight:700>=</span> revenue <span style=color:#ff7b72;font-weight:700>*</span> (<span style=color:#a5d6ff>1</span> <span style=color:#ff7b72;font-weight:700>-</span> revenueShare);
</span></span><span style=display:flex><span>    } <span style=color:#ff7b72>else</span> <span style=color:#ff7b72>if</span> (<span style=color:#ff7b72>typeof</span> revenueShare <span style=color:#ff7b72;font-weight:700>===</span> <span style=color:#a5d6ff>&#39;object&#39;</span>) {
</span></span><span style=display:flex><span>      <span style=color:#8b949e;font-style:italic>// é˜¶æ¢¯å¼åˆ†æˆ
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>      <span style=color:#ff7b72>for</span> (<span style=color:#ff7b72>const</span> [share, threshold] <span style=color:#ff7b72>of</span> Object.entries(revenueShare)) {
</span></span><span style=display:flex><span>        <span style=color:#ff7b72>if</span> (revenue <span style=color:#ff7b72;font-weight:700>&lt;=</span> threshold) {
</span></span><span style=display:flex><span>          netRevenue <span style=color:#ff7b72;font-weight:700>=</span> revenue <span style=color:#ff7b72;font-weight:700>*</span> (<span style=color:#a5d6ff>1</span> <span style=color:#ff7b72;font-weight:700>-</span> parseFloat(share));
</span></span><span style=display:flex><span>          <span style=color:#ff7b72>break</span>;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>return</span> {
</span></span><span style=display:flex><span>      grossRevenue<span style=color:#ff7b72;font-weight:700>:</span> revenue,
</span></span><span style=display:flex><span>      netRevenue,
</span></span><span style=display:flex><span>      channelFee<span style=color:#ff7b72;font-weight:700>:</span> revenue <span style=color:#ff7b72;font-weight:700>-</span> netRevenue,
</span></span><span style=display:flex><span>      arpd<span style=color:#ff7b72;font-weight:700>:</span> downloads <span style=color:#ff7b72;font-weight:700>&gt;</span> <span style=color:#a5d6ff>0</span> <span style=color:#ff7b72;font-weight:700>?</span> revenue <span style=color:#ff7b72;font-weight:700>/</span> downloads <span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>0</span>,
</span></span><span style=display:flex><span>      profitMargin<span style=color:#ff7b72;font-weight:700>:</span> revenue <span style=color:#ff7b72;font-weight:700>&gt;</span> <span style=color:#a5d6ff>0</span> <span style=color:#ff7b72;font-weight:700>?</span> (netRevenue <span style=color:#ff7b72;font-weight:700>/</span> revenue) <span style=color:#ff7b72;font-weight:700>*</span> <span style=color:#a5d6ff>100</span> <span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>0</span>
</span></span><span style=display:flex><span>    };
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span></code></pre></td></tr></table></div></div><h3 id=ç”¨æˆ·è·å–ç­–ç•¥>ç”¨æˆ·è·å–ç­–ç•¥<a hidden class=anchor aria-hidden=true href=#ç”¨æˆ·è·å–ç­–ç•¥>#</a></h3><div class=highlight><div style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:2;-o-tab-size:2;tab-size:2><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 56
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 57
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 58
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 59
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 60
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 61
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 62
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 63
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 64
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 65
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 66
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 67
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 68
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 69
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 70
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 71
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 72
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 73
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 74
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 75
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 76
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 77
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 78
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 79
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 80
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 81
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 82
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 83
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 84
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 85
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 86
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 87
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 88
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 89
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 90
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 91
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 92
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 93
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 94
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 95
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 96
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 97
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 98
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 99
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">100
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">101
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">102
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">103
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">104
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">105
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">106
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">107
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">108
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">109
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">110
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">111
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">112
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">113
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">114
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">115
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">116
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">117
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">118
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">119
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">120
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">121
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">122
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">123
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">124
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">125
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">126
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">127
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">128
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">129
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">130
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">131
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">132
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">133
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">134
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">135
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">136
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">137
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">138
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">139
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">140
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">141
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">142
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">143
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">144
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">145
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">146
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">147
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">148
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">149
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">150
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">151
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">152
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">153
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">154
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">155
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">156
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">157
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">158
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">159
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">160
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">161
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">162
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">163
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">164
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">165
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">166
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">167
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">168
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">169
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">170
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">171
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">172
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">173
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">174
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">175
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">176
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">177
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">178
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">179
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">180
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">181
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">182
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">183
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">184
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">185
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">186
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">187
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">188
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">189
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">190
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#8b949e;font-style:italic>// ç”¨æˆ·è·å–ç®¡ç†å™¨
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span><span style=color:#ff7b72>class</span> UserAcquisitionManager {
</span></span><span style=display:flex><span>  constructor() {
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>this</span>.campaigns <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#ff7b72>new</span> Map();
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>this</span>.metrics <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#ff7b72>new</span> Map();
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>this</span>.attributionModel <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#a5d6ff>&#39;last_click&#39;</span>;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#8b949e;font-style:italic>// åˆ›å»ºè¥é”€æ´»åŠ¨
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>  createCampaign(config) {
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>const</span> campaign <span style=color:#ff7b72;font-weight:700>=</span> {
</span></span><span style=display:flex><span>      id<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#ff7b72>this</span>.generateCampaignId(),
</span></span><span style=display:flex><span>      name<span style=color:#ff7b72;font-weight:700>:</span> config.name,
</span></span><span style=display:flex><span>      type<span style=color:#ff7b72;font-weight:700>:</span> config.type, <span style=color:#8b949e;font-style:italic>// &#39;cpi&#39;, &#39;cpa&#39;, &#39;cpm&#39;, &#39;organic&#39;
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>      platform<span style=color:#ff7b72;font-weight:700>:</span> config.platform,
</span></span><span style=display:flex><span>      region<span style=color:#ff7b72;font-weight:700>:</span> config.region,
</span></span><span style=display:flex><span>      budget<span style=color:#ff7b72;font-weight:700>:</span> config.budget,
</span></span><span style=display:flex><span>      targeting<span style=color:#ff7b72;font-weight:700>:</span> config.targeting,
</span></span><span style=display:flex><span>      creative<span style=color:#ff7b72;font-weight:700>:</span> config.creative,
</span></span><span style=display:flex><span>      startDate<span style=color:#ff7b72;font-weight:700>:</span> config.startDate,
</span></span><span style=display:flex><span>      endDate<span style=color:#ff7b72;font-weight:700>:</span> config.endDate,
</span></span><span style=display:flex><span>      status<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;active&#39;</span>,
</span></span><span style=display:flex><span>      metrics<span style=color:#ff7b72;font-weight:700>:</span> {
</span></span><span style=display:flex><span>        impressions<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>0</span>,
</span></span><span style=display:flex><span>        clicks<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>0</span>,
</span></span><span style=display:flex><span>        installs<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>0</span>,
</span></span><span style=display:flex><span>        cost<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>0</span>,
</span></span><span style=display:flex><span>        revenue<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>0</span>,
</span></span><span style=display:flex><span>        roas<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>0</span>
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>    };
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>this</span>.campaigns.set(campaign.id, campaign);
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>return</span> campaign;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#8b949e;font-style:italic>// è·å–ç”¨æˆ·æ¥æºåˆ†æ
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>  getUserSourceAnalysis(timeRange <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#a5d6ff>&#39;30d&#39;</span>) {
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>const</span> sources <span style=color:#ff7b72;font-weight:700>=</span> {
</span></span><span style=display:flex><span>      organic<span style=color:#ff7b72;font-weight:700>:</span> { users<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>0</span>, revenue<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>0</span>, retention<span style=color:#ff7b72;font-weight:700>:</span> [] },
</span></span><span style=display:flex><span>      paid_social<span style=color:#ff7b72;font-weight:700>:</span> { users<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>0</span>, revenue<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>0</span>, retention<span style=color:#ff7b72;font-weight:700>:</span> [] },
</span></span><span style=display:flex><span>      paid_search<span style=color:#ff7b72;font-weight:700>:</span> { users<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>0</span>, revenue<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>0</span>, retention<span style=color:#ff7b72;font-weight:700>:</span> [] },
</span></span><span style=display:flex><span>      influencer<span style=color:#ff7b72;font-weight:700>:</span> { users<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>0</span>, revenue<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>0</span>, retention<span style=color:#ff7b72;font-weight:700>:</span> [] },
</span></span><span style=display:flex><span>      referral<span style=color:#ff7b72;font-weight:700>:</span> { users<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>0</span>, revenue<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>0</span>, retention<span style=color:#ff7b72;font-weight:700>:</span> [] }
</span></span><span style=display:flex><span>    };
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic>// åˆ†æå„æ¸ é“æ•°æ®
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    <span style=color:#ff7b72>this</span>.metrics.forEach((userMetrics, userId) =&gt; {
</span></span><span style=display:flex><span>      <span style=color:#ff7b72>const</span> source <span style=color:#ff7b72;font-weight:700>=</span> userMetrics.acquisitionSource;
</span></span><span style=display:flex><span>      <span style=color:#ff7b72>if</span> (sources[source]) {
</span></span><span style=display:flex><span>        sources[source].users<span style=color:#ff7b72;font-weight:700>++</span>;
</span></span><span style=display:flex><span>        sources[source].revenue <span style=color:#ff7b72;font-weight:700>+=</span> userMetrics.ltv <span style=color:#ff7b72;font-weight:700>||</span> <span style=color:#a5d6ff>0</span>;
</span></span><span style=display:flex><span>        sources[source].retention.push(userMetrics.retention <span style=color:#ff7b72;font-weight:700>||</span> <span style=color:#a5d6ff>0</span>);
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>    });
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic>// è®¡ç®—å¹³å‡å€¼
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    Object.keys(sources).forEach(source =&gt; {
</span></span><span style=display:flex><span>      <span style=color:#ff7b72>const</span> retentionData <span style=color:#ff7b72;font-weight:700>=</span> sources[source].retention;
</span></span><span style=display:flex><span>      sources[source].avgRetention <span style=color:#ff7b72;font-weight:700>=</span> retentionData.length <span style=color:#ff7b72;font-weight:700>&gt;</span> <span style=color:#a5d6ff>0</span> <span style=color:#ff7b72;font-weight:700>?</span>
</span></span><span style=display:flex><span>        retentionData.reduce((a, b) =&gt; a <span style=color:#ff7b72;font-weight:700>+</span> b, <span style=color:#a5d6ff>0</span>) <span style=color:#ff7b72;font-weight:700>/</span> retentionData.length <span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>0</span>;
</span></span><span style=display:flex><span>    });
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>return</span> sources;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#8b949e;font-style:italic>// A/Bæµ‹è¯•å¹¿å‘Šç´ æ
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>  <span style=color:#ff7b72>async</span> testAdCreatives(campaignId, creatives) {
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>const</span> results <span style=color:#ff7b72;font-weight:700>=</span> [];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>for</span> (<span style=color:#ff7b72>const</span> creative <span style=color:#ff7b72>of</span> creatives) {
</span></span><span style=display:flex><span>      <span style=color:#ff7b72>const</span> testResult <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#ff7b72>await</span> <span style=color:#ff7b72>this</span>.runAdTest(campaignId, creative);
</span></span><span style=display:flex><span>      results.push({
</span></span><span style=display:flex><span>        creative<span style=color:#ff7b72;font-weight:700>:</span> creative,
</span></span><span style=display:flex><span>        cpm<span style=color:#ff7b72;font-weight:700>:</span> testResult.cpm,
</span></span><span style=display:flex><span>        ctr<span style=color:#ff7b72;font-weight:700>:</span> testResult.ctr,
</span></span><span style=display:flex><span>        cpi<span style=color:#ff7b72;font-weight:700>:</span> testResult.cpi,
</span></span><span style=display:flex><span>        roas<span style=color:#ff7b72;font-weight:700>:</span> testResult.roas,
</span></span><span style=display:flex><span>        significance<span style=color:#ff7b72;font-weight:700>:</span> testResult.significance
</span></span><span style=display:flex><span>      });
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic>// æ’åºå¹¶æ¨èæœ€ä½³ç´ æ
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    <span style=color:#ff7b72>return</span> results.sort((a, b) =&gt; b.roas <span style=color:#ff7b72;font-weight:700>-</span> a.roas);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#8b949e;font-style:italic>// è¿è¡Œå¹¿å‘Šæµ‹è¯•
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>  <span style=color:#ff7b72>async</span> runAdTest(campaignId, creative) {
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic>// å®ç°A/Bæµ‹è¯•é€»è¾‘
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    <span style=color:#8b949e;font-style:italic>// è¿”å›æµ‹è¯•æŒ‡æ ‡
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    <span style=color:#ff7b72>return</span> {
</span></span><span style=display:flex><span>      cpm<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>2.5</span>,
</span></span><span style=display:flex><span>      ctr<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>0.015</span>,
</span></span><span style=display:flex><span>      cpi<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>1.2</span>,
</span></span><span style=display:flex><span>      roas<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>2.8</span>,
</span></span><span style=display:flex><span>      significance<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>0.95</span>
</span></span><span style=display:flex><span>    };
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#8b949e;font-style:italic>// è®¡ç®—LTV/CACæ¯”ç‡
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>  calculateLTVCACRatio() {
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>let</span> totalLTV <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#a5d6ff>0</span>;
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>let</span> totalCAC <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#a5d6ff>0</span>;
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>let</span> userCount <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#a5d6ff>0</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>this</span>.metrics.forEach((metrics) =&gt; {
</span></span><span style=display:flex><span>      <span style=color:#ff7b72>if</span> (metrics.ltv <span style=color:#ff7b72;font-weight:700>&amp;&amp;</span> metrics.cac) {
</span></span><span style=display:flex><span>        totalLTV <span style=color:#ff7b72;font-weight:700>+=</span> metrics.ltv;
</span></span><span style=display:flex><span>        totalCAC <span style=color:#ff7b72;font-weight:700>+=</span> metrics.cac;
</span></span><span style=display:flex><span>        userCount<span style=color:#ff7b72;font-weight:700>++</span>;
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>    });
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>if</span> (userCount <span style=color:#ff7b72;font-weight:700>===</span> <span style=color:#a5d6ff>0</span>) <span style=color:#ff7b72>return</span> <span style=color:#a5d6ff>0</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>const</span> avgLTV <span style=color:#ff7b72;font-weight:700>=</span> totalLTV <span style=color:#ff7b72;font-weight:700>/</span> userCount;
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>const</span> avgCAC <span style=color:#ff7b72;font-weight:700>=</span> totalCAC <span style=color:#ff7b72;font-weight:700>/</span> userCount;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>return</span> avgLTV <span style=color:#ff7b72;font-weight:700>/</span> avgCAC;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#8b949e;font-style:italic>// ç”Ÿæˆç”¨æˆ·è·å–æŠ¥å‘Š
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>  generateAcquisitionReport(timeRange <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#a5d6ff>&#39;7d&#39;</span>) {
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>const</span> report <span style=color:#ff7b72;font-weight:700>=</span> {
</span></span><span style=display:flex><span>      period<span style=color:#ff7b72;font-weight:700>:</span> timeRange,
</span></span><span style=display:flex><span>      totalUsers<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>0</span>,
</span></span><span style=display:flex><span>      totalCost<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>0</span>,
</span></span><span style=display:flex><span>      totalRevenue<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>0</span>,
</span></span><span style=display:flex><span>      avgCAC<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>0</span>,
</span></span><span style=display:flex><span>      avgLTV<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>0</span>,
</span></span><span style=display:flex><span>      ltvCACRatio<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#ff7b72>this</span>.calculateLTVCACRatio(),
</span></span><span style=display:flex><span>      topChannels<span style=color:#ff7b72;font-weight:700>:</span> [],
</span></span><span style=display:flex><span>      recommendations<span style=color:#ff7b72;font-weight:700>:</span> []
</span></span><span style=display:flex><span>    };
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic>// ç»Ÿè®¡æ•°æ®
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    <span style=color:#ff7b72>this</span>.campaigns.forEach((campaign) =&gt; {
</span></span><span style=display:flex><span>      <span style=color:#ff7b72>if</span> (<span style=color:#ff7b72>this</span>.isCampaignInPeriod(campaign, timeRange)) {
</span></span><span style=display:flex><span>        report.totalUsers <span style=color:#ff7b72;font-weight:700>+=</span> campaign.metrics.installs;
</span></span><span style=display:flex><span>        report.totalCost <span style=color:#ff7b72;font-weight:700>+=</span> campaign.metrics.cost;
</span></span><span style=display:flex><span>        report.totalRevenue <span style=color:#ff7b72;font-weight:700>+=</span> campaign.metrics.revenue;
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>    });
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic>// è®¡ç®—å¹³å‡å€¼
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    <span style=color:#ff7b72>if</span> (report.totalUsers <span style=color:#ff7b72;font-weight:700>&gt;</span> <span style=color:#a5d6ff>0</span>) {
</span></span><span style=display:flex><span>      report.avgCAC <span style=color:#ff7b72;font-weight:700>=</span> report.totalCost <span style=color:#ff7b72;font-weight:700>/</span> report.totalUsers;
</span></span><span style=display:flex><span>      report.avgLTV <span style=color:#ff7b72;font-weight:700>=</span> report.totalRevenue <span style=color:#ff7b72;font-weight:700>/</span> report.totalUsers;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic>// ç”Ÿæˆå»ºè®®
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    report.recommendations <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#ff7b72>this</span>.generateRecommendations(report);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>return</span> report;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#8b949e;font-style:italic>// ç”Ÿæˆä¼˜åŒ–å»ºè®®
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>  generateRecommendations(report) {
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>const</span> recommendations <span style=color:#ff7b72;font-weight:700>=</span> [];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>if</span> (report.ltvCACRatio <span style=color:#ff7b72;font-weight:700>&lt;</span> <span style=color:#a5d6ff>1</span>) {
</span></span><span style=display:flex><span>      recommendations.push({
</span></span><span style=display:flex><span>        type<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;warning&#39;</span>,
</span></span><span style=display:flex><span>        message<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;LTV/CACæ¯”ç‡ä½äº1ï¼Œéœ€è¦ä¼˜åŒ–ç”¨æˆ·è·å–ç­–ç•¥&#39;</span>,
</span></span><span style=display:flex><span>        actions<span style=color:#ff7b72;font-weight:700>:</span> [<span style=color:#a5d6ff>&#39;æé«˜ç”¨æˆ·ç•™å­˜&#39;</span>, <span style=color:#a5d6ff>&#39;ä¼˜åŒ–å¹¿å‘Šç´ æ&#39;</span>, <span style=color:#a5d6ff>&#39;è°ƒæ•´ç›®æ ‡å—ä¼—&#39;</span>]
</span></span><span style=display:flex><span>      });
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>if</span> (report.avgCAC <span style=color:#ff7b72;font-weight:700>&gt;</span> report.avgLTV <span style=color:#ff7b72;font-weight:700>*</span> <span style=color:#a5d6ff>0.3</span>) {
</span></span><span style=display:flex><span>      recommendations.push({
</span></span><span style=display:flex><span>        type<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;info&#39;</span>,
</span></span><span style=display:flex><span>        message<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;è·å®¢æˆæœ¬åé«˜ï¼Œå»ºè®®ä¼˜åŒ–æŠ•æ”¾æ¸ é“&#39;</span>,
</span></span><span style=display:flex><span>        actions<span style=color:#ff7b72;font-weight:700>:</span> [<span style=color:#a5d6ff>&#39;æµ‹è¯•æ–°æ¸ é“&#39;</span>, <span style=color:#a5d6ff>&#39;ä¼˜åŒ–æŠ•æ”¾æ—¶æ®µ&#39;</span>, <span style=color:#a5d6ff>&#39;æ”¹è¿›è½åœ°é¡µ&#39;</span>]
</span></span><span style=display:flex><span>      });
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>return</span> recommendations;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#8b949e;font-style:italic>// ç”Ÿæˆæ´»åŠ¨ID
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>  generateCampaignId() {
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>return</span> <span style=color:#a5d6ff>&#39;camp_&#39;</span> <span style=color:#ff7b72;font-weight:700>+</span> Date.now().toString(<span style=color:#a5d6ff>36</span>) <span style=color:#ff7b72;font-weight:700>+</span> Math.random().toString(<span style=color:#a5d6ff>36</span>).substr(<span style=color:#a5d6ff>2</span>);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#8b949e;font-style:italic>// æ£€æŸ¥æ´»åŠ¨æ˜¯å¦åœ¨æŒ‡å®šæ—¶é—´èŒƒå›´å†…
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>  isCampaignInPeriod(campaign, timeRange) {
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic>// å®ç°æ—¶é—´èŒƒå›´æ£€æŸ¥é€»è¾‘
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    <span style=color:#ff7b72>return</span> <span style=color:#79c0ff>true</span>;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span></code></pre></td></tr></table></div></div><h2 id=æ€»ç»“>æ€»ç»“<a hidden class=anchor aria-hidden=true href=#æ€»ç»“>#</a></h2><p>æ¸¸æˆå‡ºæµ·æˆåŠŸçš„å…³é”®è¦ç´ ï¼š</p><p><strong>æœ¬åœ°åŒ–æ·±åº¦ï¼š</strong></p><ol><li>è¯­è¨€ç¿»è¯‘çš„å‡†ç¡®æ€§å’Œæ–‡åŒ–é€‚åº”æ€§</li><li>è§†è§‰å…ƒç´ çš„æ–‡åŒ–æ•æ„Ÿåº¦å¤„ç†</li><li>ç”¨æˆ·ä½“éªŒçš„æœ¬åœ°åŒ–ä¼˜åŒ–</li><li>ç¤¾äº¤åŠŸèƒ½çš„æœ¬åœ°åŒ–è°ƒæ•´</li></ol><p><strong>å‘è¡Œç­–ç•¥ï¼š</strong></p><ol><li>åˆé€‚çš„æ¸ é“é€‰æ‹©å’Œç»„åˆ</li><li>ç²¾å‡†çš„ç”¨æˆ·è·å–ç­–ç•¥</li><li>æ•°æ®é©±åŠ¨çš„ä¼˜åŒ–å†³ç­–</li><li>æŒç»­çš„å¸‚åœºç›‘æ§å’Œè°ƒæ•´</li></ol><p><strong>è¿è¥è¦ç‚¹ï¼š</strong></p><ol><li>æ·±åº¦ç†è§£ç›®æ ‡å¸‚åœºæ–‡åŒ–</li><li>å»ºç«‹æœ¬åœ°åŒ–è¿è¥å›¢é˜Ÿ</li><li>é€‚åº”ä¸åŒåœ°åŒºçš„æ³•è§„è¦æ±‚</li><li>ä¿æŒäº§å“æŒç»­ä¼˜åŒ–</li></ol><p><strong>æˆåŠŸæŒ‡æ ‡ï¼š</strong></p><ul><li>ç”¨æˆ·ç•™å­˜ç‡</li><li>ä»˜è´¹è½¬åŒ–ç‡</li><li>LTV/CACæ¯”ç‡</li><li>å¸‚åœºä»½é¢å¢é•¿</li></ul><p>é€šè¿‡ç³»ç»ŸåŒ–çš„å‡ºæµ·ç­–ç•¥ï¼Œä¸­å›½æ¸¸æˆä¼ä¸šå¯ä»¥åœ¨å…¨çƒå¸‚åœºå–å¾—æˆåŠŸï¼Œå®ç°å•†ä¸šä»·å€¼å’Œæ–‡åŒ–å½±å“åŠ›çš„åŒé‡æå‡ã€‚</p><hr><p><strong>ç›¸å…³èµ„æºï¼š</strong></p><ul><li><a href=https://play.google.com/console/>Google Play Console</a></li><li><a href=https://appstoreconnect.apple.com/>Apple App Store Connect</a></li><li><a href=https://partner.steamgames.com/>Steamworks</a></li><li><a href=https://www.gamasutra.com/view/pressreleases/2020/05/04/>æ¸¸æˆæœ¬åœ°åŒ–æœ€ä½³å®è·µ</a></li></ul></div><footer class=post-footer-modern><div class=post-tags-modern><span class=tags-label>ğŸ·ï¸ æ ‡ç­¾</span><div class=tags-list><a href=/blog/tags/%E6%B8%B8%E6%88%8F%E5%87%BA%E6%B5%B7/ class=tag-pill>æ¸¸æˆå‡ºæµ·
</a><a href=/blog/tags/%E6%9C%AC%E5%9C%B0%E5%8C%96/ class=tag-pill>æœ¬åœ°åŒ–
</a><a href=/blog/tags/%E6%B5%B7%E5%A4%96%E5%8F%91%E8%A1%8C/ class=tag-pill>æµ·å¤–å‘è¡Œ
</a><a href=/blog/tags/%E8%B7%A8%E6%96%87%E5%8C%96%E8%BF%90%E8%90%A5/ class=tag-pill>è·¨æ–‡åŒ–è¿è¥
</a><a href=/blog/tags/%E6%B8%B8%E6%88%8F%E5%85%A8%E7%90%83%E5%8C%96/ class=tag-pill>æ¸¸æˆå…¨çƒåŒ–</a></div></div><style>.post-footer-modern{margin-top:3rem;padding-top:2rem;border-top:1px solid var(--border,#333333)}.post-tags-modern{display:flex;align-items:center;gap:1rem;margin-bottom:2rem;flex-wrap:wrap}.tags-label{font-size:.875rem;font-weight:600;color:var(--secondary,#999999) !important;white-space:nowrap}.tags-list{display:flex;flex-wrap:wrap;gap:.5rem;flex:1}.tag-pill{display:inline-block;padding:.25rem .75rem;background:rgba(255,255,255,5%);border:1px solid var(--border,#333333);border-radius:0;color:var(--secondary,#cccccc) !important;text-decoration:none;font-size:.8rem;font-weight:500;transition:all .2s ease}.tag-pill:hover{background:var(--primary,#ffffff);color:var(--background,#000000) !important;border-color:var(--primary,#ffffff);transform:translateY(-1px)}.post-nav-modern{margin-top:2rem}.nav-grid{display:grid;grid-template-columns:1fr 1fr;gap:1rem}.nav-card{display:flex;align-items:center;gap:1rem;padding:1.25rem;background:rgba(255,255,255,2%);border:1px solid var(--border,#333333);border-radius:12px;text-decoration:none;transition:all .2s ease;min-height:80px}.nav-card:hover{background:rgba(255,255,255,5%);border-color:var(--primary,#ffffff);transform:translateY(-2px)}.nav-card.nav-prev{justify-content:flex-start}.nav-card.nav-next{justify-content:flex-end;text-align:right}.nav-card.nav-next .nav-content{text-align:right}.nav-empty{display:flex;align-items:center;justify-content:center;background:rgba(255,255,255,1%);border:1px dashed var(--border,#333333);color:var(--secondary,#666666)}.nav-arrow{font-size:1.5rem;color:var(--primary,#ffffff);font-weight:300}.nav-content{flex:1}.nav-title{font-size:.95rem;font-weight:600;color:var(--primary,#ffffff) !important;line-height:1.4;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}[data-theme=light] .post-footer-modern{border-color:var(--border-light,#dee2e6)}[data-theme=light] .tags-label{color:var(--secondary-light,#6c757d) !important}[data-theme=light] .tag-pill{background:rgba(0,0,0,5%);border-color:var(--border-light,#dee2e6);color:var(--secondary-light,#495057) !important}[data-theme=light] .tag-pill:hover{background:var(--primary-light,#0066cc);color:var(--background-light,#ffffff) !important;border-color:var(--primary-light,#0066cc)}[data-theme=light] .nav-card{background:rgba(0,0,0,2%);border-color:var(--border-light,#dee2e6)}[data-theme=light] .nav-card:hover{background:rgba(0,102,204,5%);border-color:var(--primary-light,#0066cc)}[data-theme=light] .nav-empty{background:rgba(0,0,0,1%);border-color:var(--border-light,#dee2e6);color:var(--secondary-light,#6c757d)}[data-theme=light] .nav-arrow{color:var(--primary-light,#0066cc)}[data-theme=light] .nav-title{color:var(--primary-light,#212529) !important}@media(max-width:768px){.nav-grid{grid-template-columns:1fr;gap:.75rem}.nav-card{padding:1rem;min-height:70px}.nav-card.nav-next{text-align:left}.nav-card.nav-next .nav-content{text-align:left}.nav-title{font-size:.875rem}.post-tags-modern{flex-direction:column;gap:.75rem}}@media(max-width:480px){.nav-arrow{font-size:1.25rem}.nav-card{padding:.875rem}.nav-title{font-size:.8rem;-webkit-line-clamp:1}}</style><nav class=post-nav-modern><div class=nav-grid><a href=/blog/articles/mini-game-development-monetization/ class="nav-card nav-prev"><div class=nav-arrow>â†</div><div class=nav-content><div class=nav-title>å°æ¸¸æˆå¼€å‘ä¸å˜ç°å®Œå…¨æŒ‡å—ï¼šä»åˆ›æ„åˆ°ç›ˆåˆ©çš„å®æˆ˜æ‰‹å†Œ</div></div></a><a href=/blog/articles/react-native-performance-optimization/ class="nav-card nav-next"><div class=nav-content><div class=nav-title>React Nativeæ€§èƒ½ä¼˜åŒ–å®æˆ˜ï¼šæ‰“é€ 60FPSæµç•…ä½“éªŒçš„ç»ˆææŒ‡å—</div></div><div class=nav-arrow>â†’</div></a></div></nav></footer></main><aside class=post-sidebar><div class=sidebar-toc id=sidebar-toc><div class=toc-header><div class=toc-title>ç›®å½•</div><button class=toc-toggle id=toc-toggle aria-label="Toggle TOC">
<svg class="toc-toggle-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M18 6 6 18M6 6l12 12"/></svg></button></div><div class=toc-content id=toc-content><ul class=toc-list><li class="toc-item toc-h2"><a href=#h2-0 class=toc-item-link><span class=toc-item-text>å¼•è¨€</span></a></li><li class="toc-item toc-h2"><a href=#h2-1 class=toc-item-link><span class=toc-item-text>æµ·å¤–å¸‚åœºåˆ†æ</span></a></li><li class="toc-item toc-h2"><a href=#h2-2 class=toc-item-link><span class=toc-item-text>æœ¬åœ°åŒ–æŠ€æœ¯å®ç°</span></a></li><li class="toc-item toc-h2"><a href=#h2-3 class=toc-item-link><span class=toc-item-text>æ–‡åŒ–é€‚é…ç­–ç•¥</span></a></li><li class="toc-item toc-h2"><a href=#h2-4 class=toc-item-link><span class=toc-item-text>æµ·å¤–å‘è¡Œç­–ç•¥</span></a></li><li class="toc-item toc-h2"><a href=#h2-5 class=toc-item-link><span class=toc-item-text>æ€»ç»“</span></a></li></ul></div></div><script>document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("sidebar-toc"),t=document.getElementById("toc-toggle"),o=document.getElementById("toc-content"),i=t?.querySelector(".toc-toggle-icon");if(!e)return;let n=!1;t&&t.addEventListener("click",function(){n=!n,n?(o.style.display="none",e.style.width="auto",i.innerHTML='<path d="M9 18l6-6-6-6"/>'):(o.style.display="block",e.style.width="200px",i.innerHTML='<path d="M18 6L6 18M6 6l12 12"/>')});const s=document.querySelector(".post-content");if(s){const e=s.querySelectorAll("h1");e.forEach((e,t)=>{e.id=`h1-${t}`});const t=s.querySelectorAll("h2");t.forEach((e,t)=>{e.id=`h2-${t}`})}const a=document.querySelectorAll(".toc-item-link");a.forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();const n=this.getAttribute("href").substring(1),t=document.getElementById(n);if(t){const e=document.querySelector(".post-header-main")?.offsetHeight||0,n=t.offsetTop-e-20;window.scrollTo({top:n,behavior:"smooth"})}})})})</script><style>.sidebar-toc{position:sticky;top:2rem;width:200px;background:#fff;border:1px solid #e5e7eb;border-radius:4px;overflow:hidden;box-shadow:0 1px 3px rgba(0,0,0,.1);z-index:100}.sidebar-toc.hidden{display:none}.toc-header{padding:12px 16px;border-bottom:1px solid #e5e7eb;background:#fafbfc;display:flex;align-items:center;justify-content:space-between}.toc-title{margin:0;font-size:13px;font-weight:500;color:#374151 !important;font-family:-apple-system,BlinkMacSystemFont,segoe ui,Roboto,sans-serif;text-transform:uppercase;letter-spacing:1px}.toc-toggle{background:0 0;border:none;cursor:pointer;padding:4px;border-radius:4px;display:flex;align-items:center;justify-content:center;transition:all .2s ease;color:#6b7280}.toc-toggle:hover{background:#e5e7eb;color:#374151}.toc-toggle-icon{transition:transform .2s ease}.toc-content{padding:12px 0}.toc-list{list-style:none;margin:0;padding:0}.toc-item{margin-bottom:4px;display:block !important;visibility:visible !important}.toc-h1,.toc-h2{display:block !important}.toc-h2{margin-left:0}.toc-item-link{display:flex;align-items:center;gap:8px;padding:8px 12px;color:#374151 !important;text-decoration:none;font-size:13px;line-height:1.4;border-radius:3px;transition:all .2s ease;font-weight:400}.toc-item-link:hover{background:#f8fafc;color:#1f2937 !important}.toc-item-link.active{background:#e0f2fe;color:#01579b !important;font-weight:500}.toc-dot{width:8px;height:8px;border-radius:50%;flex-shrink:0}.dot-red{background:#ef4444}.dot-blue{background:#2196f3}.toc-item-text{color:#1f2937 !important;font-weight:400;flex:1;display:inline !important;visibility:visible !important;opacity:1 !important;font-size:13px !important;line-height:1.4 !important}.toc-item-link .toc-item-text{color:#1f2937 !important;display:inline !important;visibility:visible !important;opacity:1 !important}.toc-item.active .dot-red{background:#d32f2f}.toc-item.active .dot-blue{background:#1976d2}[data-theme=dark] .sidebar-toc{background:#1f2937;border-color:#374151;box-shadow:0 1px 3px rgba(0,0,0,.3)}[data-theme=dark] .toc-header{background:#111827;border-color:#374151}[data-theme=dark] .toc-title{color:#f3f4f6 !important}[data-theme=dark] .toc-toggle{color:#9ca3af}[data-theme=dark] .toc-toggle:hover{background:#374151;color:#f3f4f6}[data-theme=dark] .toc-item-link{color:#e5e7eb !important}[data-theme=dark] .toc-item-link:hover{background:#374151;color:#f9fafb !important}[data-theme=dark] .toc-item-link.active{background:#0d47a1;color:#fff !important}[data-theme=dark] .toc-item-text{color:#f9fafb !important;display:inline !important;visibility:visible !important;opacity:1 !important}[data-theme=dark] .toc-item-link .toc-item-text{color:#f9fafb !important;display:inline !important;visibility:visible !important;opacity:1 !important}@media(max-width:1024px){.sidebar-toc{display:none}.post-content-wrapper{grid-template-columns:1fr !important;padding:0 1rem !important}}</style><style>.post-content-wrapper{display:grid;grid-template-columns:1fr 200px;gap:2rem;padding:0 2rem;max-width:100%}.post-content-main{min-width:0}.post-sidebar{position:sticky;top:2rem;height:fit-content;min-width:0}.post-header-main{margin-bottom:2rem;padding-bottom:1rem;border-bottom:1px solid var(--border,#333333)}.post-header-main .post-title{color:var(--primary,#ffffff) !important;font-size:2.5rem;font-weight:700;line-height:1.2;margin-bottom:1rem}.post-header-main .post-description{color:var(--secondary,#cccccc) !important;font-size:1.1rem;line-height:1.6;margin-bottom:1rem}.post-header-main .post-meta{margin-bottom:0}@media(max-width:1024px){.post-content-wrapper{grid-template-columns:1fr !important;gap:1rem;padding:0 1rem !important}.post-sidebar{display:none}}@media(max-width:768px){.post-header-main .post-title{font-size:2rem}.post-header-main .post-description{font-size:1rem}}</style></aside></div></article></main><footer class=footer><span>Â© 2024-2025 æœ‰æ¡å·¥å…·æŠ€æœ¯åšå®¢</span> Â·</footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");if(menu){const e=localStorage.getItem("menu-scroll-position");e&&(menu.scrollLeft=parseInt(e,10)),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}}document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{const e=document.querySelector("html");e.dataset.theme==="dark"?(e.dataset.theme="light",localStorage.setItem("pref-theme","light")):(e.dataset.theme="dark",localStorage.setItem("pref-theme","dark"))})</script></body></html>