{"version":3,"file":"json-schema-BR7fnHX1.js","sources":["../../../../src/pages/tools/json-schema.vue"],"sourcesContent":["<template>\n  <div class=\"max-w-8xl mx-auto\">\n    <!-- 面包屑导航 -->\n    <!-- <Breadcrumb :category=\"category\" /> -->\n\n    <!-- 工具标题 -->\n    <div class=\"mt-4 mb-8\">\n      <h1 class=\"text-3xl font-bold mb-3\">JSON Schema 生成器</h1>\n      <p class=\"text-muted-foreground\">根据 JSON 数据自动生成 JSON Schema，支持数据验证和类型定义</p>\n    </div>\n\n    <!-- 主要功能区域 -->\n    <div class=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n      <!-- 左侧：输入区域 -->\n      <div class=\"space-y-4\">\n        <!-- 输入方式选择 -->\n        <div class=\"bg-card   rounded-lg p-6\">\n          <h2 class=\"text-lg font-semibold mb-4\">输入选项</h2>\n          <div class=\"space-y-4\">\n            <div>\n              <label class=\"text-sm font-medium\">Schema 版本</label>\n              <select v-model=\"schemaVersion\" class=\"mt-2 w-full px-3 py-2 border rounded-md text-sm\">\n                <option value=\"draft-07\">Draft 07</option>\n                <option value=\"draft-06\">Draft 06</option>\n                <option value=\"draft-04\">Draft 04</option>\n                <option value=\"2019-09\">2019-09</option>\n                <option value=\"2020-12\">2020-12</option>\n              </select>\n            </div>\n            <div>\n              <label class=\"text-sm font-medium\">Schema 标题（可选）</label>\n              <input\n                v-model=\"schemaTitle\"\n                type=\"text\"\n                placeholder=\"User Schema\"\n                class=\"mt-2 w-full px-3 py-2 border rounded-md text-sm\"\n              />\n            </div>\n            <div>\n              <label class=\"text-sm font-medium\">Schema 描述（可选）</label>\n              <input\n                v-model=\"schemaDescription\"\n                type=\"text\"\n                placeholder=\"用户数据结构定义\"\n                class=\"mt-2 w-full px-3 py-2 border rounded-md text-sm\"\n              />\n            </div>\n            <div class=\"flex items-center gap-3\">\n              <input\n                v-model=\"options.strictType\"\n                type=\"checkbox\"\n                id=\"strictType\"\n                class=\"rounded text-primary focus:ring-primary\"\n              />\n              <label for=\"strictType\" class=\"text-sm\">严格类型推断</label>\n            </div>\n            <div class=\"flex items-center gap-3\">\n              <input\n                v-model=\"options.addExamples\"\n                type=\"checkbox\"\n                id=\"addExamples\"\n                class=\"rounded text-primary focus:ring-primary\"\n              />\n              <label for=\"addExamples\" class=\"text-sm\">添加示例值</label>\n            </div>\n            <div class=\"flex items-center gap-3\">\n              <input\n                v-model=\"options.addRequired\"\n                type=\"checkbox\"\n                id=\"addRequired\"\n                class=\"rounded text-primary focus:ring-primary\"\n              />\n              <label for=\"addRequired\" class=\"text-sm\">自动标记必填字段</label>\n            </div>\n          </div>\n        </div>\n\n        <!-- JSON 输入 -->\n        <div class=\"bg-card   rounded-lg p-6\">\n          <div class=\"flex justify-between items-center mb-4\">\n            <h2 class=\"text-lg font-semibold\">JSON 数据</h2>\n            <div class=\"flex gap-2\">\n              <button\n                @click=\"loadExample\"\n                class=\"text-sm text-primary hover:text-primary/80 transition-colors\"\n              >\n                加载示例\n              </button>\n              <button\n                @click=\"clearJson\"\n                class=\"text-sm text-muted-foreground hover:text-foreground transition-colors\"\n              >\n                清空\n              </button>\n              <button\n                @click=\"formatJson\"\n                :disabled=\"!jsonInput\"\n                class=\"text-sm text-muted-foreground hover:text-foreground transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\n              >\n                格式化\n              </button>\n            </div>\n          </div>\n\n          <textarea\n            v-model=\"jsonInput\"\n            placeholder=\"输入 JSON 数据...\"\n            class=\"w-full h-80 px-4 py-3 border rounded-md font-mono text-sm resize-none focus:outline-none focus:ring-2 focus:ring-primary\"\n          ></textarea>\n        </div>\n      </div>\n\n      <!-- 右侧：输出区域 -->\n      <div class=\"space-y-4\">\n        <!-- 生成的 Schema -->\n        <div class=\"bg-card   rounded-lg p-6\">\n          <div class=\"flex justify-between items-center mb-4\">\n            <h2 class=\"text-lg font-semibold\">生成的 Schema</h2>\n            <div class=\"flex gap-2\">\n              <button\n                @click=\"copySchema\"\n                :disabled=\"!generatedSchema\"\n                class=\"px-3 py-1 text-sm border border-primary text-primary rounded-md hover:bg-primary/5 transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\n              >\n                {{ copied ? '已复制' : '复制' }}\n              </button>\n              <button\n                @click=\"downloadSchema\"\n                :disabled=\"!generatedSchema\"\n                class=\"px-3 py-1 text-sm bg-primary text-primary-foreground rounded-md hover:bg-primary/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\n              >\n                下载\n              </button>\n              <button\n                @click=\"validateSchema\"\n                :disabled=\"!generatedSchema || !jsonInput\"\n                class=\"px-3 py-1 text-sm border border-primary text-primary rounded-md hover:bg-primary/5 transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\n              >\n                验证\n              </button>\n            </div>\n          </div>\n\n          <div class=\"border rounded-lg p-4 bg-muted/30 min-h-[400px] max-h-[500px] overflow-auto\">\n            <pre v-if=\"generatedSchema\" class=\"text-sm whitespace-pre-wrap font-mono\"><code>{{ generatedSchema }}</code></pre>\n            <div v-else class=\"text-center text-muted-foreground py-12\">\n              <FileJson class=\"w-12 h-12 mx-auto mb-4 opacity-50\" />\n              <p>输入 JSON 数据后生成 Schema</p>\n            </div>\n          </div>\n        </div>\n\n        <!-- 验证结果 -->\n        <div v-if=\"validationResult\" class=\"bg-card   rounded-lg p-6\">\n          <h2 class=\"text-lg font-semibold mb-4\">验证结果</h2>\n          <div class=\"p-4 rounded-lg\" :class=\"validationResult.valid ? 'bg-green-50 border border-green-200' : 'bg-red-50 border border-red-200'\">\n            <div class=\"flex items-center gap-2 mb-2\">\n              <span :class=\"validationResult.valid ? 'text-green-600' : 'text-red-600'\">\n                {{ validationResult.valid ? '✓ 验证通过' : '✗ 验证失败' }}\n              </span>\n            </div>\n            <div v-if=\"!validationResult.valid && validationResult.errors\" class=\"space-y-1\">\n              <div\n                v-for=\"(error, index) in validationResult.errors\"\n                :key=\"index\"\n                class=\"text-sm text-red-600\"\n              >\n                • {{ error }}\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <!-- Schema 统计 -->\n        <div v-if=\"schemaStats\" class=\"bg-card   rounded-lg p-6\">\n          <h2 class=\"text-lg font-semibold mb-4\">Schema 统计</h2>\n          <div class=\"grid grid-cols-2 gap-4 text-sm\">\n            <div>\n              <span class=\"text-muted-foreground\">属性总数：</span>\n              <span class=\"font-medium\">{{ schemaStats.properties }}</span>\n            </div>\n            <div>\n              <span class=\"text-muted-foreground\">必填字段：</span>\n              <span class=\"font-medium\">{{ schemaStats.required }}</span>\n            </div>\n            <div>\n              <span class=\"text-muted-foreground\">嵌套对象：</span>\n              <span class=\"font-medium\">{{ schemaStats.objects }}</span>\n            </div>\n            <div>\n              <span class=\"text-muted-foreground\">数组字段：</span>\n              <span class=\"font-medium\">{{ schemaStats.arrays }}</span>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- 使用指南 -->\n    <div class=\"mt-12 space-y-6\">\n      <div class=\"bg-card   rounded-lg p-6\">\n        <h3 class=\"text-lg font-semibold mb-4 flex items-center gap-2\">\n          <Info class=\"w-5 h-5 text-primary\" />\n          JSON Schema 使用指南\n        </h3>\n        <div class=\"space-y-4 text-sm text-muted-foreground\">\n          <div>\n            <h4 class=\"font-medium text-foreground mb-2\">什么是 JSON Schema？</h4>\n            <p>JSON Schema 是一种用于描述 JSON 数据结构的规范，它可以定义数据的类型、格式、约束条件等，用于数据验证、文档生成和代码生成。</p>\n          </div>\n          <div>\n            <h4 class=\"font-medium text-foreground mb-2\">常用关键字说明</h4>\n            <ul class=\"list-disc list-inside space-y-1\">\n              <li><code>$schema</code> - 指定使用的 Draft 版本</li>\n              <li><code>type</code> - 数据类型（string, number, object, array, boolean, null）</li>\n              <li><code>properties</code> - 对象属性定义</li>\n              <li><code>required</code> - 必需属性列表</li>\n              <li><code>format</code> - 字符串格式（email, date-time, uri 等）</li>\n              <li><code>pattern</code> - 正则表达式约束</li>\n              <li><code>minimum/maximum</code> - 数值范围</li>\n              <li><code>minLength/maxLength</code> - 字符串长度</li>\n              <li><code>items</code> - 数组元素定义</li>\n              <li><code>additionalProperties</code> - 额外属性控制</li>\n            </ul>\n          </div>\n          <div>\n            <h4 class=\"font-medium text-foreground mb-2\">应用场景</h4>\n            <ul class=\"list-disc list-inside space-y-1\">\n              <li>API 接口数据验证</li>\n              <li>配置文件格式定义</li>\n              <li>数据库文档生成</li>\n              <li>表单自动生成</li>\n              <li>代码生成和类型定义</li>\n            </ul>\n          </div>\n        </div>\n      </div>\n\n      <!-- 相关工具 -->\n      <div class=\"bg-card   rounded-lg p-6\">\n        <h3 class=\"text-lg font-semibold mb-4\">相关工具</h3>\n        <div class=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n          <NuxtLink\n            to=\"/tools/json-formatter\"\n            class=\"flex items-center gap-3 p-3 bg-muted rounded-lg hover:bg-muted/80 transition-colors group\"\n          >\n            <Code class=\"w-5 h-5 text-primary\" />\n            <div>\n              <p class=\"font-medium group-hover:text-primary\">JSON 格式化</p>\n              <p class=\"text-xs text-muted-foreground\">格式化和美化 JSON</p>\n            </div>\n            <ArrowRight class=\"w-4 h-4 ml-auto text-muted-foreground group-hover:text-primary\" />\n          </NuxtLink>\n          <NuxtLink\n            to=\"/tools/json-to-model\"\n            class=\"flex items-center gap-3 p-3 bg-muted rounded-lg hover:bg-muted/80 transition-colors group\"\n          >\n            <FileText class=\"w-5 h-5 text-primary\" />\n            <div>\n              <p class=\"font-medium group-hover:text-primary\">JSON 转 Model</p>\n              <p class=\"text-xs text-muted-foreground\">生成数据模型类</p>\n            </div>\n            <ArrowRight class=\"w-4 h-4 ml-auto text-muted-foreground group-hover:text-primary\" />\n          </NuxtLink>\n          <NuxtLink\n            to=\"/tools/json-path\"\n            class=\"flex items-center gap-3 p-3 bg-muted rounded-lg hover:bg-muted/80 transition-colors group\"\n          >\n            <Search class=\"w-5 h-5 text-primary\" />\n            <div>\n              <p class=\"font-medium group-hover:text-primary\">JSONPath</p>\n              <p class=\"text-xs text-muted-foreground\">JSON 数据查询</p>\n            </div>\n            <ArrowRight class=\"w-4 h-4 ml-auto text-muted-foreground group-hover:text-primary\" />\n          </NuxtLink>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, computed, watch } from 'vue'\nimport { Info, FileJson, Code, Search, ArrowRight } from 'lucide-vue-next'\nimport Breadcrumb from '~/components/Breadcrumb.vue'\n\n// 分类信息\nconst category = { id: 'dev', name: '开发辅助', description: '开发辅助工具集合' }\n\n// 状态管理\nconst schemaVersion = ref('2020-12')\nconst schemaTitle = ref('')\nconst schemaDescription = ref('')\nconst jsonInput = ref('')\nconst copied = ref(false)\nconst validationResult = ref(null)\n\n// 配置选项\nconst options = ref({\n  strictType: true,\n  addExamples: true,\n  addRequired: true\n})\n\n// 示例 JSON\nconst exampleJson = {\n  id: 1,\n  name: \"John Doe\",\n  email: \"john@example.com\",\n  age: 30,\n  isActive: true,\n  balance: 1250.50,\n  address: {\n    street: \"123 Main St\",\n    city: \"New York\",\n    country: \"USA\",\n    zipCode: \"10001\"\n  },\n  phoneNumbers: [\n    {\n      type: \"home\",\n      number: \"212-555-1234\"\n    },\n    {\n      type: \"work\",\n      number: \"646-555-4567\"\n    }\n  ],\n  registeredAt: \"2024-01-15T10:30:00Z\",\n  tags: [\"premium\", \"verified\", \"active\"]\n}\n\n// Schema 统计\nconst schemaStats = ref(null)\n\n// 生成 Schema\nconst generatedSchema = computed(() => {\n  if (!jsonInput.value) return ''\n\n  try {\n    const data = JSON.parse(jsonInput.value)\n    const schema = generateSchemaFromData(data)\n    schemaStats.value = calculateStats(schema)\n    return JSON.stringify(schema, null, 2)\n  } catch (error) {\n    return ''\n  }\n})\n\n// 从数据生成 Schema\nconst generateSchemaFromData = (data, path = '') => {\n  const schema = {\n    $schema: `https://json-schema.org/draft/${getDraftVersion()}/schema#`\n  }\n\n  if (schemaTitle.value) {\n    schema.title = schemaTitle.value\n  }\n\n  if (schemaDescription.value) {\n    schema.description = schemaDescription.value\n  }\n\n  const result = analyzeValue(data)\n  Object.assign(schema, result.schema)\n\n  return schema\n}\n\n// 获取 Draft 版本号\nconst getDraftVersion = () => {\n  const versionMap = {\n    '2020-12': '2020-12',\n    '2019-09': '2019-09',\n    'draft-07': '07',\n    'draft-06': '06',\n    'draft-04': '04'\n  }\n  return versionMap[schemaVersion.value] || '07'\n}\n\n// 分析值\nconst analyzeValue = (value, path = '') => {\n  const schema = {}\n  const required = []\n\n  if (value === null) {\n    schema.type = ['null', 'object', 'string', 'number', 'boolean']\n    return { schema, required }\n  }\n\n  if (Array.isArray(value)) {\n    schema.type = 'array'\n    if (value.length > 0) {\n      const itemAnalysis = analyzeValue(value[0], `${path}[]`)\n      schema.items = itemAnalysis.schema\n      if (options.value.addExamples && value[0] !== null) {\n        schema.examples = [value[0]]\n      }\n    } else {\n      schema.items = {}\n    }\n    return { schema, required }\n  }\n\n  if (typeof value === 'object') {\n    schema.type = 'object'\n    schema.properties = {}\n\n    Object.entries(value).forEach(([key, val]) => {\n      const analysis = analyzeValue(val, `${path}.${key}`)\n      schema.properties[key] = analysis.schema\n\n      if (options.value.addRequired && analysis.required.includes(key)) {\n        required.push(key)\n      }\n\n      // 默认将所有字段设为必填\n      if (options.value.addRequired) {\n        required.push(key)\n      }\n    })\n\n    if (required.length > 0) {\n      schema.required = required\n    }\n\n    return { schema, required }\n  }\n\n  // 基本类型\n  if (typeof value === 'string') {\n    schema.type = 'string'\n\n    // 特殊格式检测\n    if (value.match(/^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}/)) {\n      schema.format = 'date-time'\n    } else if (value.match(/^\\d{4}-\\d{2}-\\d{2}$/)) {\n      schema.format = 'date'\n    } else if (value.match(/^https?:\\/\\//)) {\n      schema.format = 'uri'\n    } else if (value.match(/^[^@]+@[^@]+\\.[^@]+$/)) {\n      schema.format = 'email'\n    }\n\n    if (options.value.strictType) {\n      schema.minLength = value.length\n      schema.maxLength = value.length\n    }\n\n    if (options.value.addExamples) {\n      schema.examples = [value]\n    }\n  } else if (typeof value === 'number') {\n    if (Number.isInteger(value)) {\n      schema.type = 'integer'\n    } else {\n      schema.type = 'number'\n    }\n\n    if (options.value.strictType) {\n      schema.minimum = value\n      schema.maximum = value\n    }\n\n    if (options.value.addExamples) {\n      schema.examples = [value]\n    }\n  } else if (typeof value === 'boolean') {\n    schema.type = 'boolean'\n    if (options.value.addExamples) {\n      schema.examples = [value]\n    }\n  }\n\n  return { schema, required }\n}\n\n// 计算 Schema 统计\nconst calculateStats = (schema) => {\n  const stats = {\n    properties: 0,\n    required: 0,\n    objects: 0,\n    arrays: 0\n  }\n\n  const countProperties = (obj) => {\n    if (obj.type === 'object' && obj.properties) {\n      stats.objects++\n      Object.values(obj.properties).forEach(prop => {\n        stats.properties++\n        if (obj.required && obj.required.includes(Object.keys(obj.properties).find(k => obj.properties[k] === prop))) {\n          stats.required++\n        }\n        countProperties(prop)\n      })\n    }\n    if (obj.type === 'array' && obj.items) {\n      stats.arrays++\n      countProperties(obj.items)\n    }\n  }\n\n  countProperties(schema)\n  return stats\n}\n\n// 加载示例\nconst loadExample = () => {\n  jsonInput.value = JSON.stringify(exampleJson, null, 2)\n}\n\n// 清空 JSON\nconst clearJson = () => {\n  jsonInput.value = ''\n  validationResult.value = null\n}\n\n// 格式化 JSON\nconst formatJson = () => {\n  try {\n    const parsed = JSON.parse(jsonInput.value)\n    jsonInput.value = JSON.stringify(parsed, null, 2)\n  } catch (error) {\n    console.error('JSON 格式错误', error)\n  }\n}\n\n// 复制 Schema\nconst copySchema = async () => {\n  try {\n    await navigator.clipboard.writeText(generatedSchema.value)\n    copied.value = true\n    setTimeout(() => {\n      copied.value = false\n    }, 2000)\n  } catch (error) {\n    console.error('复制失败', error)\n  }\n}\n\n// 下载 Schema\nconst downloadSchema = () => {\n  const content = generatedSchema.value\n  const filename = `${schemaTitle.value || 'schema'}.json`\n  const mimeType = 'application/json'\n\n  const blob = new Blob([content], { type: mimeType })\n  const url = URL.createObjectURL(blob)\n  const a = document.createElement('a')\n  a.href = url\n  a.download = filename\n  a.click()\n  URL.revokeObjectURL(url)\n}\n\n// 验证 Schema\nconst validateSchema = () => {\n  try {\n    const data = JSON.parse(jsonInput.value)\n    const schema = JSON.parse(generatedSchema.value)\n\n    // 简单验证逻辑\n    // 实际应用中应该使用专门的 JSON Schema 验证库\n    const isValid = validateData(data, schema)\n\n    validationResult.value = {\n      valid: isValid,\n      errors: isValid ? [] : ['数据不符合 Schema 定义']\n    }\n  } catch (error) {\n    validationResult.value = {\n      valid: false,\n      errors: [error.message]\n    }\n  }\n}\n\n// 验证数据\nconst validateData = (data, schema) => {\n  // 这是一个简化的验证函数\n  // 实际应该使用完整的 JSON Schema 验证实现\n\n  if (schema.type) {\n    const types = Array.isArray(schema.type) ? schema.type : [schema.type]\n    const dataType = Array.isArray(data) ? 'array' : typeof data\n\n    if (data === null && !types.includes('null')) {\n      return false\n    }\n\n    if (!types.includes(dataType) && !(dataType === 'object' && types.includes('array') && !Array.isArray(data))) {\n      return false\n    }\n  }\n\n  if (schema.type === 'object' && schema.properties && typeof data === 'object' && data !== null) {\n    if (schema.required) {\n      for (const requiredProp of schema.required) {\n        if (!(requiredProp in data)) {\n          return false\n        }\n      }\n    }\n\n    for (const [key, value] of Object.entries(data)) {\n      if (schema.properties[key]) {\n        if (!validateData(value, schema.properties[key])) {\n          return false\n        }\n      }\n    }\n  }\n\n  if (schema.type === 'array' && schema.items && Array.isArray(data)) {\n    for (const item of data) {\n      if (!validateData(item, schema.items)) {\n        return false\n      }\n    }\n  }\n\n  return true\n}\n\n// SEO配置\nuseSeoMeta({\n  title: 'JSON Schema 生成器 - 在线 JSON Schema 生成工具',\n  description: '免费的在线 JSON Schema 生成器，根据 JSON 数据自动生成 JSON Schema，支持数据验证和类型定义。',\n  keywords: ['json schema', 'schema', 'json', '数据验证', '类型定义', 'api文档', '数据结构']\n})\n\ndefinePageMeta({\n  layout: 'default'\n})\n</script>"],"names":["_ssrRenderAttrs","_mergeProps","_ssrIncludeBooleanAttr","_ssrLooseContain","_ssrRenderComponent","_unref","_ssrRenderClass","_ssrInterpolate","_ssrRenderList","_push","_parent","_createVNode"],"mappings":"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"}