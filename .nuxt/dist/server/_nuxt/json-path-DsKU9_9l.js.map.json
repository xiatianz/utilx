{"file":"json-path-DsKU9_9l.js","mappings":"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","names":["_ssrRenderAttrs","_mergeProps","_ssrInterpolate","_ssrRenderComponent","_unref","_ssrRenderList","_ssrIncludeBooleanAttr","_push","_parent","_createVNode"],"sources":["../../../../src/pages/tools/json-path.vue"],"sourcesContent":["<template>\n  <div class=\"max-w-8xl mx-auto\">\n    <!-- 面包屑导航 -->\n    <!-- <Breadcrumb :category=\"category\" /> -->\n\n    <!-- 工具标题 -->\n    <div class=\"mt-4 mb-8\">\n      <h1 class=\"text-3xl font-bold mb-3\">JSONPath 查询工具</h1>\n      <p class=\"text-muted-foreground\">使用 JSONPath 表达式查询和提取 JSON 数据</p>\n    </div>\n\n    <!-- 主要功能区域 -->\n    <div class=\"space-y-6\">\n      <!-- JSON 输入区 -->\n      <div class=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n        <!-- JSON 输入 -->\n        <div class=\"space-y-4\">\n          <div class=\"flex items-center justify-between\">\n            <h2 class=\"text-lg font-semibold\">JSON 数据</h2>\n            <div class=\"flex gap-2\">\n              <button\n                @click=\"loadSample\"\n                class=\"px-3 py-1 text-sm text-muted-foreground hover:text-foreground transition-colors\"\n              >\n                加载示例\n              </button>\n              <button\n                @click=\"formatJSON\"\n                class=\"px-3 py-1 text-sm text-muted-foreground hover:text-foreground transition-colors\"\n              >\n                格式化\n              </button>\n              <button\n                @click=\"clearJSON\"\n                class=\"px-3 py-1 text-sm text-muted-foreground hover:text-foreground transition-colors\"\n              >\n                清空\n              </button>\n            </div>\n          </div>\n\n          <div class=\"relative\">\n            <textarea\n              v-model=\"jsonInput\"\n              @input=\"validateJSON\"\n              placeholder=\"请输入 JSON 数据...\"\n              class=\"w-full h-96 p-4 border rounded-lg resize-none focus:outline-none focus:ring-2 focus:ring-primary font-mono text-sm\"\n              :class=\"{ 'border-red-500': jsonError }\"\n            ></textarea>\n\n            <!-- 字符统计 -->\n            <div class=\"absolute bottom-2 right-2 text-xs text-muted-foreground bg-background px-2 py-1 rounded\">\n              {{ jsonInput.length }} 字符\n            </div>\n          </div>\n\n          <!-- JSON 错误提示 -->\n          <div v-if=\"jsonError\" class=\"p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm\">\n            {{ jsonError }}\n          </div>\n        </div>\n\n        <!-- JSONPath 查询区 -->\n        <div class=\"space-y-4\">\n          <div class=\"flex items-center justify-between\">\n            <h2 class=\"text-lg font-semibold\">JSONPath 查询</h2>\n            <div class=\"flex gap-2\">\n              <button\n                @click=\"clearQuery\"\n                class=\"px-3 py-1 text-sm text-muted-foreground hover:text-foreground transition-colors\"\n              >\n                清空\n              </button>\n            </div>\n          </div>\n\n          <!-- JSONPath 输入 -->\n          <div class=\"space-y-2\">\n            <label class=\"text-sm font-medium\">JSONPath 表达式</label>\n            <div class=\"relative\">\n              <input\n                v-model=\"jsonPath\"\n                @keyup.enter=\"executeQuery\"\n                placeholder=\"例如: $.store.book[*].author\"\n                class=\"w-full p-3 pr-10 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary font-mono\"\n              />\n              <button\n                v-if=\"jsonPath\"\n                @click=\"jsonPath = ''\"\n                class=\"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground\"\n              >\n                <X class=\"w-4 h-4\" />\n              </button>\n            </div>\n          </div>\n\n          <!-- 快捷示例 -->\n          <div class=\"space-y-2\">\n            <label class=\"text-sm font-medium\">快捷示例</label>\n            <div class=\"grid grid-cols-1 gap-2\">\n              <button\n                v-for=\"example in pathExamples\"\n                :key=\"example.path\"\n                @click=\"applyExample(example)\"\n                class=\"p-2 text-sm bg-muted hover:bg-muted/80 rounded text-left transition-colors\"\n              >\n                <div class=\"font-mono text-primary\">{{ example.path }}</div>\n                <div class=\"text-xs text-muted-foreground\">{{ example.description }}</div>\n              </button>\n            </div>\n          </div>\n\n          <!-- 执行按钮 -->\n          <button\n            @click=\"executeQuery\"\n            :disabled=\"!jsonData || !jsonPath\"\n            class=\"w-full px-4 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\n          >\n            执行查询\n          </button>\n\n          <!-- 查询结果 -->\n          <div v-if=\"queryResult !== null\" class=\"space-y-2\">\n            <div class=\"flex items-center justify-between\">\n              <label class=\"text-sm font-medium\">查询结果</label>\n              <div class=\"flex gap-2\">\n                <button\n                  @click=\"copyResult\"\n                  class=\"px-3 py-1 text-sm text-muted-foreground hover:text-foreground transition-colors\"\n                >\n                  {{ copied ? '已复制' : '复制' }}\n                </button>\n              </div>\n            </div>\n\n            <div class=\"border rounded-lg overflow-hidden\">\n              <!-- 结果类型标签 -->\n              <div class=\"px-3 py-2 bg-muted border-b flex items-center gap-2\">\n                <span class=\"text-sm font-medium\">\n                  {{ Array.isArray(queryResult) ? `数组 (${queryResult.length} 项)` : typeof queryResult }}\n                </span>\n              </div>\n\n              <!-- 结果内容 -->\n              <div class=\"max-h-64 overflow-auto p-4\">\n                <pre v-if=\"typeof queryResult === 'object'\" class=\"text-sm\">{{ JSON.stringify(queryResult, null, 2) }}</pre>\n                <div v-else class=\"text-sm\">{{ queryResult }}</div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- JSONPath 语法说明 -->\n      <div class=\"bg-card   rounded-lg p-6\">\n        <h2 class=\"text-lg font-semibold mb-4\">JSONPath 语法说明</h2>\n\n        <div class=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n          <div>\n            <h3 class=\"font-medium mb-3\">基础语法</h3>\n            <table class=\"w-full text-sm\">\n              <thead>\n                <tr class=\"border-b\">\n                  <th class=\"text-left py-2\">表达式</th>\n                  <th class=\"text-left py-2\">说明</th>\n                </tr>\n              </thead>\n              <tbody>\n                <tr class=\"border-b\">\n                  <td class=\"py-2 font-mono text-primary\">$</td>\n                  <td class=\"py-2\">根节点</td>\n                </tr>\n                <tr class=\"border-b\">\n                  <td class=\"py-2 font-mono text-primary\">@</td>\n                  <td class=\"py-2\">当前节点</td>\n                </tr>\n                <tr class=\"border-b\">\n                  <td class=\"py-2 font-mono text-primary\">. 或 []</td>\n                  <td class=\"py-2\">子节点操作符</td>\n                </tr>\n                <tr class=\"border-b\">\n                  <td class=\"py-2 font-mono text-primary\">..</td>\n                  <td class=\"py-2\">递归下降（所有层级的子节点）</td>\n                </tr>\n                <tr>\n                  <td class=\"py-2 font-mono text-primary\">*</td>\n                  <td class=\"py-2\">通配符，匹配所有元素</td>\n                </tr>\n              </tbody>\n            </table>\n          </div>\n\n          <div>\n            <h3 class=\"font-medium mb-3\">高级语法</h3>\n            <table class=\"w-full text-sm\">\n              <thead>\n                <tr class=\"border-b\">\n                  <th class=\"text-left py-2\">表达式</th>\n                  <th class=\"text-left py-2\">说明</th>\n                </tr>\n              </thead>\n              <tbody>\n                <tr class=\"border-b\">\n                  <td class=\"py-2 font-mono text-primary\">[]</td>\n                  <td class=\"py-2\">迭代器（如 [0,1] 或 [1:10]）</td>\n                </tr>\n                <tr class=\"border-b\">\n                  <td class=\"py-2 font-mono text-primary\">[start:end:step]</td>\n                  <td class=\"py-2\">数组切片（支持 Python 风格）</td>\n                </tr>\n                <tr class=\"border-b\">\n                  <td class=\"py-2 font-mono text-primary\">?(expression)</td>\n                  <td class=\"py-2\">脚本表达式（过滤）</td>\n                </tr>\n                <tr class=\"border-b\">\n                  <td class=\"py-2 font-mono text-primary\">(...)</td>\n                  <td class=\"py-2\">脚本表达式</td>\n                </tr>\n                <tr>\n                  <td class=\"py-2 font-mono text-primary\">''</td>\n                  <td class=\"py-2\">脚本表达式中的字符串</td>\n                </tr>\n              </tbody>\n            </table>\n          </div>\n        </div>\n\n        <!-- 示例 -->\n        <div class=\"mt-6\">\n          <h3 class=\"font-medium mb-3\">常用示例</h3>\n          <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n            <div>\n              <h4 class=\"text-sm font-medium mb-2\">基础查询</h4>\n              <ul class=\"space-y-1 text-sm\">\n                <li><code class=\"bg-muted px-1 rounded\">$.store.book[*].author</code> - 所有书籍的作者</li>\n                <li><code class=\"bg-muted px-1 rounded\">$..author</code> - 所有作者</li>\n                <li><code class=\"bg-muted px-1 rounded\">$.store.*</code> - store 下的所有子节点</li>\n                <li><code class=\"bg-muted px-1 rounded\">$..book[?(@.price<10)]</code> - 价格小于 10 的书</li>\n              </ul>\n            </div>\n            <div>\n              <h4 class=\"text-sm font-medium mb-2\">高级查询</h4>\n              <ul class=\"space-y-1 text-sm\">\n                <li><code class=\"bg-muted px-1 rounded\">$..book[0,1]</code> - 前两本书</li>\n                <li><code class=\"bg-muted px-1 rounded\">$..book[-1]</code> - 最后一本书</li>\n                <li><code class=\"bg-muted px-1 rounded\">$..book[?(@.category=='fiction')]</code> - 小说类书籍</li>\n                <li><code class=\"bg-muted px-1 rounded\">$..[?(@.length>2)]</code> - 长度大于 2 的数组</li>\n              </ul>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- 相关工具 -->\n      <div class=\"bg-card   rounded-lg p-6\">\n        <h3 class=\"text-lg font-semibold mb-4\">相关工具</h3>\n        <div class=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n          <NuxtLink\n            to=\"/tools/format/json-formatter\"\n            class=\"flex items-center gap-3 p-3 bg-muted rounded-lg hover:bg-muted/80 transition-colors group\"\n          >\n            <FileJson class=\"w-5 h-5 text-primary\" />\n            <div>\n              <p class=\"font-medium group-hover:text-primary\">JSON格式化</p>\n              <p class=\"text-xs text-muted-foreground\">美化压缩JSON</p>\n            </div>\n            <ArrowRight class=\"w-4 h-4 ml-auto text-muted-foreground group-hover:text-primary\" />\n          </NuxtLink>\n          <NuxtLink\n            to=\"/tools/text/xpath-tester\"\n            class=\"flex items-center gap-3 p-3 bg-muted rounded-lg hover:bg-muted/80 transition-colors group\"\n          >\n            <FileText class=\"w-5 h-5 text-primary\" />\n            <div>\n              <p class=\"font-medium group-hover:text-primary\">XPath测试器</p>\n              <p class=\"text-xs text-muted-foreground\">XML路径查询</p>\n            </div>\n            <ArrowRight class=\"w-4 h-4 ml-auto text-muted-foreground group-hover:text-primary\" />\n          </NuxtLink>\n          <NuxtLink\n            to=\"/tools/crypto/jwt-decode\"\n            class=\"flex items-center gap-3 p-3 bg-muted rounded-lg hover:bg-muted/80 transition-colors group\"\n          >\n            <FileCode class=\"w-5 h-5 text-primary\" />\n            <div>\n              <p class=\"font-medium group-hover:text-primary\">JWT解析器</p>\n              <p class=\"text-xs text-muted-foreground\">解析JWT令牌</p>\n            </div>\n            <ArrowRight class=\"w-4 h-4 ml-auto text-muted-foreground group-hover:text-primary\" />\n          </NuxtLink>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, computed } from 'vue'\nimport { X, FileJson, FileText, FileCode, ArrowRight } from 'lucide-vue-next'\nimport Breadcrumb from '~/components/Breadcrumb.vue'\n\n// 分类信息\nconst category = { id: 'text', name: '文本处理', description: '文本处理工具集合' }\n\n// 状态管理\nconst jsonInput = ref('')\nconst jsonPath = ref('')\nconst jsonData = ref(null)\nconst jsonError = ref('')\nconst queryResult = ref(null)\nconst copied = ref(false)\n\n// 示例 JSON\nconst sampleJSON = {\n  \"store\": {\n    \"book\": [\n      {\n        \"category\": \"reference\",\n        \"author\": \"Nigel Rees\",\n        \"title\": \"Sayings of the Century\",\n        \"price\": 8.95\n      },\n      {\n        \"category\": \"fiction\",\n        \"author\": \"Evelyn Waugh\",\n        \"title\": \"Sword of Honour\",\n        \"price\": 12.99\n      },\n      {\n        \"category\": \"fiction\",\n        \"author\": \"Herman Melville\",\n        \"title\": \"Moby Dick\",\n        \"isbn\": \"0-553-21311-3\",\n        \"price\": 8.99\n      },\n      {\n        \"category\": \"fiction\",\n        \"author\": \"J. R. R. Tolkien\",\n        \"title\": \"The Lord of the Rings\",\n        \"isbn\": \"0-395-19395-8\",\n        \"price\": 22.99\n      }\n    ],\n    \"bicycle\": {\n      \"color\": \"red\",\n      \"price\": 19.95\n    }\n  },\n  \"expensive\": 10\n}\n\n// JSONPath 示例\nconst pathExamples = [\n  {\n    path: '$.store.book[*].author',\n    description: '获取所有书籍的作者'\n  },\n  {\n    path: '$..author',\n    description: '获取所有作者（递归查找）'\n  },\n  {\n    path: '$.store.*',\n    description: '获取 store 下的所有子节点'\n  },\n  {\n    path: '$..book[0]',\n    description: '获取第一本书'\n  },\n  {\n    path: '$..book[-1]',\n    description: '获取最后一本书'\n  },\n  {\n    path: '$..book[?(@.price<10)]',\n    description: '获取价格小于 10 的书'\n  },\n  {\n    path: '$..book[?(@.category==\"fiction\")]',\n    description: '获取小说类书籍'\n  },\n  {\n    path: '$..book[?(@.isbn)]',\n    description: '获取有 ISBN 的书'\n  }\n]\n\n// 验证 JSON\nconst validateJSON = () => {\n  jsonError.value = ''\n  jsonData.value = null\n\n  if (!jsonInput.value.trim()) {\n    return\n  }\n\n  try {\n    jsonData.value = JSON.parse(jsonInput.value)\n  } catch (error) {\n    jsonError.value = 'JSON 解析错误: ' + error.message\n  }\n}\n\n// 格式化 JSON\nconst formatJSON = () => {\n  if (!jsonData.value) {\n    validateJSON()\n  }\n  if (jsonData.value) {\n    jsonInput.value = JSON.stringify(jsonData.value, null, 2)\n  }\n}\n\n// 加载示例\nconst loadSample = () => {\n  jsonInput.value = JSON.stringify(sampleJSON, null, 2)\n  validateJSON()\n}\n\n// 清空 JSON\nconst clearJSON = () => {\n  jsonInput.value = ''\n  jsonData.value = null\n  jsonError.value = ''\n  queryResult.value = null\n}\n\n// 清空查询\nconst clearQuery = () => {\n  jsonPath.value = ''\n  queryResult.value = null\n}\n\n// 应用示例\nconst applyExample = (example) => {\n  jsonPath.value = example.path\n}\n\n// 简化的 JSONPath 实现\nconst executeJSONPath = (obj, path) => {\n  // 简单的 JSONPath 解析器\n  // 注意：这是一个简化版本，不支持所有 JSONPath 特性\n\n  if (path === '$') {\n    return obj\n  }\n\n  // 移除开头的 $.\n  if (path.startsWith('$.') || path === '$') {\n    path = path.substring(2)\n  } else if (path.startsWith('$')) {\n    path = path.substring(1)\n  }\n\n  // 处理递归查找 ..\n  if (path.includes('..')) {\n    return handleRecursiveSearch(obj, path)\n  }\n\n  // 分割路径\n  const parts = path.split('.')\n  let current = obj\n\n  for (let part of parts) {\n    if (!part) continue\n\n    // 处理数组索引\n    if (part.includes('[') && part.includes(']')) {\n      const [prop, indexStr] = part.split('[')\n      const index = parseInt(indexStr.replace(']', ''))\n\n      if (prop && current[prop] !== undefined) {\n        current = current[prop][index]\n      } else if (current && Array.isArray(current)) {\n        current = current[index]\n      }\n    }\n    // 处理通配符\n    else if (part === '*') {\n      if (Array.isArray(current)) {\n        return current\n      } else if (typeof current === 'object' && current !== null) {\n        return Object.values(current)\n      }\n    }\n    // 普通属性访问\n    else {\n      if (current && typeof current === 'object' && current[part] !== undefined) {\n        current = current[part]\n      } else {\n        return undefined\n      }\n    }\n  }\n\n  return current\n}\n\n// 处理递归搜索\nconst handleRecursiveSearch = (obj, path) => {\n  const [beforeRecursive, afterRecursive] = path.split('..', 2)\n  const results = []\n\n  function search(current) {\n    if (Array.isArray(current)) {\n      for (let item of current) {\n        search(item)\n      }\n    } else if (current && typeof current === 'object') {\n      // 检查是否匹配递归后的路径\n      if (afterRecursive) {\n        const value = executeJSONPath(current, afterRecursive)\n        if (value !== undefined) {\n          results.push(value)\n        }\n      }\n      // 递归搜索所有子节点\n      for (let key in current) {\n        search(current[key])\n      }\n    }\n  }\n\n  // 从起始位置开始搜索\n  let startNode = obj\n  if (beforeRecursive) {\n    startNode = executeJSONPath(obj, beforeRecursive)\n  }\n\n  if (startNode) {\n    search(startNode)\n  }\n\n  return results.length === 1 ? results[0] : results\n}\n\n// 执行查询\nconst executeQuery = () => {\n  if (!jsonData.value || !jsonPath.value) {\n    return\n  }\n\n  try {\n    queryResult.value = executeJSONPath(jsonData.value, jsonPath.value)\n  } catch (error) {\n    queryResult.value = '查询错误: ' + error.message\n  }\n}\n\n// 复制结果\nconst copyResult = async () => {\n  const text = typeof queryResult.value === 'object'\n    ? JSON.stringify(queryResult.value, null, 2)\n    : String(queryResult.value)\n\n  try {\n    await navigator.clipboard.writeText(text)\n    copied.value = true\n    setTimeout(() => {\n      copied.value = false\n    }, 2000)\n  } catch (error) {\n    // 降级方案\n    const textarea = document.createElement('textarea')\n    textarea.value = text\n    document.body.appendChild(textarea)\n    textarea.select()\n    document.execCommand('copy')\n    document.body.removeChild(textarea)\n    copied.value = true\n    setTimeout(() => {\n      copied.value = false\n    }, 2000)\n  }\n}\n\n// SEO配置\nuseSeoMeta({\n  title: 'JSONPath查询工具 - 在线JSON路径表达式查询',\n  description: '免费在线JSONPath查询工具，支持使用JSONPath表达式查询和提取JSON数据，提供语法说明和示例。',\n  keywords: ['jsonpath', 'json', 'query', 'path', 'extract', '在线工具']\n})\n\ndefinePageMeta({\n  layout: 'default'\n})\n</script>"],"version":3}