import{_ as E}from"./D4g1_bQ7.js";import{r as m,Q as k,q as G,c as l,a as t,h as y,y as g,v as S,t as f,R as B,x as D,b as c,d as I,j as x,w as _,o as d}from"./DEsTSaKd.js";import{_ as N}from"./DlAUqK2U.js";import{F as M}from"./CRvidJJ3.js";import{H as C}from"./ZC22Qqbx.js";import{A as w}from"./Bluep4Ee.js";import{L as O}from"./BP6Cft7q.js";import"./wERbHxDK.js";const F={class:"max-w-8xl mx-auto"},Q={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},Z={class:"space-y-4"},$={class:"relative"},z={key:0,class:"absolute bottom-2 right-2 text-xs text-muted-foreground bg-background px-2 py-1 rounded"},H={class:"space-y-3"},W={class:"flex items-center gap-2"},q={class:"flex items-center gap-2"},J={class:"space-y-4"},K={class:"flex items-center justify-between"},Y={class:"flex gap-2"},P={key:0,class:"relative"},X={key:0,class:"w-full h-64 p-4 bg-muted rounded-lg overflow-auto text-sm whitespace-pre-wrap break-all"},ee={key:1,class:"w-full h-64 p-4 bg-muted rounded-lg flex items-center justify-center text-muted-foreground"},te={key:1,class:"w-full min-h-64 p-4 bg-muted rounded-lg flex items-center justify-center"},se={key:0,class:"text-center"},ae=["src"],oe={class:"text-sm text-muted-foreground mt-2"},le={key:1,class:"text-muted-foreground"},de={key:2,class:"w-full p-4 bg-destructive/10 border border-destructive/20 rounded-lg"},re={class:"text-sm text-destructive"},ne={class:"mt-12 space-y-6"},ue={class:"bg-card rounded-lg p-6"},ce={class:"text-lg font-semibold mb-4 flex items-center gap-2"},ie={class:"bg-card rounded-lg p-6"},me={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},ve={__name:"base64-decode",setup(pe){const r=m(""),n=m(""),a=m("text"),i=m(""),h=m({width:0,height:0}),v=m(""),b=m(!1),p=m({urlSafe:!1,strict:!1}),R=s=>{try{let e=s.trim();if(e.startsWith("data:")){const u=e.split(",");if(u.length<2)throw new Error("无效的 Data URL 格式");if(e=u[1],u[0].match(/data:image\/(\w+);base64/))return a.value="image",e}if(p.value.urlSafe&&(e=e.replace(/-/g,"+").replace(/_/g,"/")),e=e.replace(/\s/g,""),p.value.strict&&!/^[A-Za-z0-9+/]*={0,2}$/.test(e))throw new Error("输入包含非 Base64 字符");const o=4-e.length%4;return o<4&&(e+="=".repeat(o)),a.value="text",atob(e)}catch(e){return v.value="解码失败："+e.message,a.value="error",""}},U=s=>{const e=new Image;e.onload=()=>{h.value={width:e.width,height:e.height}},e.onerror=()=>{v.value="图片加载失败"},e.src=`data:image/png;base64,${s}`};k(r,s=>{if(s){v.value="",n.value="",i.value="";const e=R(s);e&&a.value==="text"?n.value=decodeURIComponent(escape(e)):e&&a.value==="image"&&(i.value=`data:image/png;base64,${e}`,U(e))}else n.value="",i.value="",h.value={width:0,height:0},v.value="",a.value="text"}),k(p,()=>{r.value&&(r.value=r.value)},{deep:!0});const L=()=>{r.value="",n.value="",i.value="",h.value={width:0,height:0},v.value="",a.value="text"},V=async()=>{try{const s=await navigator.clipboard.readText();r.value=s}catch{const e=document.createElement("textarea");document.body.appendChild(e),e.select(),document.execCommand("paste"),r.value=e.value||"",document.body.removeChild(e)}},T=async()=>{try{const s=a.value==="text"?n.value:i.value;await navigator.clipboard.writeText(s),b.value=!0,setTimeout(()=>{b.value=!1},2e3)}catch{const e=document.createElement("textarea");e.value=a.value==="text"?n.value:i.value,document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e),b.value=!0,setTimeout(()=>{b.value=!1},2e3)}},j=()=>{const s=new Blob([n.value],{type:"text/plain"}),e=URL.createObjectURL(s),o=document.createElement("a");o.href=e,o.download="decoded.txt",document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(e)},A=()=>{const s=document.createElement("a");s.href=i.value,s.download="decoded-image.png",document.body.appendChild(s),s.click(),document.body.removeChild(s)};return G({title:"Base64解码器 - 在线Base64解码工具",description:"免费在线Base64解码工具，支持文本和图片解码，自动识别图片格式，提供多种解码选项。",keywords:["base64","解码","decoder","在线工具","图片解码","文本解码"]}),(s,e)=>{const o=E;return d(),l("div",F,[e[14]||(e[14]=t("div",{class:"mt-4 mb-8"},[t("h1",{class:"text-3xl font-bold mb-3"},"Base64 解码器"),t("p",{class:"text-muted-foreground"},"将 Base64 编码数据解码还原为原始内容，支持文本和图片解码")],-1)),t("div",Q,[t("div",Z,[t("div",{class:"flex items-center justify-between"},[e[3]||(e[3]=t("h2",{class:"text-lg font-semibold"},"Base64 输入",-1)),t("div",{class:"flex gap-2"},[t("button",{onClick:L,class:"px-3 py-1 text-sm text-muted-foreground hover:text-foreground transition-colors"}," 清空 "),t("button",{onClick:V,class:"px-3 py-1 text-sm text-muted-foreground hover:text-foreground transition-colors"}," 粘贴 ")])]),t("div",$,[y(t("textarea",{"onUpdate:modelValue":e[0]||(e[0]=u=>r.value=u),placeholder:"请输入要解码的 Base64 字符串...",class:"w-full h-64 p-4 border rounded-lg resize-none focus:outline-none focus:ring-2 focus:ring-primary font-mono text-sm"},null,512),[[S,r.value]]),r.value?(d(),l("div",z,f(r.value.length)+" 字符 ",1)):g("",!0)]),t("div",H,[t("label",W,[y(t("input",{type:"checkbox","onUpdate:modelValue":e[1]||(e[1]=u=>p.value.urlSafe=u),class:"rounded"},null,512),[[B,p.value.urlSafe]]),e[4]||(e[4]=t("span",{class:"text-sm"},"URL 安全解码（替换 - 和 _）",-1))]),t("label",q,[y(t("input",{type:"checkbox","onUpdate:modelValue":e[2]||(e[2]=u=>p.value.strict=u),class:"rounded"},null,512),[[B,p.value.strict]]),e[5]||(e[5]=t("span",{class:"text-sm"},"严格模式（仅允许 Base64 字符）",-1))])])]),t("div",J,[t("div",K,[e[6]||(e[6]=t("h2",{class:"text-lg font-semibold"},"解码结果",-1)),t("div",Y,[n.value||a.value==="image"?(d(),l("button",{key:0,onClick:T,class:"px-3 py-1 text-sm text-muted-foreground hover:text-foreground transition-colors"},f(b.value?"已复制":"复制"),1)):g("",!0),n.value&&a.value==="text"?(d(),l("button",{key:1,onClick:j,class:"px-3 py-1 text-sm text-muted-foreground hover:text-foreground transition-colors"}," 下载 ")):g("",!0),a.value==="image"?(d(),l("button",{key:2,onClick:A,class:"px-3 py-1 text-sm text-muted-foreground hover:text-foreground transition-colors"}," 下载图片 ")):g("",!0)])]),a.value==="text"?(d(),l("div",P,[n.value?(d(),l("pre",X,f(n.value),1)):(d(),l("div",ee," 解码结果将显示在这里 "))])):g("",!0),a.value==="image"?(d(),l("div",te,[i.value?(d(),l("div",se,[t("img",{src:i.value,alt:"Decoded image",class:"max-w-full max-h-64 rounded-lg shadow-lg"},null,8,ae),t("p",oe," 图片尺寸: "+f(h.value.width)+" x "+f(h.value.height),1)])):(d(),l("p",le," 无法识别为图片数据 "))])):g("",!0),v.value?(d(),l("div",de,[t("p",re,f(v.value),1)])):g("",!0)])]),t("div",ne,[t("div",ue,[t("h3",ce,[c(x(M),{class:"w-5 h-5 text-primary"}),e[7]||(e[7]=I(" 支持的 Base64 格式 ",-1))]),e[8]||(e[8]=D('<div class="grid grid-cols-1 md:grid-cols-2 gap-4" data-v-9c0e84e6><div class="space-y-3" data-v-9c0e84e6><h4 class="font-medium" data-v-9c0e84e6>标准 Base64：</h4><div class="p-3 bg-muted rounded-lg" data-v-9c0e84e6><code class="text-xs" data-v-9c0e84e6>aGVsbG8gd29ybGQ=</code></div></div><div class="space-y-3" data-v-9c0e84e6><h4 class="font-medium" data-v-9c0e84e6>Data URL (图片)：</h4><div class="p-3 bg-muted rounded-lg" data-v-9c0e84e6><code class="text-xs block truncate" data-v-9c0e84e6>data:image/png;base64,iVBORw0KGgoAAAANSUhEUgA...</code></div></div><div class="space-y-3" data-v-9c0e84e6><h4 class="font-medium" data-v-9c0e84e6>带换行的 Base64：</h4><div class="p-3 bg-muted rounded-lg" data-v-9c0e84e6><code class="text-xs" data-v-9c0e84e6>YWJjZGVmZ2hpams=</code></div></div><div class="space-y-3" data-v-9c0e84e6><h4 class="font-medium" data-v-9c0e84e6>URL 安全 Base64：</h4><div class="p-3 bg-muted rounded-lg" data-v-9c0e84e6><code class="text-xs" data-v-9c0e84e6>aGVsbG8gd29ybGQ-</code></div></div></div>',1))]),e[13]||(e[13]=t("div",{class:"bg-card rounded-lg p-6"},[t("h3",{class:"text-lg font-semibold mb-4"},"使用说明"),t("div",{class:"space-y-2 text-sm text-muted-foreground"},[t("p",null,"• 支持标准 Base64、URL 安全 Base64、带换行的 Base64 格式"),t("p",null,"• 自动检测图片数据并显示预览"),t("p",null,"• 严格模式下只允许 Base64 字符集，否则会报错"),t("p",null,"• 支持从剪贴板直接粘贴 Base64 数据")])],-1)),t("div",ie,[e[12]||(e[12]=t("h3",{class:"text-lg font-semibold mb-4"},"相关工具",-1)),t("div",me,[c(o,{to:"/tools/base64-encode",class:"flex items-center gap-3 p-3 bg-muted rounded-lg hover:bg-muted/80 transition-colors group"},{default:_(()=>[c(x(C),{class:"w-5 h-5 text-primary"}),e[9]||(e[9]=t("div",null,[t("p",{class:"font-medium group-hover:text-primary"},"Base64 编码"),t("p",{class:"text-xs text-muted-foreground"},"文本/图片转 Base64")],-1)),c(x(w),{class:"w-4 h-4 ml-auto text-muted-foreground group-hover:text-primary"})]),_:1}),c(o,{to:"/tools/url-decode",class:"flex items-center gap-3 p-3 bg-muted rounded-lg hover:bg-muted/80 transition-colors group"},{default:_(()=>[c(x(O),{class:"w-5 h-5 text-primary"}),e[10]||(e[10]=t("div",null,[t("p",{class:"font-medium group-hover:text-primary"},"URL 解码"),t("p",{class:"text-xs text-muted-foreground"},"URL 百分比解码")],-1)),c(x(w),{class:"w-4 h-4 ml-auto text-muted-foreground group-hover:text-primary"})]),_:1}),c(o,{to:"/tools/hex-convert",class:"flex items-center gap-3 p-3 bg-muted rounded-lg hover:bg-muted/80 transition-colors group"},{default:_(()=>[c(x(C),{class:"w-5 h-5 text-primary"}),e[11]||(e[11]=t("div",null,[t("p",{class:"font-medium group-hover:text-primary"},"十六进制转换"),t("p",{class:"text-xs text-muted-foreground"},"文本与十六进制互转")],-1)),c(x(w),{class:"w-4 h-4 ml-auto text-muted-foreground group-hover:text-primary"})]),_:1})])])])])}}},Be=N(ve,[["__scopeId","data-v-9c0e84e6"]]);export{Be as default};
