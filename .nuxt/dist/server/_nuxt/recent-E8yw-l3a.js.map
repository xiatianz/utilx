{"version":3,"file":"recent-E8yw-l3a.js","sources":["../../../../src/pages/recent.vue"],"sourcesContent":["<template>\n  <div class=\"max-w-8xl mx-auto py-8\">\n    <div class=\"mb-8\">\n      <h1 class=\"text-3xl font-bold text-foreground mb-2 flex items-center gap-2\">\n        <Clock class=\"w-8 h-8 text-primary\" />\n        最近使用\n      </h1>\n      <p class=\"text-muted-foreground\">您最近使用过的工具</p>\n    </div>\n\n    <!-- 最近使用的工具 -->\n    <section>\n      <div v-if=\"recentTools.length > 0\">\n        <div class=\"flex items-center justify-between mb-6\">\n          <h2 class=\"text-lg font-semibold flex items-center gap-2\">\n            <History class=\"w-5 h-5 text-primary\" />\n            使用历史\n          </h2>\n          <button \n            class=\"text-sm text-muted-foreground hover:text-primary flex items-center gap-1\"\n            @click=\"clearRecentToolsHandler\"\n          >\n            <Trash2 class=\"w-4 h-4\" />\n            清空记录\n          </button>\n        </div>\n        \n        <div class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4\">\n          <ToolCard\n            v-for=\"tool in recentTools\"\n            :key=\"tool.id\"\n            :tool=\"tool\"\n            :title=\"tool.name\"\n            :description=\"tool.description\"\n            :category=\"tool.category\"\n            :usage-count=\"formatViewCount(tool.viewCount)\"\n            :icon=\"tool.icon\"\n            @select=\"handleToolSelect\"\n          />\n        </div>\n      </div>\n\n      <!-- 空状态 -->\n      <div \n        v-else\n        class=\"text-center py-12\"\n      >\n        <div class=\"inline-flex items-center justify-center w-16 h-16 rounded-full bg-muted mb-4\">\n          <Clock class=\"w-8 h-8 text-muted-foreground\" />\n        </div>\n        <h3 class=\"text-lg font-medium text-foreground\">暂无记录</h3>\n        <p class=\"text-muted-foreground mt-2\">您还没有使用过任何工具，快去探索吧！</p>\n        <NuxtLink \n          to=\"/explore\" \n          class=\"inline-flex items-center gap-2 mt-4 px-4 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors\"\n        >\n          <Compass class=\"w-4 h-4\" />\n          去探索\n        </NuxtLink>\n      </div>\n    </section>\n  </div>\n</template>\n\n<script setup>\nimport { ref, computed } from 'vue'\nimport { useRouter } from 'vue-router'\nimport { \n  Clock, History, Trash2, Compass,Lock,\n  FileJson, Database, Link, Hash, Timer, Regex, FileDiff,\n  Globe, FolderOpen, GitBranch, Type, Wifi, Image, Code,\n  Shield, Layout\n} from 'lucide-vue-next'\nimport { tools } from '~/data/tools'\nimport { getRecentTools, initToolsData, addRecentTool, clearRecentTools } from '~/composables/useTools'\nimport ToolCard from '~/components/ToolCard.vue'\n\ndefinePageMeta({\n  layout: 'default'\n})\n\nimport { useSEO } from '~/composables/useSEO'\n\n// 使用SEO composable设置页面标题\nconst { setPageTitle } = useSEO()\nsetPageTitle('最近使用工具')\n\n\n// 初始化工具数据\ninitToolsData()\n\nconst router = useRouter()\n\n// 图标映射\nconst iconMap = {\n  FileText: FileJson, Lock, Shield, Clock, Type, Wifi, Image, Code,\n  FileJson, Database, Link, Hash, Timer, Regex, FileDiff,\n  Globe, FolderOpen, GitBranch, Layout, History, Trash2, Compass\n}\n\n// 最近使用的工具\nconst recentTools = computed(() => {\n  const recentIds = getRecentTools()\n  return recentIds\n    .map(id => tools.find(tool => tool.id === id))\n    .filter(Boolean)\n})\n\n// 格式化浏览量\nconst formatViewCount = (count) => {\n  if (count >= 10000) {\n    return `${(count / 10000).toFixed(1)}w+`\n  } else if (count >= 1000) {\n    return `${(count / 1000).toFixed(1)}k+`\n  }\n  return `${count}`\n}\n\n// 处理工具选择\nconst handleToolSelect = (tool) => {\n  // 获取工具URL\n  const toolUrl = `/tools/${tool.id}/`\n  // 跳转到具体工具页面\n  router.push(toolUrl)\n  // 添加到最近使用\n  addRecentTool(tool.id)\n}\n\n// 清空最近使用的工具\nconst clearRecentToolsHandler = () => {\n  clearRecentTools()\n}\n\n// 获取图标组件\nconst getIconComponent = (iconName) => {\n  return iconMap[iconName] || FileText\n}\n</script>"],"names":["_ssrRenderAttrs","_mergeProps","_ssrRenderComponent","_unref","_ssrRenderList","_push","_parent","_createVNode"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAoFA,UAAM,EAAE,aAAY,IAAK,OAAM;AAC/B,iBAAa,QAAQ;AAIrB,kBAAa;AAEb,UAAM,SAAS,UAAS;AAUxB,UAAM,cAAc,SAAS,MAAM;AACjC,YAAM,YAAY,eAAc;AAChC,aAAO,UACJ,IAAI,QAAM,MAAM,KAAK,UAAQ,KAAK,OAAO,EAAE,CAAC,EAC5C,OAAO,OAAO;AAAA,IACnB,CAAC;AAGD,UAAM,kBAAkB,CAAC,UAAU;AACjC,UAAI,SAAS,KAAO;AAClB,eAAO,IAAI,QAAQ,KAAO,QAAQ,CAAC,CAAC;AAAA,MACtC,WAAW,SAAS,KAAM;AACxB,eAAO,IAAI,QAAQ,KAAM,QAAQ,CAAC,CAAC;AAAA,MACrC;AACA,aAAO,GAAG,KAAK;AAAA,IACjB;AAGA,UAAM,mBAAmB,CAAC,SAAS;AAEjC,YAAM,UAAU,UAAU,KAAK,EAAE;AAEjC,aAAO,KAAK,OAAO;AAEnB,oBAAc,KAAK,EAAE;AAAA,IACvB;;;AA7HO,YAAA,OAAAA,eAAAC,WAAA,EAAA,OAAM,4BAAwB,MAAA,CAAA,CAAA,iGAAA;AAGtB,YAAAC,mBAAAC,MAAA,KAAA,GAAA,EAAA,OAAM,uBAAsB,GAAA,MAAA,OAAA,CAAA;;AAQ1B,UAAA,YAAA,MAAY,SAAM,GAAA;;AAGd,cAAAD,mBAAAC,MAAA,OAAA,GAAA,EAAA,OAAM,uBAAsB,GAAA,MAAA,OAAA,CAAA;;AAO7B,cAAAD,mBAAAC,MAAA,MAAA,GAAA,EAAA,OAAM,UAAS,GAAA,MAAA,OAAA,CAAA;;AAORC,sBAAA,YAAA,QAAR,SAAI;;YACV,KAAK,KAAK;AAAA,YACV;AAAA,YACA,OAAO,KAAK;AAAA,YACZ,aAAa,KAAK;AAAA,YAClB,UAAU,KAAK;AAAA,YACf,eAAa,gBAAgB,KAAK,SAAS;AAAA,YAC3C,MAAM,KAAK;AAAA,YACX,UAAQ;AAAA;;;;;AAWJ,cAAAF,mBAAAC,MAAA,KAAA,GAAA,EAAA,OAAM,gCAA+B,GAAA,MAAA,OAAA,CAAA;;;UAK5C,IAAG;AAAA,UACH,OAAM;AAAA;2BAFR,CAMW,GAAAE,QAAAC,UAAA,aAAA;;AAFA,cAAAD,OAAAH,mBAAAC,MAAA,OAAA,GAAA,EAAA,OAAM,aAAS,MAAAG,UAAA,QAAA,CAAA;;;;gBAAxBC,YAA2BJ,MAAA,OAAA,GAAA,EAAlB,OAAM,UAAS,CAAA;AAAA,gCAAG,OAE7B;AAAA;;;;;;;;;;;;;;;;;"}