import{_ as B}from"./D4g1_bQ7.js";import{q as V,u as G,r as a,e as K,p as z,f as H,c as O,a as e,h as b,y as I,v as N,z as J,V as k,t as v,n as y,j as _,l as P,x as W,F as Q,k as Y,m as Z,o as u,w as ee,C as te}from"./DEsTSaKd.js";import{t as m}from"./B-fbZyPE.js";import{c as oe}from"./3IwUeceH.js";import{C as re,a as se}from"./BaG5JeHk.js";import{G as le}from"./sCtjrDU-.js";import{F as ne}from"./OWHW6ZUB.js";import{G as ae}from"./B8QRyNMs.js";import{F as ie}from"./BIbbmz6B.js";import{R as ue}from"./b4Up8kzW.js";import{T as de}from"./C1JgnPlw.js";import{H as ce}from"./ZC22Qqbx.js";import{L as me}from"./BP6Cft7q.js";import{D as pe}from"./DESX2TF9.js";import{F as fe}from"./C-LEKrTT.js";import{C as xe}from"./vEvaw0F6.js";import{I as ge}from"./4T928kbW.js";import{W as be}from"./BUYFD_dQ.js";import{T as ve}from"./Z_ZHHb8E.js";import{C as ye}from"./BuCd20m7.js";import{S as Le}from"./w5JABn4e.js";import{L as he}from"./DbWJs76d.js";import{F as Me}from"./CRvidJJ3.js";import"./wERbHxDK.js";const Se={class:"max-w-8xl mx-auto"},Xe={class:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8"},Oe={class:"flex flex-col h-full"},Ne={class:"flex items-center justify-between mb-2"},we={class:"flex items-center gap-2"},Je={class:"flex items-center gap-2"},ke=["onKeydown"],_e={key:0,class:"mt-2 p-2 bg-destructive/20 text-destructive text-sm rounded"},Fe={class:"flex flex-col h-full"},Ce={class:"p-6 mb-12 relative"},qe=["title"],$e={class:"mb-12"},je={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"},Ee={class:"flex items-center gap-2 mb-2"},De={class:"font-medium text-foreground"},Re={class:"text-sm text-muted-foreground line-clamp-2"},dt={__name:"json-to-xml",setup(Te){V({title:"JSON转XML - 在线JSON转XML格式转换工具",description:"免费在线 JSON to XML 转换工具，支持将 JSON 数据快速转换为 XML 格式，保留数据结构，支持自定义根元素。纯本地计算，数据安全。",keywords:"JSON转XML, JSON to XML, JSON XML转换, 数据格式转换, 在线工具",author:"Util工具箱",ogTitle:"JSON转XML - 在线JSON转XML格式转换工具",ogDescription:"免费在线 JSON to XML 转换工具，支持将 JSON 数据快速转换为 XML 格式，保留数据结构。",ogType:"website",twitterCard:"summary_large_image"}),G({script:[{type:"application/ld+json",children:JSON.stringify({"@context":"https://schema.org","@type":"WebApplication",name:"JSON转XML工具",description:"免费在线 JSON to XML 转换工具，支持将 JSON 数据快速转换为 XML 格式",url:"https://util.example.com/tools/json-to-xml",applicationCategory:"DeveloperApplication",operatingSystem:"Any",offers:{"@type":"Offer",price:"0",priceCurrency:"USD"},featureList:["JSON转XML","自定义根元素","数组元素命名","格式化输出","本地处理"]})}]}),Z();const w=m.find(o=>o.id==="json-to-xml");oe.find(o=>o.id==="format");const i=a(""),l=a(""),p=a(""),L=a("root"),f=a("item"),x=a(!0),n=a(null),d=a(!1),F={FileText:Me,Lock:he,Shield:Le,Clock:ye,Type:ve,Wifi:be,Image:ge,Code:xe,FileJson:fe,Database:pe,Link:me,Hash:ce,Timer:de,Regex:ue,FileDiff:ie,Globe:ae,FolderOpen:ne,GitBranch:le},C=K(()=>{const o=m.filter(r=>r.category==="format"&&r.id!=="json-to-xml").slice(0,3),t=[m.find(r=>r.id==="xml-to-json"),m.find(r=>r.id==="json-formatter"),m.find(r=>r.id==="xml-formatter"),m.find(r=>r.id==="json-to-yaml")].filter(Boolean);return[...o,...t].slice(0,4)}),h=()=>{if(i.value)try{p.value="";const o=JSON.parse(i.value),t=q(o,L.value);l.value=$(t)}catch(o){p.value=`转换失败: ${o.message}`,l.value=""}},q=(o,t)=>{let r=`<?xml version="1.0" encoding="UTF-8"?>
`;return typeof o=="object"&&o!==null?(r+=`<${t}>
`,r+=M(o,1),r+=`</${t}>`):r+=`<${t}>${S(String(o))}</${t}>`,r},M=(o,t)=>{const r="  ".repeat(t);let s="";if(Array.isArray(o))for(const c of o)s+=`${r}<${f.value}>`,typeof c=="object"&&c!==null?(s+=`
`,s+=M(c,t+1),s+=`${r}</${f.value}>
`):s+=`${S(String(c))}</${f.value}>
`;else if(typeof o=="object"&&o!==null)for(const[c,g]of Object.entries(o)){const X=c.replace(/[^a-zA-Z0-9_-]/g,"_");s+=`${r}<${X}>`,typeof g=="object"&&g!==null?(s+=`
`,s+=M(g,t+1),s+=`${r}</${X}>
`):s+=`${S(String(g))}</${X}>
`}return s},S=o=>o.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"),$=o=>o,j=()=>{i.value="",l.value="",p.value=""},E=async()=>{try{const o=await navigator.clipboard.readText();i.value=o}catch(o){console.error("粘贴失败:",o)}},D=()=>{i.value=`{
  "bookstore": {
    "book": [
      {
        "title": "Great Gatsby",
        "author": "F. Scott Fitzgerald",
        "year": 1925,
        "price": 10.99,
        "category": "fiction"
      },
      {
        "title": "Harry Potter",
        "author": "J.K. Rowling",
        "year": 2005,
        "price": 29.99,
        "category": "children"
      }
    ],
    "name": "My Bookstore",
    "location": "New York"
  }
}`},R=async()=>{if(l.value)try{await navigator.clipboard.writeText(l.value)}catch(o){console.error("复制失败:",o)}},T=()=>{if(!l.value)return;const o=new Blob([l.value],{type:"application/xml"}),t=URL.createObjectURL(o),r=document.createElement("a");r.href=t,r.download="converted.xml",document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(t)},U=()=>{n.value&&(d.value?document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen():n.value.requestFullscreen?n.value.requestFullscreen():n.value.webkitRequestFullscreen?n.value.webkitRequestFullscreen():n.value.msRequestFullscreen&&n.value.msRequestFullscreen(),d.value=!d.value)},A=()=>{x.value=!x.value};return w&&z(w.id),H(()=>{document.addEventListener("fullscreenchange",()=>{d.value=!!document.fullscreenElement}),document.addEventListener("webkitfullscreenchange",()=>{d.value=!!document.webkitFullscreenElement}),document.addEventListener("msfullscreenchange",()=>{d.value=!!document.msFullscreenElement})}),(o,t)=>{const r=B;return u(),O("div",Se,[t[9]||(t[9]=e("div",{class:"mb-8"},[e("h1",{class:"text-3xl font-bold text-foreground mb-3"},"JSON转XML - 在线JSON转XML格式转换工具"),e("p",{class:"text-muted-foreground"},"一款免费的在线 JSON to XML Converter。支持将 JSON 数据快速转换为 XML 格式，保留数据结构，支持自定义根元素名称。纯本地计算，数据隐私绝对安全。")],-1)),e("div",Xe,[e("div",Oe,[e("div",{class:"flex items-center justify-between mb-3"},[t[3]||(t[3]=e("label",{class:"text-sm font-medium text-foreground"},"输入JSON",-1)),e("div",{class:"flex gap-2"},[e("button",{class:"text-xs px-2 py-1 bg-muted hover:bg-muted/80 rounded text-muted-foreground",onClick:j}," 清空 "),e("button",{class:"text-xs px-2 py-1 bg-muted hover:bg-muted/80 rounded text-muted-foreground",onClick:E}," 粘贴 "),e("button",{class:"text-xs px-2 py-1 bg-muted hover:bg-muted/80 rounded text-muted-foreground",onClick:D}," 示例数据 ")])]),e("div",Ne,[e("div",we,[t[4]||(t[4]=e("label",{class:"text-xs text-muted-foreground"},"根元素名称:",-1)),b(e("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=s=>L.value=s),placeholder:"root",class:"text-xs bg-muted border border-border rounded px-2 py-1 w-24"},null,512),[[N,L.value]])]),e("div",Je,[t[5]||(t[5]=e("label",{class:"text-xs text-muted-foreground"},"数组元素名称:",-1)),b(e("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=s=>f.value=s),placeholder:"item",class:"text-xs bg-muted border border-border rounded px-2 py-1 w-24"},null,512),[[N,f.value]])])]),b(e("textarea",{"onUpdate:modelValue":t[2]||(t[2]=s=>i.value=s),class:"flex-1 w-full min-h-[300px] p-4 bg-muted border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary resize-none font-mono text-sm",placeholder:"在此输入JSON数据...",onKeydown:[J(k(h,["ctrl"]),["enter"]),J(k(h,["meta"]),["enter"])]},null,40,ke),[[N,i.value]]),p.value?(u(),O("div",_e,v(p.value),1)):I("",!0)]),e("div",Fe,[e("div",{class:"flex items-center justify-between mb-3"},[t[6]||(t[6]=e("label",{class:"text-sm font-medium text-foreground"},"XML输出",-1)),e("div",{class:"flex gap-2"},[e("button",{class:"text-xs px-2 py-1 bg-muted hover:bg-muted/80 rounded text-muted-foreground",onClick:R}," 复制 "),e("button",{class:"text-xs px-2 py-1 bg-muted hover:bg-muted/80 rounded text-muted-foreground",onClick:T}," 下载XML "),e("button",{class:"text-xs px-2 py-1 bg-muted hover:bg-muted/80 rounded text-muted-foreground",onClick:U}," 全屏模式 ")])]),e("pre",{ref_key:"outputPre",ref:n,class:"flex-1 w-full min-h-[300px] p-4 bg-muted border border-border rounded-lg overflow-auto font-mono text-sm whitespace-pre-wrap"},v(l.value),513)])]),e("div",{class:"flex justify-center mb-12"},[e("button",{onClick:h,class:"px-6 py-3 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors font-medium"}," 转换为 XML ")]),e("div",Ce,[e("button",{onClick:A,class:"absolute top-4 right-4 text-muted-foreground hover:text-foreground transition-colors",title:x.value?"折叠内容":"展开内容"},[x.value?(u(),y(_(se),{key:1,class:"w-5 h-5"})):(u(),y(_(re),{key:0,class:"w-5 h-5"}))],8,qe),b(e("div",null,[...t[7]||(t[7]=[W('<h2 class="text-2xl font-bold text-foreground mb-4 flex items-center"><span class="text-primary mr-2">#</span> 什么是 JSON 转 XML？ </h2><p class="text-muted-foreground mb-4"> JSON（JavaScript Object Notation）和 XML（eXtensible Markup Language）都是常用的数据交换格式。 JSON 转 XML 是将 JSON 数据结构转换为 XML 格式的过程，这在需要与遗留系统集成、 或某些特定场景下需要 XML 格式的数据时非常有用。 </p><p class="text-muted-foreground"> JSON 使用键值对和数组来表示数据结构，而 XML 使用标签和属性。转换过程中需要考虑 如何映射这些结构，以确保数据的完整性和可读性。 </p><h2 class="text-2xl font-bold text-foreground mt-8 mb-4 flex items-center"><span class="text-primary mr-2">#</span> 如何使用本工具 </h2><ol class="list-decimal list-inside space-y-2 text-muted-foreground mb-6"><li>将您的 JSON 数据粘贴到左侧输入框</li><li>设置根元素名称（默认为 &quot;root&quot;）</li><li>设置数组元素名称（默认为 &quot;item&quot;）</li><li>点击&quot;转换为 XML&quot;按钮或使用快捷键 Ctrl+Enter</li><li>查看右侧转换后的 XML 结果</li></ol><h2 class="text-2xl font-bold text-foreground mt-8 mb-4 flex items-center"><span class="text-primary mr-2">#</span> 转换规则说明 </h2><ul class="list-disc list-inside space-y-2 text-muted-foreground mb-6"><li><strong>对象映射</strong>: JSON 对象转换为 XML 元素，键名作为标签名</li><li><strong>数组处理</strong>: JSON 数组转换为多个相同名称的 XML 元素</li><li><strong>数据类型</strong>: 所有值都转换为 XML 的文本内容（CDATA）</li><li><strong>嵌套结构</strong>: 保留 JSON 的嵌套层级关系</li><li><strong>特殊字符</strong>: 自动转义 XML 特殊字符（&lt;, &gt;, &amp;, &#39;, &quot;）</li></ul><h2 class="text-2xl font-bold text-foreground mt-8 mb-4 flex items-center"><span class="text-primary mr-2">#</span> 常见问题 (FAQ) </h2><div class="space-y-4"><div><h3 class="text-lg font-semibold text-foreground">转换后的 XML 会保留数据类型吗？</h3><p class="text-muted-foreground mt-1"> XML 本身不支持数据类型，所有值都会转换为文本。如果需要在 XML 中保留类型信息， 可以使用属性或特殊标签来标记数据类型。 </p></div><div><h3 class="text-lg font-semibold text-foreground">JSON 数组如何转换为 XML？</h3><p class="text-muted-foreground mt-1"> JSON 数组会转换为多个同名的 XML 元素。例如，数组 [&quot;a&quot;, &quot;b&quot;] 会转换为： &lt;array&gt;&lt;item&gt;a&lt;/item&gt;&lt;item&gt;b&lt;/item&gt;&lt;/array&gt; </p></div><div><h3 class="text-lg font-semibold text-foreground">为什么需要 JSON 转 XML？</h3><p class="text-muted-foreground mt-1"> 常见场景包括：与使用 XML 的遗留系统集成、符合行业标准格式要求、 XML 具有更好的自描述性和验证机制（DTD/XSD）、某些企业应用要求 XML 格式等。 </p></div></div>',9)])],512),[[P,x.value]])]),e("section",$e,[t[8]||(t[8]=e("h2",{class:"text-2xl font-bold text-foreground mb-4"},"您可能还需要...",-1)),e("div",je,[(u(!0),O(Q,null,Y(C.value,s=>(u(),y(r,{key:s.id,to:`/tools/${s.id}/`,class:"block p-4 bg-card border border-border rounded-lg hover:bg-accent transition-colors"},{default:ee(()=>[e("div",Ee,[(u(),y(te(F[s.icon]),{class:"w-5 h-5 text-primary"})),e("span",De,v(s.name),1)]),e("p",Re,v(s.description),1)]),_:2},1032,["to"]))),128))])])])}}};export{dt as default};
