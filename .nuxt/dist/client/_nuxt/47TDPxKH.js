import{_ as V}from"./D4g1_bQ7.js";import{r as a,e as P,p as D,f as N,c as y,a as e,h as x,y as G,P as K,R as z,v as A,z as T,V as O,t as g,n as v,j as k,l as H,x as Q,F as Y,k as $,m as J,o as d,w as X,C as Z}from"./DEsTSaKd.js";import{t as c}from"./B-fbZyPE.js";import{c as ee}from"./3IwUeceH.js";import{C as te,a as oe}from"./BaG5JeHk.js";import{G as se}from"./sCtjrDU-.js";import{F as re}from"./OWHW6ZUB.js";import{G as le}from"./B8QRyNMs.js";import{F as ne}from"./BIbbmz6B.js";import{R as ie}from"./b4Up8kzW.js";import{T as ae}from"./C1JgnPlw.js";import{H as ue}from"./ZC22Qqbx.js";import{L as de}from"./BP6Cft7q.js";import{D as me}from"./DESX2TF9.js";import{F as ce}from"./C-LEKrTT.js";import{C as fe}from"./vEvaw0F6.js";import{I as pe}from"./4T928kbW.js";import{W as xe}from"./BUYFD_dQ.js";import{T as ge}from"./Z_ZHHb8E.js";import{C as ve}from"./BuCd20m7.js";import{S as be}from"./w5JABn4e.js";import{L as he}from"./DbWJs76d.js";import{F as ye}from"./CRvidJJ3.js";import"./wERbHxDK.js";const Le={class:"max-w-8xl mx-auto"},Me={class:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8"},Te={class:"flex flex-col h-full"},Oe={class:"flex items-center justify-between mb-2"},ke={class:"flex items-center gap-2"},we={class:"flex items-center gap-2"},Fe=["onKeydown"],Ce={key:0,class:"mt-2 p-2 bg-destructive/20 text-destructive text-sm rounded"},_e={class:"flex flex-col h-full"},Ee={class:"p-6 mb-12 relative"},Re=["title"],Se={class:"mb-12"},We={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"},je={class:"flex items-center gap-2 mb-2"},qe={class:"font-medium text-foreground"},Be={class:"text-sm text-muted-foreground line-clamp-2"},at={__name:"toml-formatter",setup(Ie){J();const L=c.find(s=>s.id==="toml-formatter");ee.find(s=>s.id==="format");const u=a(""),n=a(""),f=a(""),b=a("2"),M=a(!1),p=a(!0),i=a(null),m=a(!1),w={FileText:ye,Lock:he,Shield:be,Clock:ve,Type:ge,Wifi:xe,Image:pe,Code:fe,FileJson:ce,Database:me,Link:de,Hash:ue,Timer:ae,Regex:ie,FileDiff:ne,Globe:le,FolderOpen:re,GitBranch:se},F=P(()=>{const s=c.filter(o=>o.category==="format"&&o.id!=="toml-formatter").slice(0,3),t=[c.find(o=>o.id==="json-formatter"),c.find(o=>o.id==="yaml-formatter"),c.find(o=>o.id==="xml-formatter"),c.find(o=>o.id==="yaml-converter")].filter(Boolean);return[...s,...t].slice(0,4)}),h=()=>{if(u.value)try{f.value="";const s=u.value.split(`
`),t=parseInt(b.value)||2,o=[];let r="";for(const q of s){const l=q.trim();if(!l){o.push("");continue}if(l.startsWith("#")){o.push(" ".repeat(r?t:0)+l);continue}if(l.startsWith("[")&&l.endsWith("]")){r=l,o.push(""),o.push(l),o.push("");continue}if(l.includes("=")){const[B,...I]=l.split("="),U=I.join("=").trim();o.push(" ".repeat(r?t:0)+B.trim()+" = "+U)}else r&&l.startsWith("[")&&!l.endsWith("]")||r&&l.startsWith("  ")||l.startsWith("	")?o.push(" ".repeat(t)+l):o.push(l)}n.value=o.join(`
`).trim()}catch(s){f.value=`TOML格式化错误: ${s.message}`,n.value=""}},C=()=>{u.value="",n.value="",f.value=""},_=async()=>{try{const s=await navigator.clipboard.readText();u.value=s}catch(s){console.error("粘贴失败:",s)}},E=()=>{u.value=`# TOML 配置示例
title = "TOML Example"
owner.name = "Tom Preston-Werner"
owner.dob = 1979-05-27T07:32:00-08:00

[database]
server = "192.168.1.1"
ports = [ 8001, 8001, 8002 ]
connection_max = 5000
enabled = true

[servers]
alpha = "10.0.0.1"
beta = "10.0.0.2"`},R=async()=>{if(n.value)try{await navigator.clipboard.writeText(n.value)}catch(s){console.error("复制失败:",s)}},S=()=>{if(!n.value)return;const s=new Blob([n.value],{type:"text/toml"}),t=URL.createObjectURL(s),o=document.createElement("a");o.href=t,o.download="formatted.toml",document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(t)},W=()=>{i.value&&(m.value?document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen():i.value.requestFullscreen?i.value.requestFullscreen():i.value.webkitRequestFullscreen?i.value.webkitRequestFullscreen():i.value.msRequestFullscreen&&i.value.msRequestFullscreen(),m.value=!m.value)},j=()=>{p.value=!p.value};return L&&D(L.id),N(()=>{document.addEventListener("fullscreenchange",()=>{m.value=!!document.fullscreenElement}),document.addEventListener("webkitfullscreenchange",()=>{m.value=!!document.webkitFullscreenElement}),document.addEventListener("msfullscreenchange",()=>{m.value=!!document.msFullscreenElement})}),(s,t)=>{const o=V;return d(),y("div",Le,[t[10]||(t[10]=e("div",{class:"mb-8"},[e("h1",{class:"text-3xl font-bold text-foreground mb-3"},"TOML格式化 - 在线TOML美化工具"),e("p",{class:"text-muted-foreground"},"一款免费的在线 TOML Formatter。支持一键美化、格式化TOML配置文件，自动调整缩进，检查语法。纯本地计算，数据隐私绝对安全。")],-1)),e("div",Me,[e("div",Te,[e("div",{class:"flex items-center justify-between mb-3"},[t[3]||(t[3]=e("label",{class:"text-sm font-medium text-foreground"},"输入TOML",-1)),e("div",{class:"flex gap-2"},[e("button",{class:"text-xs px-2 py-1 bg-muted hover:bg-muted/80 rounded text-muted-foreground",onClick:C}," 清空 "),e("button",{class:"text-xs px-2 py-1 bg-muted hover:bg-muted/80 rounded text-muted-foreground",onClick:_}," 粘贴 "),e("button",{class:"text-xs px-2 py-1 bg-muted hover:bg-muted/80 rounded text-muted-foreground",onClick:E}," 示例数据 ")])]),e("div",Oe,[e("div",ke,[t[5]||(t[5]=e("label",{class:"text-xs text-muted-foreground"},"键值对缩进:",-1)),x(e("select",{"onUpdate:modelValue":t[0]||(t[0]=r=>b.value=r),class:"text-xs bg-muted border border-border rounded px-2 py-1"},[...t[4]||(t[4]=[e("option",{value:"2"},"2空格",-1),e("option",{value:"4"},"4空格",-1)])],512),[[K,b.value]])]),e("div",we,[t[6]||(t[6]=e("label",{class:"text-xs text-muted-foreground"},"排序键:",-1)),x(e("input",{type:"checkbox","onUpdate:modelValue":t[1]||(t[1]=r=>M.value=r),class:"rounded"},null,512),[[z,M.value]])])]),x(e("textarea",{"onUpdate:modelValue":t[2]||(t[2]=r=>u.value=r),class:"flex-1 w-full min-h-[300px] p-4 bg-muted border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary resize-none font-mono text-sm",placeholder:"在此输入TOML数据...",onKeydown:[T(O(h,["ctrl"]),["enter"]),T(O(h,["meta"]),["enter"])]},null,40,Fe),[[A,u.value]]),f.value?(d(),y("div",Ce,g(f.value),1)):G("",!0)]),e("div",_e,[e("div",{class:"flex items-center justify-between mb-3"},[t[7]||(t[7]=e("label",{class:"text-sm font-medium text-foreground"},"输出结果",-1)),e("div",{class:"flex gap-2"},[e("button",{class:"text-xs px-2 py-1 bg-muted hover:bg-muted/80 rounded text-muted-foreground",onClick:R}," 复制 "),e("button",{class:"text-xs px-2 py-1 bg-muted hover:bg-muted/80 rounded text-muted-foreground",onClick:S}," 下载TOML "),e("button",{class:"text-xs px-2 py-1 bg-muted hover:bg-muted/80 rounded text-muted-foreground",onClick:W}," 全屏模式 ")])]),e("pre",{ref_key:"outputPre",ref:i,class:"flex-1 w-full min-h-[300px] p-4 bg-muted border border-border rounded-lg overflow-auto font-mono text-sm whitespace-pre-wrap"},g(n.value),513)])]),e("div",{class:"flex justify-center mb-12"},[e("button",{onClick:h,class:"px-6 py-3 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors font-medium"}," 格式化 TOML ")]),e("div",Ee,[e("button",{onClick:j,class:"absolute top-4 right-4 text-muted-foreground hover:text-foreground transition-colors",title:p.value?"折叠内容":"展开内容"},[p.value?(d(),v(k(oe),{key:1,class:"w-5 h-5"})):(d(),v(k(te),{key:0,class:"w-5 h-5"}))],8,Re),x(e("div",null,[...t[8]||(t[8]=[Q('<h2 class="text-2xl font-bold text-foreground mb-4 flex items-center"><span class="text-primary mr-2">#</span> 什么是 TOML 格式化？ </h2><p class="text-muted-foreground mb-4"> TOML (Tom&#39;s Obvious, Minimal Language) 是一种语义化明显的最小化配置文件格式。 它旨在成为易于阅读和编写，同时明确映射到各种数据类型的配置文件格式。 TOML 由 GitHub 联合创始人 Tom Preston-Werner 创建，被广泛用于 Rust、Cargo、 Python 等生态系统中的配置文件。 </p><p class="text-muted-foreground"> 为什么需要格式化 TOML？TOML 文件虽然语法简单，但在多人协作或手动编辑时， 可能会出现格式不一致的问题。TOML 格式化工具可以自动规范化格式， 确保缩进一致、键值对对齐，使配置文件更加易读易维护。 </p><h2 class="text-2xl font-bold text-foreground mt-8 mb-4 flex items-center"><span class="text-primary mr-2">#</span> 如何使用本工具 </h2><ol class="list-decimal list-inside space-y-2 text-muted-foreground mb-6"><li>将您的 TOML 配置粘贴到左侧输入框</li><li>选择键值对的缩进大小（2空格或4空格）</li><li>可选择是否对键进行字母排序</li><li>点击&quot;格式化 TOML&quot;按钮或使用快捷键 Ctrl+Enter</li><li>查看右侧格式化后的代码，或点击&quot;复制&quot;导出</li></ol><h2 class="text-2xl font-bold text-foreground mt-8 mb-4 flex items-center"><span class="text-primary mr-2">#</span> 核心功能特性 </h2><ul class="list-disc list-inside space-y-2 text-muted-foreground mb-6"><li><strong>智能格式化</strong>: 自动识别 TOML 结构，进行正确的格式化</li><li><strong>键值对排序</strong>: 可选的字母排序功能，使配置更有序</li><li><strong>缩进控制</strong>: 支持自定义缩进大小，满足不同编码规范</li><li><strong>保留注释</strong>: 保持 TOML 注释的完整性</li><li><strong>语法检查</strong>: 基本的语法验证，帮助发现常见错误</li><li><strong>本地安全</strong>: 所有处理都在浏览器本地完成，保护数据隐私</li></ul><h2 class="text-2xl font-bold text-foreground mt-8 mb-4 flex items-center"><span class="text-primary mr-2">#</span> 常见问题 (FAQ) </h2><div class="space-y-4"><div><h3 class="text-lg font-semibold text-foreground">在线 TOML 格式化安全吗？</h3><p class="text-muted-foreground mt-1"> 绝对安全。我们的 TOML 格式化工具采用纯前端技术实现，所有处理都在您的浏览器本地完成， 数据不会上传到任何服务器。您可以使用它处理包含敏感配置信息的 TOML 文件。 </p></div><div><h3 class="text-lg font-semibold text-foreground">TOML 和其他配置格式有什么区别？</h3><p class="text-muted-foreground mt-1"> TOML 介于 YAML 和 INI 之间：比 INI 更强大（支持数组、嵌套结构）， 比 YAML 更简洁明确（避免歧义的语法）。TOML 的设计目标是明确和最小化， 适合作为机器和人类都可读的配置文件格式。 </p></div><div><h3 class="text-lg font-semibold text-foreground">TOML 支持哪些数据类型？</h3><p class="text-muted-foreground mt-1"> TOML 支持字符串、整数、浮点数、布尔值、日期时间、数组和表（对象）。 字符串可用双引号或单引号，支持多行字符串。日期时间遵循 RFC 3339 格式。 </p></div></div>',9)])],512),[[H,p.value]])]),e("section",Se,[t[9]||(t[9]=e("h2",{class:"text-2xl font-bold text-foreground mb-4"},"您可能还需要...",-1)),e("div",We,[(d(!0),y(Y,null,$(F.value,r=>(d(),v(o,{key:r.id,to:`/tools/${r.id}`,class:"block p-4 bg-card border border-border rounded-lg hover:bg-accent transition-colors"},{default:X(()=>[e("div",je,[(d(),v(Z(w[r.icon]),{class:"w-5 h-5 text-primary"})),e("span",qe,g(r.name),1)]),e("p",Be,g(r.description),1)]),_:2},1032,["to"]))),128))])])])}}};export{at as default};
