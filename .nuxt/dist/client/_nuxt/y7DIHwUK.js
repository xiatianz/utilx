import{_ as K}from"./D4g1_bQ7.js";import{r as w,q as Q,f as Z,c as m,a as e,h as D,v as T,F as _,k as S,y as V,t as r,b as u,d as N,j as f,x as tt,w as $,o as c,R as et}from"./DEsTSaKd.js";import{X as st}from"./DJb2aM7w.js";import{D as ot}from"./ClT_iCD-.js";import{c as nt}from"./wERbHxDK.js";import{I as at}from"./MvNwXCJb.js";import{C as lt}from"./ByBUCkMP.js";import{A as L}from"./Bluep4Ee.js";import{T as dt}from"./C1JgnPlw.js";import{C as rt}from"./BuCd20m7.js";const it=nt("share-2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),ut={class:"max-w-8xl mx-auto"},mt={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},ct={class:"space-y-4"},pt={class:"bg-card rounded-lg p-6"},gt={class:"space-y-4"},vt={class:"mt-2 flex gap-2"},xt={class:"mt-2 flex gap-2"},ft={class:"mt-2 grid grid-cols-2 gap-2"},yt=["onClick"],bt={class:"bg-card rounded-lg p-6"},wt={class:"space-y-4"},kt={class:"grid grid-cols-7 gap-2"},ht=["onUpdate:modelValue","disabled"],Dt={class:"text-xs"},_t={class:"mt-2 space-y-2"},St=["onUpdate:modelValue"],Ct=["onUpdate:modelValue"],Ot=["onClick"],Tt={class:"space-y-4"},It={key:0,class:"bg-card rounded-lg p-6"},Vt={class:"space-y-4"},Nt={class:"p-4 bg-primary/5 border border-primary/20 rounded-lg"},$t={class:"text-3xl font-bold"},Lt={class:"text-sm text-muted-foreground mt-1"},Ut={class:"grid grid-cols-2 gap-3"},Mt={class:"p-3 bg-muted rounded-lg"},Rt={class:"text-xl font-bold"},Wt={class:"p-3 bg-muted rounded-lg"},jt={class:"text-xl font-bold text-primary"},Ht={class:"p-3 bg-muted rounded-lg"},Ft={class:"text-xl font-bold text-muted-foreground"},Bt={class:"p-3 bg-muted rounded-lg"},Et={class:"text-xl font-bold text-destructive"},Yt={class:"space-y-2"},qt={class:"text-sm"},zt={class:"flex items-center gap-4"},Jt={class:"text-sm text-muted-foreground"},At={class:"text-sm font-mono"},Pt={key:1,class:"bg-card rounded-lg p-6"},Xt={class:"space-y-2 max-h-64 overflow-y-auto"},Gt={class:"font-medium"},Kt={class:"text-sm text-muted-foreground"},Qt={key:2,class:"bg-card rounded-lg p-6"},Zt={class:"grid grid-cols-2 gap-3"},te={class:"mt-12 space-y-6"},ee={class:"bg-card rounded-lg p-6"},se={class:"text-lg font-semibold mb-4 flex items-center gap-2"},oe={class:"bg-card rounded-lg p-6"},ne={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},xe={__name:"workday-calculator",setup(ae){const p=w(""),g=w(""),C=w([!0,!0,!0,!0,!0,!1,!1]),y=w([]),d=w(null),b=w([]),H=["一","二","三","四","五","六","日"],F=[{name:"本周",days:7},{name:"本月",days:30},{name:"本季度",days:90},{name:"本年",days:365},{name:"下月",days:60,offset:30},{name:"下季度",days:180,offset:90}],O=[{date:"2024-01-01",name:"元旦"},{date:"2024-02-10",name:"春节"},{date:"2024-02-11",name:"春节"},{date:"2024-02-12",name:"春节"},{date:"2024-04-04",name:"清明节"},{date:"2024-05-01",name:"劳动节"},{date:"2024-06-10",name:"端午节"},{date:"2024-09-17",name:"中秋节"},{date:"2024-10-01",name:"国庆节"},{date:"2024-10-02",name:"国庆节"},{date:"2024-10-03",name:"国庆节"}],U=o=>{const t=o.getDay(),n=t===0?6:t-1;if(!C.value[n])return!1;const s=o.toISOString().split("T")[0];return!(O.some(a=>a.date===s)||y.value.some(a=>a.date===s))},x=()=>{if(!p.value||!g.value){d.value=null;return}const o=new Date(p.value),t=new Date(g.value);if(o>t){d.value=null;return}let n=0,s=0,l=0,a=0;const k=[];let v={number:1,workdays:0,dateRange:"",dates:[]};const i=new Date(o);let A=1;for(;i<=t;){n++;const I=i.getDay(),P=I===0||I===6,X=O.some(h=>h.date===i.toISOString().split("T")[0])||y.value.some(h=>h.date===i.toISOString().split("T")[0]);if(P?l++:X?a++:U(i)&&(s++,v.workdays++),v.dates.push(new Date(i)),I===0||i.getTime()===t.getTime()){const h=v.dates[0],G=v.dates[v.dates.length-1];v.dateRange=`${h.toLocaleDateString("zh-CN")} - ${G.toLocaleDateString("zh-CN")}`,k.push({...v}),v={number:++A,workdays:0,dateRange:"",dates:[]}}i.setDate(i.getDate()+1)}d.value={totalDays:n,workdays:s,weekends:l,holidays:a,weeklyStats:k},B(o,t)},B=(o,t)=>{b.value=[],O.forEach(n=>{const s=new Date(n.date);s>=o&&s<=t&&b.value.push(n)}),y.value.forEach(n=>{if(n.date){const s=new Date(n.date);s>=o&&s<=t&&b.value.push({date:n.date,name:n.name||"自定义节假日"})}}),b.value.sort((n,s)=>n.date.localeCompare(s.date))},M=o=>{const t=new Date().toISOString().split("T")[0];o==="start"?p.value=t:g.value=t,x()},R=o=>{const t=new Date,n=t.getDay(),s=t.getDate()-n+(n===0?-6:1),l=new Date(t.setDate(s)),a=new Date(t.setDate(s+6));o==="start"?p.value=l.toISOString().split("T")[0]:g.value=a.toISOString().split("T")[0],x()},W=o=>{const t=new Date;o==="start"?p.value=new Date(t.getFullYear(),t.getMonth(),1).toISOString().split("T")[0]:g.value=new Date(t.getFullYear(),t.getMonth()+1,0).toISOString().split("T")[0],x()},E=o=>{const t=new Date,n=new Date;o.offset&&(t.setDate(t.getDate()+o.offset),n.setDate(n.getDate()+o.offset)),n.setDate(n.getDate()+o.days),p.value=t.toISOString().split("T")[0],g.value=n.toISOString().split("T")[0],x()},Y=()=>{y.value.push({date:"",name:""})},q=o=>{y.value.splice(o,1),x()},z=()=>{if(!d.value)return;let o=`日期,是否工作日,类型
`;const t=new Date(p.value),n=new Date(g.value);for(;t<=n;){const s=t.toLocaleDateString("zh-CN"),l=U(t);let a="工作日";const k=t.getDay();if(k===0||k===6)a="周末";else{const v=t.toISOString().split("T")[0];(O.some(i=>i.date===v)||y.value.some(i=>i.date===v))&&(a="节假日")}o+=`${s},${l?"是":"否"},${a}
`,t.setDate(t.getDate()+1)}j(o,"workdays.csv","text/csv")},J=()=>{if(!d.value)return;const o={startDate:p.value,endDate:g.value,workdays:C.value,customHolidays:y.value,result:d.value,exportTime:new Date().toISOString()};j(JSON.stringify(o,null,2),"workdays.json","application/json")},j=(o,t,n)=>{const s=new Blob([o],{type:n}),l=URL.createObjectURL(s),a=document.createElement("a");a.href=l,a.download=t,a.click(),URL.revokeObjectURL(l)};return Q({title:"工作日计算器 - 在线计算工作日天数",description:"免费在线工作日计算工具，支持自定义节假日、计算工作日天数、排除周末等功能。",keywords:["工作日计算","工作日天数","日期计算","节假日","在线工具"]}),Z(()=>{const o=new Date,t=new Date(o.getFullYear(),o.getMonth(),1),n=new Date(o.getFullYear(),o.getMonth()+1,0);p.value=t.toISOString().split("T")[0],g.value=n.toISOString().split("T")[0],x()}),(o,t)=>{const n=K;return c(),m("div",ut,[t[33]||(t[33]=e("div",{class:"mt-4 mb-8"},[e("h1",{class:"text-3xl font-bold mb-3"},"工作日计算器"),e("p",{class:"text-muted-foreground"},"计算两个日期之间的工作日天数，支持自定义节假日")],-1)),e("div",mt,[e("div",ct,[e("div",pt,[t[11]||(t[11]=e("h2",{class:"text-lg font-semibold mb-4"},"日期范围",-1)),e("div",gt,[e("div",null,[t[8]||(t[8]=e("label",{class:"text-sm font-medium"},"开始日期",-1)),D(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>p.value=s),type:"date",class:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-primary mt-2",onChange:x},null,544),[[T,p.value]]),e("div",vt,[e("button",{onClick:t[1]||(t[1]=s=>M("start")),class:"px-3 py-1 text-sm text-primary hover:text-primary/80 transition-colors"}," 今天 "),e("button",{onClick:t[2]||(t[2]=s=>R("start")),class:"px-3 py-1 text-sm text-muted-foreground hover:text-foreground transition-colors"}," 本周一 "),e("button",{onClick:t[3]||(t[3]=s=>W("start")),class:"px-3 py-1 text-sm text-muted-foreground hover:text-foreground transition-colors"}," 本月1号 ")])]),e("div",null,[t[9]||(t[9]=e("label",{class:"text-sm font-medium"},"结束日期",-1)),D(e("input",{"onUpdate:modelValue":t[4]||(t[4]=s=>g.value=s),type:"date",class:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-primary mt-2",onChange:x},null,544),[[T,g.value]]),e("div",xt,[e("button",{onClick:t[5]||(t[5]=s=>M("end")),class:"px-3 py-1 text-sm text-primary hover:text-primary/80 transition-colors"}," 今天 "),e("button",{onClick:t[6]||(t[6]=s=>R("end")),class:"px-3 py-1 text-sm text-muted-foreground hover:text-foreground transition-colors"}," 本周日 "),e("button",{onClick:t[7]||(t[7]=s=>W("end")),class:"px-3 py-1 text-sm text-muted-foreground hover:text-foreground transition-colors"}," 本月底 ")])]),e("div",null,[t[10]||(t[10]=e("label",{class:"text-sm font-medium"},"快捷选择",-1)),e("div",ft,[(c(),m(_,null,S(F,s=>e("button",{key:s.name,onClick:l=>E(s),class:"px-3 py-2 bg-muted hover:bg-muted/80 rounded-md transition-colors text-sm"},r(s.name),9,yt)),64))])])])]),e("div",bt,[t[14]||(t[14]=e("h2",{class:"text-lg font-semibold mb-4"},"自定义设置",-1)),e("div",wt,[e("div",null,[t[12]||(t[12]=e("label",{class:"text-sm font-medium mb-2 block"},"工作日",-1)),e("div",kt,[(c(),m(_,null,S(H,(s,l)=>e("label",{key:l,class:"flex flex-col items-center"},[D(e("input",{"onUpdate:modelValue":a=>C.value[l]=a,type:"checkbox",disabled:l===0||l===6,class:"mb-1",onChange:x},null,40,ht),[[et,C.value[l]]]),e("span",Dt,r(s),1)])),64))])]),e("div",null,[t[13]||(t[13]=e("label",{class:"text-sm font-medium"},"自定义节假日",-1)),e("div",_t,[(c(!0),m(_,null,S(y.value,(s,l)=>(c(),m("div",{key:l,class:"flex gap-2"},[D(e("input",{"onUpdate:modelValue":a=>s.date=a,type:"date",class:"flex-1 px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-primary",onChange:x},null,40,St),[[T,s.date]]),D(e("input",{"onUpdate:modelValue":a=>s.name=a,type:"text",placeholder:"节日名称",class:"flex-1 px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-primary"},null,8,Ct),[[T,s.name]]),e("button",{onClick:a=>q(l),class:"px-3 py-2 text-destructive hover:text-destructive/80 transition-colors"},[u(f(st),{class:"w-4 h-4"})],8,Ot)]))),128))]),e("button",{onClick:Y,class:"mt-2 px-4 py-2 bg-muted hover:bg-muted/80 rounded-md transition-colors text-sm w-full"}," 添加节假日 ")])])])]),e("div",Tt,[d.value?(c(),m("div",It,[t[21]||(t[21]=e("h2",{class:"text-lg font-semibold mb-4"},"计算结果",-1)),e("div",Vt,[e("div",Nt,[t[15]||(t[15]=e("div",{class:"text-sm text-muted-foreground mb-2"},"工作日天数",-1)),e("div",$t,r(d.value.workdays)+"天",1),e("div",Lt," (总共"+r(d.value.totalDays)+"天，其中周末"+r(d.value.weekends)+"天) ",1)]),e("div",Ut,[e("div",Mt,[t[16]||(t[16]=e("div",{class:"text-sm text-muted-foreground mb-1"},"总天数",-1)),e("div",Rt,r(d.value.totalDays)+"天",1)]),e("div",Wt,[t[17]||(t[17]=e("div",{class:"text-sm text-muted-foreground mb-1"},"工作日",-1)),e("div",jt,r(d.value.workdays)+"天",1)]),e("div",Ht,[t[18]||(t[18]=e("div",{class:"text-sm text-muted-foreground mb-1"},"周末",-1)),e("div",Ft,r(d.value.weekends)+"天",1)]),e("div",Bt,[t[19]||(t[19]=e("div",{class:"text-sm text-muted-foreground mb-1"},"节假日",-1)),e("div",Et,r(d.value.holidays)+"天",1)])]),e("div",null,[t[20]||(t[20]=e("h3",{class:"text-sm font-medium mb-3"},"每周统计",-1)),e("div",Yt,[(c(!0),m(_,null,S(d.value.weeklyStats,(s,l)=>(c(),m("div",{key:l,class:"flex justify-between items-center p-2 hover:bg-muted/50 rounded transition-colors"},[e("span",qt,"第"+r(s.number)+"周",1),e("div",zt,[e("span",Jt,r(s.dateRange),1),e("span",At,r(s.workdays)+"个工作日",1)])]))),128))])])])])):V("",!0),b.value.length>0?(c(),m("div",Pt,[t[23]||(t[23]=e("h2",{class:"text-lg font-semibold mb-4"},"节假日列表",-1)),e("div",Xt,[(c(!0),m(_,null,S(b.value,s=>(c(),m("div",{key:s.date,class:"flex justify-between items-center p-2 hover:bg-muted/50 rounded transition-colors"},[e("div",null,[e("div",Gt,r(s.name),1),e("div",Kt,r(s.date),1)]),t[22]||(t[22]=e("span",{class:"text-sm px-2 py-1 bg-destructive/10 text-destructive rounded"}," 节假日 ",-1))]))),128))])])):V("",!0),d.value?(c(),m("div",Qt,[t[26]||(t[26]=e("h2",{class:"text-lg font-semibold mb-4"},"导出数据",-1)),e("div",Zt,[e("button",{onClick:z,class:"px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90 transition-colors flex items-center justify-center gap-2"},[u(f(ot),{class:"w-4 h-4"}),t[24]||(t[24]=N(" 导出 CSV ",-1))]),e("button",{onClick:J,class:"px-4 py-2 border border-primary text-primary rounded-md hover:bg-primary/5 transition-colors flex items-center justify-center gap-2"},[u(f(it),{class:"w-4 h-4"}),t[25]||(t[25]=N(" 导出 JSON ",-1))])])])):V("",!0)])]),e("div",te,[e("div",ee,[e("h3",se,[u(f(at),{class:"w-5 h-5 text-primary"}),t[27]||(t[27]=N(" 关于工作日计算 ",-1))]),t[28]||(t[28]=tt('<div class="space-y-4 text-sm text-muted-foreground"><div><h4 class="font-medium text-foreground mb-2">计算规则</h4><ul class="list-disc list-inside space-y-1 ml-4"><li>默认工作日为周一至周五，周末为周六和周日</li><li>可以自定义哪些日期为工作日</li><li>支持添加自定义节假日，这些日期将从工作日中排除</li><li>计算包含开始日期和结束日期</li></ul></div><div><h4 class="font-medium text-foreground mb-2">常见应用</h4><ul class="list-disc list-inside space-y-1 ml-4"><li>项目工期计算，排除周末和节假日</li><li>计算请假天数和工作日</li><li>确定交货日期和工作进度</li><li>薪资结算周期计算</li></ul></div></div>',1))]),e("div",oe,[t[32]||(t[32]=e("h3",{class:"text-lg font-semibold mb-4"},"相关工具",-1)),e("div",ne,[u(n,{to:"/tools/date-diff",class:"flex items-center gap-3 p-3 bg-muted rounded-lg hover:bg-muted/80 transition-colors group"},{default:$(()=>[u(f(lt),{class:"w-5 h-5 text-primary"}),t[29]||(t[29]=e("div",null,[e("p",{class:"font-medium group-hover:text-primary"},"日期差计算"),e("p",{class:"text-xs text-muted-foreground"},"计算两个日期的时间差")],-1)),u(f(L),{class:"w-4 h-4 ml-auto text-muted-foreground group-hover:text-primary"})]),_:1}),u(n,{to:"/tools/countdown-timer",class:"flex items-center gap-3 p-3 bg-muted rounded-lg hover:bg-muted/80 transition-colors group"},{default:$(()=>[u(f(dt),{class:"w-5 h-5 text-primary"}),t[30]||(t[30]=e("div",null,[e("p",{class:"font-medium group-hover:text-primary"},"倒计时器"),e("p",{class:"text-xs text-muted-foreground"},"设置倒计时")],-1)),u(f(L),{class:"w-4 h-4 ml-auto text-muted-foreground group-hover:text-primary"})]),_:1}),u(n,{to:"/tools/cron-parser",class:"flex items-center gap-3 p-3 bg-muted rounded-lg hover:bg-muted/80 transition-colors group"},{default:$(()=>[u(f(rt),{class:"w-5 h-5 text-primary"}),t[31]||(t[31]=e("div",null,[e("p",{class:"font-medium group-hover:text-primary"},"Cron 解析器"),e("p",{class:"text-xs text-muted-foreground"},"解析定时任务表达式")],-1)),u(f(L),{class:"w-4 h-4 ml-auto text-muted-foreground group-hover:text-primary"})]),_:1})])])])])}}};export{xe as default};
