<!doctype html><html lang=zh-cn dir=auto data-theme=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Flutteré«˜çº§åŠ¨ç”»å®Œå…¨æŒ‡å—ï¼šæ‰“é€ ç”µå½±çº§æµç•…ä½“éªŒçš„ç»ˆæç§˜ç± | æŠ€æœ¯åšå®¢ - æœ‰æ¡å·¥å…·</title><meta name=keywords content="Flutter,åŠ¨ç”»,AnimationController,Complex animations,UIåŠ¨ç”»,åŠ¨ç”»æ€§èƒ½"><meta name=description content="æœ¬æ–‡å…¨é¢ä»‹ç»FlutteråŠ¨ç”»çš„é«˜çº§æŠ€å·§ï¼ŒåŒ…æ‹¬å¤æ‚åŠ¨ç”»ç¼–æ’ã€æ€§èƒ½ä¼˜åŒ–ã€ç‰©ç†åŠ¨ç”»ã€æ‰‹åŠ¿é©±åŠ¨ç­‰æ ¸å¿ƒæŠ€æœ¯ã€‚"><meta name=author content="Util Tech Team"><link rel=canonical href=/blog/articles/flutter-advanced-animations/><link crossorigin=anonymous href=/blog/assets/css/stylesheet.7e8505b7cdf8bb22ab2305e53c2700bb06c7e64faeb72cd3468823a9a3bd3d6e.css integrity="sha256-foUFt834uyKrIwXlPCcAuwbH5k+utyzTRogjqaO9PW4=" rel="preload stylesheet" as=style><link rel=icon href=/favicon.ico><link rel=icon type=image/png sizes=16x16 href=/blog/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=/blog/favicon-32x32.png><link rel=apple-touch-icon href=/blog/apple-touch-icon.png><link rel=mask-icon href=/blog/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=/blog/articles/flutter-advanced-animations/feed.xml title=rss><link rel=alternate hreflang=zh-cn href=/blog/articles/flutter-advanced-animations/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51);color-scheme:dark}.list{background:var(--theme)}.toc{background:var(--entry)}}@media(prefers-color-scheme:light){.list::-webkit-scrollbar-thumb{border-color:var(--code-bg)}}</style></noscript><script>localStorage.getItem("pref-theme")==="dark"?document.querySelector("html").dataset.theme="dark":localStorage.getItem("pref-theme")==="light"?document.querySelector("html").dataset.theme="light":window.matchMedia("(prefers-color-scheme: dark)").matches?document.querySelector("html").dataset.theme="dark":document.querySelector("html").dataset.theme="light"</script><script src=/js/external-link-config.js></script><script src=/js/external-link-interceptor.js></script><link rel=stylesheet href=/blog/css/custom.css media=screen><script type=application/ld+json>{"@context":"https://schema.org","@type":"WebSite","name":"æŠ€æœ¯åšå®¢ - æœ‰æ¡å·¥å…· | å¼€å‘è€…å·¥å…·ä½¿ç”¨æ•™ç¨‹ & ç¼–ç¨‹æŠ€å·§åˆ†äº«","url":"https://www.util.cn/blog/","description":"æœ‰æ¡å·¥å…·æŠ€æœ¯åšå®¢ - åˆ†äº«å¼€å‘è€…å·¥å…·ä½¿ç”¨æ•™ç¨‹ã€ç¼–ç¨‹æŠ€å·§å’Œå®æˆ˜å¼€å‘ç»éªŒã€‚æä¾›JSONæ ¼å¼åŒ–ã€SQLä¼˜åŒ–ã€Markdownç¼–è¾‘å™¨ç­‰åœ¨çº¿å·¥å…·çš„è¯¦ç»†ä½¿ç”¨æŒ‡å—ï¼Œå¸®åŠ©å¼€å‘è€…æå‡å·¥ä½œæ•ˆç‡ã€‚","publisher":{"@type":"Organization","name":"æœ‰æ¡å·¥å…·","url":"https://www.util.cn","logo":{"@type":"ImageObject","url":"https://www.util.cn/blog/logo/logo-256.png","width":256,"height":256}},"potentialAction":[{"@type":"SearchAction","target":"https://www.util.cn/blog/search?q={search_term_string}","query-input":"required name=search_term_string"}]}</script><meta property="og:type" content="website"><meta property="og:title" content="æŠ€æœ¯åšå®¢ - æœ‰æ¡å·¥å…· | å¼€å‘è€…å·¥å…·ä½¿ç”¨æ•™ç¨‹ & ç¼–ç¨‹æŠ€å·§åˆ†äº«"><meta property="og:description" content="æœ‰æ¡å·¥å…·æŠ€æœ¯åšå®¢ - åˆ†äº«å¼€å‘è€…å·¥å…·ä½¿ç”¨æ•™ç¨‹ã€ç¼–ç¨‹æŠ€å·§å’Œå®æˆ˜å¼€å‘ç»éªŒã€‚æä¾›JSONæ ¼å¼åŒ–ã€SQLä¼˜åŒ–ã€Markdownç¼–è¾‘å™¨ç­‰åœ¨çº¿å·¥å…·çš„è¯¦ç»†ä½¿ç”¨æŒ‡å—ï¼Œå¸®åŠ©å¼€å‘è€…æå‡å·¥ä½œæ•ˆç‡ã€‚"><meta property="og:url" content="https://www.util.cn/blog/"><meta property="og:site_name" content="æœ‰æ¡å·¥å…·æŠ€æœ¯åšå®¢"><meta property="og:image" content="https://www.util.cn/blog/logo/logo-256.png"><meta property="og:image:width" content="1200"><meta property="og:image:height" content="630"><meta name=twitter:card content="summary_large_image"><meta name=twitter:title content="æŠ€æœ¯åšå®¢ - æœ‰æ¡å·¥å…· | å¼€å‘è€…å·¥å…·ä½¿ç”¨æ•™ç¨‹ & ç¼–ç¨‹æŠ€å·§åˆ†äº«"><meta name=twitter:description content="æœ‰æ¡å·¥å…·æŠ€æœ¯åšå®¢ - åˆ†äº«å¼€å‘è€…å·¥å…·ä½¿ç”¨æ•™ç¨‹ã€ç¼–ç¨‹æŠ€å·§å’Œå®æˆ˜å¼€å‘ç»éªŒã€‚"><meta name=twitter:image content="https://www.util.cn/blog/logo/logo-256.png"><meta name=baidu-site-verification content><meta name=category content="æŠ€æœ¯åšå®¢,å¼€å‘è€…å·¥å…·,ç¼–ç¨‹æ•™ç¨‹"><meta name=coverage content="Worldwide"><meta name=distribution content="Global"><meta name=rating content="General"><script id=51la_code async crossorigin=anonymous src="https://sdk.51.la/js-sdk-pro.min.js?id=3OM52V0xJAPv6ozF&hash=pro"></script><script>window.addEventListener("load",function(){setTimeout(function(){typeof la!="undefined"?console.log("51laç»Ÿè®¡å·²åŠ è½½"):(console.warn("51laç»Ÿè®¡åŠ è½½å¤±è´¥ï¼Œä½¿ç”¨å¤‡ç”¨æ–¹æ¡ˆ"),function(){var e=document.createElement("script");e.src="https://sdk.51.la/js-sdk-pro.min.js?id=3OM52V0xJAPv6ozF&hash=backup",e.async=!0,document.head.appendChild(e)}())},3e3)})</script><meta property="og:url" content="/blog/articles/flutter-advanced-animations/"><meta property="og:site_name" content="æŠ€æœ¯åšå®¢ - æœ‰æ¡å·¥å…·"><meta property="og:title" content="Flutteré«˜çº§åŠ¨ç”»å®Œå…¨æŒ‡å—ï¼šæ‰“é€ ç”µå½±çº§æµç•…ä½“éªŒçš„ç»ˆæç§˜ç±"><meta property="og:description" content="æœ¬æ–‡å…¨é¢ä»‹ç»FlutteråŠ¨ç”»çš„é«˜çº§æŠ€å·§ï¼ŒåŒ…æ‹¬å¤æ‚åŠ¨ç”»ç¼–æ’ã€æ€§èƒ½ä¼˜åŒ–ã€ç‰©ç†åŠ¨ç”»ã€æ‰‹åŠ¿é©±åŠ¨ç­‰æ ¸å¿ƒæŠ€æœ¯ã€‚"><meta property="og:locale" content="zh-cn"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2025-12-20T15:00:00+08:00"><meta property="article:modified_time" content="2025-12-20T15:00:00+08:00"><meta property="article:tag" content="Flutter"><meta property="article:tag" content="åŠ¨ç”»"><meta property="article:tag" content="UIè®¾è®¡"><meta property="article:tag" content="ç§»åŠ¨å¼€å‘"><meta property="article:tag" content="ç”¨æˆ·ä½“éªŒ"><meta name=twitter:card content="summary"><meta name=twitter:title content="Flutteré«˜çº§åŠ¨ç”»å®Œå…¨æŒ‡å—ï¼šæ‰“é€ ç”µå½±çº§æµç•…ä½“éªŒçš„ç»ˆæç§˜ç±"><meta name=twitter:description content="æœ¬æ–‡å…¨é¢ä»‹ç»FlutteråŠ¨ç”»çš„é«˜çº§æŠ€å·§ï¼ŒåŒ…æ‹¬å¤æ‚åŠ¨ç”»ç¼–æ’ã€æ€§èƒ½ä¼˜åŒ–ã€ç‰©ç†åŠ¨ç”»ã€æ‰‹åŠ¿é©±åŠ¨ç­‰æ ¸å¿ƒæŠ€æœ¯ã€‚"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"æ‰€æœ‰æ–‡ç« ","item":"/blog/posts/"},{"@type":"ListItem","position":2,"name":"Flutteré«˜çº§åŠ¨ç”»å®Œå…¨æŒ‡å—ï¼šæ‰“é€ ç”µå½±çº§æµç•…ä½“éªŒçš„ç»ˆæç§˜ç±","item":"/blog/articles/flutter-advanced-animations/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Flutteré«˜çº§åŠ¨ç”»å®Œå…¨æŒ‡å—ï¼šæ‰“é€ ç”µå½±çº§æµç•…ä½“éªŒçš„ç»ˆæç§˜ç±","name":"Flutteré«˜çº§åŠ¨ç”»å®Œå…¨æŒ‡å—ï¼šæ‰“é€ ç”µå½±çº§æµç•…ä½“éªŒçš„ç»ˆæç§˜ç±","description":"æœ¬æ–‡å…¨é¢ä»‹ç»FlutteråŠ¨ç”»çš„é«˜çº§æŠ€å·§ï¼ŒåŒ…æ‹¬å¤æ‚åŠ¨ç”»ç¼–æ’ã€æ€§èƒ½ä¼˜åŒ–ã€ç‰©ç†åŠ¨ç”»ã€æ‰‹åŠ¿é©±åŠ¨ç­‰æ ¸å¿ƒæŠ€æœ¯ã€‚","keywords":["Flutter","åŠ¨ç”»","AnimationController","Complex animations","UIåŠ¨ç”»","åŠ¨ç”»æ€§èƒ½"],"articleBody":"å¼•è¨€ Flutterå‡­å€Ÿå…¶å¼ºå¤§çš„åŠ¨ç”»ç³»ç»Ÿï¼Œè®©å¼€å‘è€…èƒ½å¤Ÿåˆ›é€ å‡ºåª²ç¾åŸç”Ÿåº”ç”¨çš„æµç•…åŠ¨ç”»æ•ˆæœã€‚ä»ç®€å•çš„è¿‡æ¸¡åŠ¨ç”»åˆ°å¤æ‚çš„ç²’å­ç³»ç»Ÿï¼ŒFlutteræä¾›äº†ä¸°å¯Œè€Œçµæ´»çš„åŠ¨ç”»APIã€‚æœ¬æ–‡å°†æ·±å…¥æ¢è®¨FlutteråŠ¨ç”»çš„é«˜çº§æŠ€å·§ï¼Œå¸®åŠ©ä½ æ‰“é€ ç”µå½±çº§çš„ç”¨æˆ·ä½“éªŒã€‚\nFlutteråŠ¨ç”»ç³»ç»Ÿæ¶æ„ åŠ¨ç”»æ ¸å¿ƒæ¦‚å¿µ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 // FlutteråŠ¨ç”»ç³»ç»Ÿæ¶æ„ /* AnimationController â†’ Animation â†’ Tween â†’ Widget â†“ â†“ â†“ â†“ æ§åˆ¶æ—¶é—´çº¿ æ•°å€¼å˜åŒ– æ’å€¼è®¡ç®— è§†è§‰æ›´æ–° */ // åŸºç¡€åŠ¨ç”»æ§åˆ¶å™¨ import 'package:flutter/material.dart'; class BasicAnimationDemo extends StatefulWidget { @override _BasicAnimationDemoState createState() =\u003e _BasicAnimationDemoState(); } class _BasicAnimationDemoState extends State\u003cBasicAnimationDemo\u003e with SingleTickerProviderStateMixin { late AnimationController _controller; late Animation\u003cdouble\u003e _animation; late Animation\u003cColor?\u003e _colorAnimation; late Animation\u003cSize?\u003e _sizeAnimation; @override void initState() { super.initState(); // åˆ›å»ºåŠ¨ç”»æ§åˆ¶å™¨ _controller = AnimationController( duration: const Duration(seconds: 2), vsync: this, ); // åˆ›å»ºè¡¥é—´åŠ¨ç”» _animation = Tween\u003cdouble\u003e( begin: 0.0, end: 1.0, ).animate(CurvedAnimation( parent: _controller, curve: Curves.easeInOut, )); // é¢œè‰²åŠ¨ç”» _colorAnimation = ColorTween( begin: Colors.blue, end: Colors.red, ).animate(_controller); // å°ºå¯¸åŠ¨ç”» _sizeAnimation = SizeTween( begin: const Size(100, 100), end: const Size(200, 200), ).animate(_controller); // ç›‘å¬åŠ¨ç”»çŠ¶æ€ _controller.addStatusListener((status) { print('Animation status: $status'); }); // ç›‘å¬åŠ¨ç”»å€¼å˜åŒ– _controller.addListener(() { print('Animation value: ${_animation.value}'); }); } @override void dispose() { _controller.dispose(); super.dispose(); } @override Widget build(BuildContext context) { return Scaffold( appBar: AppBar(title: const Text('Basic Animation')), body: Center( child: AnimatedBuilder( animation: _controller, builder: (context, child) { return Container( width: _sizeAnimation.value?.width, height: _sizeAnimation.value?.height, decoration: BoxDecoration( color: _colorAnimation.value, borderRadius: BorderRadius.circular( _animation.value * 20, ), ), child: Center( child: Text( '${(_animation.value * 100).toInt()}%', style: TextStyle( color: Colors.white, fontSize: 20 + _animation.value * 10, ), ), ), ); }, ), ), floatingActionButton: FloatingActionButton( onPressed: () { if (_controller.isCompleted) { _controller.reverse(); } else { _controller.forward(); } }, child: const Icon(Icons.play_arrow), ), ); } } é«˜çº§æ›²çº¿åŠ¨ç”» 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 162 163 164 165 166 167 168 169 170 171 172 173 174 175 176 177 178 179 180 181 182 183 184 185 186 187 188 189 190 191 192 193 194 195 196 197 198 199 200 // è‡ªå®šä¹‰åŠ¨ç”»æ›²çº¿ class CustomCurves { // å¼¹æ€§æ›²çº¿ static const Curve elasticCurve = ElasticOutCurve(0.8); // è‡ªå®šä¹‰è´å¡å°”æ›²çº¿ static const Curve customBezier = Cubic(0.25, 0.1, 0.25, 1.0); // å¼¹è·³æ›²çº¿ static const Curve bounceCurve = BounceInOutCurve(); // å‘¼å¸æ•ˆæœæ›²çº¿ static Curve breathingCurve = _BreathingCurve(); } class _BreathingCurve extends Curve { @override double transform(double t) { // ä½¿ç”¨æ­£å¼¦å‡½æ•°åˆ›å»ºå‘¼å¸æ•ˆæœ return (1 - math.cos(t * 2 * math.pi)) / 2; } } // å¤æ‚åŠ¨ç”»ç»„åˆ class ComplexAnimationDemo extends StatefulWidget { @override _ComplexAnimationDemoState createState() =\u003e _ComplexAnimationDemoState(); } class _ComplexAnimationDemoState extends State\u003cComplexAnimationDemo\u003e with TickerProviderStateMixin { late AnimationController _mainController; late AnimationController _secondaryController; late Animation\u003cdouble\u003e _rotationAnimation; late Animation\u003cdouble\u003e _scaleAnimation; late Animation\u003cdouble\u003e _opacityAnimation; late Animation\u003cOffset\u003e _slideAnimation; late Animation\u003cColor?\u003e _gradientAnimation; @override void initState() { super.initState(); // ä¸»æ§åˆ¶å™¨ _mainController = AnimationController( duration: const Duration(seconds: 3), vsync: this, ); // æ¬¡çº§æ§åˆ¶å™¨ _secondaryController = AnimationController( duration: const Duration(milliseconds: 1500), vsync: this, ); // æ—‹è½¬åŠ¨ç”» _rotationAnimation = Tween\u003cdouble\u003e( begin: 0, end: 2 * math.pi, ).animate(CurvedAnimation( parent: _mainController, curve: CustomCurves.elasticCurve, )); // ç¼©æ”¾åŠ¨ç”» _scaleAnimation = Tween\u003cdouble\u003e( begin: 0.8, end: 1.2, ).animate(CurvedAnimation( parent: _secondaryController, curve: CustomCurves.bounceCurve, )); // é€æ˜åº¦åŠ¨ç”» _opacityAnimation = Tween\u003cdouble\u003e( begin: 0.3, end: 1.0, ).animate(CurvedAnimation( parent: _mainController, curve: const Interval(0.2, 0.8, curve: Curves.easeInOut), )); // æ»‘åŠ¨åŠ¨ç”» _slideAnimation = Tween\u003cOffset\u003e( begin: const Offset(-1, 0), end: const Offset(1, 0), ).animate(CurvedAnimation( parent: _secondaryController, curve: CustomCurves.customBezier, )); // æ¸å˜è‰²åŠ¨ç”» _gradientAnimation = RainbowColorTween( begin: Colors.purple, end: Colors.orange, ).animate(_mainController); // å¯åŠ¨æ¬¡çº§åŠ¨ç”»å»¶è¿Ÿ _secondaryController.repeat(reverse: true); } @override void dispose() { _mainController.dispose(); _secondaryController.dispose(); super.dispose(); } @override Widget build(BuildContext context) { return Scaffold( body: Container( decoration: BoxDecoration( gradient: LinearGradient( colors: [ _gradientAnimation.value ?? Colors.blue, (_gradientAnimation.value ?? Colors.blue).withOpacity(0.8), ], begin: Alignment.topLeft, end: Alignment.bottomRight, ), ), child: Center( child: AnimatedBuilder( animation: Listenable.merge([ _mainController, _secondaryController, ]), builder: (context, child) { return Transform.rotate( angle: _rotationAnimation.value, child: Transform.scale( scale: _scaleAnimation.value, child: SlideTransition( position: _slideAnimation, child: Opacity( opacity: _opacityAnimation.value, child: Container( width: 200, height: 200, decoration: BoxDecoration( color: Colors.white.withOpacity(0.9), borderRadius: BorderRadius.circular(20), boxShadow: [ BoxShadow( color: Colors.black.withOpacity(0.3), blurRadius: 20, offset: const Offset(0, 10), ), ], ), child: const Center( child: Text( 'Complex\\nAnimation', textAlign: TextAlign.center, style: TextStyle( fontSize: 24, fontWeight: FontWeight.bold, color: Colors.black87, ), ), ), ), ), ), ), ); }, ), ), ), floatingActionButton: Row( mainAxisAlignment: MainAxisAlignment.end, children: [ FloatingActionButton( onPressed: () =\u003e _mainController.forward(), child: const Icon(Icons.play_arrow), ), const SizedBox(width: 10), FloatingActionButton( onPressed: () =\u003e _mainController.reverse(), child: const Icon(Icons.arrow_back), ), const SizedBox(width: 10), FloatingActionButton( onPressed: () { if (_mainController.isAnimating) { _mainController.stop(); } else { _mainController.repeat(reverse: true); } }, child: const Icon(Icons.repeat), ), ], ), ); } } ç‰©ç†æ¨¡æ‹ŸåŠ¨ç”» å¼¹ç°§åŠ¨ç”» 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 162 163 164 165 166 167 168 169 170 171 172 173 174 175 176 // è‡ªå®šä¹‰å¼¹ç°§ç‰©ç†åŠ¨ç”» class SpringAnimation extends StatefulWidget { const SpringAnimation({Key? key}) : super(key: key); @override _SpringAnimationState createState() =\u003e _SpringAnimationState(); } class _SpringAnimationState extends State\u003cSpringAnimation\u003e with TickerProviderStateMixin { late AnimationController _controller; late Animation\u003cdouble\u003e _springAnimation; double _targetPosition = 0; double _currentPosition = 0; @override void initState() { super.initState(); _controller = AnimationController( duration: const Duration(milliseconds: 1000), vsync: this, ); // ä½¿ç”¨SpringSimulation _springAnimation = _controller.drive( SpringSimulation( const SpringDescription( mass: 1, stiffness: 100, damping: 10, ), 0, 1, 0, ), ); } void _animateTo(double target) { _targetPosition = target; // æ›´æ–°å¼¹ç°§æ¨¡æ‹Ÿ final simulation = SpringSimulation( const SpringDescription( mass: 1, stiffness: 200, damping: 15, ), _currentPosition, _targetPosition, 0, ); _controller.animateWith(simulation); } @override Widget build(BuildContext context) { return Scaffold( appBar: AppBar(title: const Text('Spring Animation')), body: GestureDetector( onPanUpdate: (details) { setState(() { _currentPosition = details.localPosition.dy; }); }, onPanEnd: (details) { _animateTo(_currentPosition); }, child: AnimatedBuilder( animation: _springAnimation, builder: (context, child) { return Stack( children: [ // ç›®æ ‡ä½ç½®æŒ‡ç¤ºå™¨ Positioned( top: 200, left: 0, right: 0, child: Container( height: 2, color: Colors.grey.withOpacity(0.5), ), ), // å¼¹ç°§å°çƒ Positioned( top: 200 + _springAnimation.value * 200, left: 0, right: 0, child: Center( child: Container( width: 60, height: 60, decoration: BoxDecoration( color: Colors.blue, shape: BoxShape.circle, boxShadow: [ BoxShadow( color: Colors.blue.withOpacity(0.3), blurRadius: 20, spreadRadius: 5, ), ], ), ), ), ), // å¼¹ç°§è¿çº¿ CustomPaint( size: Size.infinite, painter: SpringPainter( startY: 200, endY: 200 + _springAnimation.value * 200, coils: 10, ), ), ], ); }, ), ), ); } } // å¼¹ç°§ç»˜åˆ¶å™¨ class SpringPainter extends CustomPainter { final double startY; final double endY; final int coils; SpringPainter({ required this.startY, required this.endY, this.coils = 10, }); @override void paint(Canvas canvas, Size size) { final paint = Paint() ..color = Colors.grey ..strokeWidth = 2; final path = Path(); final width = size.width / 2; path.moveTo(width, startY); final coilHeight = (endY - startY) / coils; for (int i = 0; i \u003c= coils; i++) { final y = startY + (i * coilHeight); final x = width + (i % 2 == 0 ? -30 : 30); if (i == 0) { path.lineTo(x, y); } else { path.quadraticBezierTo( x - (i % 2 == 0 ? -30 : 30), y - coilHeight / 2, x, y, ); } } canvas.drawPath(path, paint); } @override bool shouldRepaint(covariant CustomPainter oldDelegate) { return true; } } é‡åŠ›å’Œç¢°æ’åŠ¨ç”» 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 162 163 164 165 166 167 168 169 170 171 172 173 174 175 176 177 178 179 180 181 182 183 184 185 186 187 188 189 190 191 192 193 194 195 196 197 198 199 200 201 202 203 204 205 206 207 208 209 210 211 212 213 214 215 216 217 218 219 220 221 222 223 224 225 226 227 228 229 230 231 232 233 234 235 236 237 238 239 240 241 242 243 244 245 246 247 248 // ç‰©ç†å¼•æ“åŠ¨ç”» class PhysicsEngineDemo extends StatefulWidget { const PhysicsEngineDemo({Key? key}) : super(key: key); @override _PhysicsEngineDemoState createState() =\u003e _PhysicsEngineDemoState(); } class _PhysicsEngineDemoState extends State\u003cPhysicsEngineDemo\u003e with TickerProviderStateMixin { late AnimationController _physicsController; final List\u003cParticle\u003e _particles = []; late double _gravity = 980; // åƒç´ /ç§’Â² late double _restitution = 0.8; // å¼¹æ€§ç³»æ•° @override void initState() { super.initState(); _physicsController = AnimationController( duration: const Duration(hours: 1), // å¾ˆé•¿çš„æŒç»­æ—¶é—´ vsync: this, ); // åˆå§‹åŒ–ç²’å­ _initializeParticles(); // å¼€å§‹ç‰©ç†æ¨¡æ‹Ÿ _startPhysicsSimulation(); } void _initializeParticles() { final random = math.Random(); for (int i = 0; i \u003c 20; i++) { _particles.add(Particle( position: Offset( random.nextDouble() * 300 + 50, random.nextDouble() * 100, ), velocity: Offset( (random.nextDouble() - 0.5) * 200, random.nextDouble() * -100, ), radius: random.nextDouble() * 20 + 10, color: Colors.primaries[random.nextInt(Colors.primaries.length)], )); } } void _startPhysicsSimulation() { _physicsController.addListener(_updatePhysics); _physicsController.repeat(); } void _updatePhysics() { final deltaTime = 0.016; // å‡è®¾60FPS for (final particle in _particles) { // åº”ç”¨é‡åŠ› particle.velocity += Offset(0, _gravity * deltaTime); // æ›´æ–°ä½ç½® particle.position += particle.velocity * deltaTime; // è¾¹ç•Œç¢°æ’æ£€æµ‹ _handleBoundaryCollision(particle); } // ç²’å­é—´ç¢°æ’æ£€æµ‹ _handleParticleCollisions(); setState(() {}); } void _handleBoundaryCollision(Particle particle) { final size = MediaQuery.of(context).size; final radius = particle.radius; // åº•éƒ¨ç¢°æ’ if (particle.position.dy + radius \u003e size.height - 100) { particle.position.dy = size.height - 100 - radius; particle.velocity = Offset( particle.velocity.dx, -particle.velocity.dy * _restitution, ); } // å·¦å³è¾¹ç•Œç¢°æ’ if (particle.position.dx - radius \u003c 0) { particle.position.dx = radius; particle.velocity = Offset( -particle.velocity.dx * _restitution, particle.velocity.dy, ); } if (particle.position.dx + radius \u003e size.width) { particle.position.dx = size.width - radius; particle.velocity = Offset( -particle.velocity.dx * _restitution, particle.velocity.dy, ); } } void _handleParticleCollisions() { for (int i = 0; i \u003c _particles.length; i++) { for (int j = i + 1; j \u003c _particles.length; j++) { final p1 = _particles[i]; final p2 = _particles[j]; final distance = (p1.position - p2.position).distance; final minDistance = p1.radius + p2.radius; if (distance \u003c minDistance) { // ç¢°æ’å‘ç”Ÿ _resolveCollision(p1, p2, distance, minDistance); } } } } void _resolveCollision(Particle p1, Particle p2, double distance, double minDistance) { // è®¡ç®—ç¢°æ’æ³•çº¿ final normal = (p2.position - p1.position) / distance; // åˆ†ç¦»é‡å çš„ç²’å­ final overlap = minDistance - distance; final separation = normal * (overlap / 2); p1.position -= separation; p2.position += separation; // è®¡ç®—ç›¸å¯¹é€Ÿåº¦ final relativeVelocity = p1.velocity - p2.velocity; final velocityAlongNormal = relativeVelocity.dx * normal.dx + relativeVelocity.dy * normal.dy; // å¦‚æœç²’å­æ­£åœ¨åˆ†ç¦»ï¼Œä¸éœ€è¦å¤„ç† if (velocityAlongNormal \u003e 0) return; // è®¡ç®—ç¢°æ’åçš„é€Ÿåº¦ final restitution = _restitution; final impulse = 2 * velocityAlongNormal / 2; // å‡è®¾è´¨é‡ç›¸ç­‰ final impulseVector = normal * impulse * restitution; p1.velocity -= impulseVector; p2.velocity += impulseVector; } void _addExplosion(Offset center) { for (final particle in _particles) { final direction = particle.position - center; final distance = direction.distance; if (distance \u003e 0) { final force = 50000 / distance; // çˆ†ç‚¸åŠ›éšè·ç¦»è¡°å‡ final normalizedDirection = direction / distance; particle.velocity += normalizedDirection * force; } } } @override Widget build(BuildContext context) { return Scaffold( appBar: AppBar(title: const Text('Physics Engine')), body: GestureDetector( onTapUp: (details) { _addExplosion(details.localPosition); }, child: Container( width: double.infinity, height: double.infinity, decoration: BoxDecoration( gradient: LinearGradient( begin: Alignment.topCenter, end: Alignment.bottomCenter, colors: [ Colors.blue.shade100, Colors.purple.shade100, ], ), ), child: Stack( children: _particles.map((particle) { return Positioned( left: particle.position.dx - particle.radius, top: particle.position.dy - particle.radius, child: Container( width: particle.radius * 2, height: particle.radius * 2, decoration: BoxDecoration( color: particle.color, shape: BoxShape.circle, boxShadow: [ BoxShadow( color: particle.color.withOpacity(0.5), blurRadius: particle.radius / 2, spreadRadius: particle.radius / 4, ), ], ), ), ); }).toList(), ), ), ), floatingActionButton: Column( mainAxisSize: MainAxisSize.min, children: [ FloatingActionButton( onPressed: () { setState(() { _particles.clear(); _initializeParticles(); }); }, child: const Icon(Icons.refresh), ), const SizedBox(height: 10), FloatingActionButton( onPressed: () { _gravity = _gravity == 980 ? 1960 : 980; }, child: const Icon(Icons.arrow_downward), ), ], ), ); } } // ç²’å­ç±» class Particle { Offset position; Offset velocity; double radius; Color color; Particle({ required this.position, required this.velocity, required this.radius, required this.color, }); } é«˜çº§åŠ¨ç”»æ•ˆæœ ç²’å­ç³»ç»Ÿ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 162 163 164 165 166 167 168 169 170 171 172 173 174 175 176 177 178 179 180 181 182 183 184 185 186 187 188 189 190 191 192 193 194 195 196 197 198 // é«˜æ€§èƒ½ç²’å­ç³»ç»Ÿ class ParticleSystem extends StatefulWidget { final ParticleConfig config; const ParticleSystem({ Key? key, required this.config, }) : super(key: key); @override _ParticleSystemState createState() =\u003e _ParticleSystemState(); } class _ParticleSystemState extends State\u003cParticleSystem\u003e with TickerProviderStateMixin { late AnimationController _controller; final List\u003cParticle2\u003e _particles = []; final Random _random = Random(); @override void initState() { super.initState(); _controller = AnimationController( duration: const Duration(seconds: 10), vsync: this, ); _initializeParticles(); _controller.repeat(); } void _initializeParticles() { for (int i = 0; i \u003c widget.config.particleCount; i++) { _particles.add(Particle2( position: widget.config.emitterPosition, velocity: _generateInitialVelocity(), acceleration: widget.config.acceleration, life: _random.nextDouble() * widget.config.lifeSpan + widget.config.lifeSpan / 2, maxLife: widget.config.lifeSpan, size: _random.nextDouble() * widget.config.sizeVariation + widget.config.baseSize, color: widget.config.colors[_random.nextInt(widget.config.colors.length)], fadeOut: widget.config.fadeOut, )); } } Offset _generateInitialVelocity() { final angle = _random.nextDouble() * 2 * math.pi; final speed = _random.nextDouble() * widget.config.speedVariation + widget.config.baseSpeed; return Offset( math.cos(angle) * speed, math.sin(angle) * speed, ); } @override void dispose() { _controller.dispose(); super.dispose(); } @override Widget build(BuildContext context) { return CustomPaint( painter: ParticlePainter( particles: _particles, controller: _controller, ), child: Container(), ); } } // ç²’å­é…ç½®ç±» class ParticleConfig { final Offset emitterPosition; final int particleCount; final double baseSpeed; final double speedVariation; final double baseSize; final double sizeVariation; final double lifeSpan; final List\u003cColor\u003e colors; final bool fadeOut; final Offset acceleration; ParticleConfig({ required this.emitterPosition, this.particleCount = 100, this.baseSpeed = 100, this.speedVariation = 50, this.baseSize = 5, this.sizeVariation = 3, this.lifeSpan = 3, this.colors = const [Colors.white, Colors.yellow, Colors.orange], this.fadeOut = true, this.acceleration = const Offset(0, 50), }); } // ç²’å­ç±» class Particle2 { Offset position; Offset velocity; Offset acceleration; double life; final double maxLife; final double size; final Color color; final bool fadeOut; Particle2({ required this.position, required this.velocity, this.acceleration = const Offset(0, 50), required this.life, required this.maxLife, required this.size, required this.color, this.fadeOut = true, }); void update(double deltaTime) { // æ›´æ–°é€Ÿåº¦ velocity += acceleration * deltaTime; // æ›´æ–°ä½ç½® position += velocity * deltaTime; // æ›´æ–°ç”Ÿå‘½å€¼ life -= deltaTime; } Paint getPaint() { final paint = Paint() ..color = color; if (fadeOut) { paint.color = color.withOpacity(life / maxLife); } return paint; } } // ç²’å­ç»˜åˆ¶å™¨ class ParticlePainter extends CustomPainter { final List\u003cParticle2\u003e particles; final AnimationController controller; ParticlePainter({ required this.particles, required this.controller, }); @override void paint(Canvas canvas, Size size) { final deltaTime = 0.016; // å‡è®¾60FPS for (final particle in particles) { if (particle.life \u003c= 0) { // é‡ç½®ç²’å­ _resetParticle(particle); } particle.update(deltaTime); if (particle.life \u003e 0) { final paint = particle.getPaint(); canvas.drawCircle( particle.position, particle.size * (particle.life / particle.maxLife), paint, ); } } } void _resetParticle(Particle particle) { final random = Random(); final angle = random.nextDouble() * 2 * math.pi; final speed = random.nextDouble() * 50 + 100; particle.position = const Offset(200, 300); particle.velocity = Offset( math.cos(angle) * speed, math.sin(angle) * speed, ); particle.life = particle.maxLife; } @override bool shouldRepaint(covariant ParticlePainter oldDelegate) { return true; } } å½¢æ€å˜æ¢åŠ¨ç”» 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 162 163 164 165 166 167 168 169 170 171 172 173 174 175 176 177 178 179 180 181 182 183 184 185 186 187 188 189 190 191 192 193 194 195 196 197 198 199 200 201 202 203 204 205 206 207 208 209 210 211 212 213 214 215 216 217 218 219 220 221 222 223 224 225 226 227 228 229 230 231 232 233 234 235 236 237 238 239 240 241 242 243 244 245 246 247 248 249 250 251 252 253 254 255 256 257 // å¤æ‚çš„å½¢çŠ¶å˜æ¢åŠ¨ç”» class MorphingAnimation extends StatefulWidget { const MorphingAnimation({Key? key}) : super(key: key); @override _MorphingAnimationState createState() =\u003e _MorphingAnimationState(); } class _MorphingAnimationState extends State\u003cMorphingAnimation\u003e with TickerProviderStateMixin { late AnimationController _controller; late Animation\u003cdouble\u003e _morphProgress; final List\u003cOffset\u003e _circlePoints = []; final List\u003cOffset\u003e _squarePoints = []; final List\u003cOffset\u003e _starPoints = []; final List\u003cOffset\u003e _currentPoints = []; @override void initState() { super.initState(); _controller = AnimationController( duration: const Duration(seconds: 4), vsync: this, ); _morphProgress = Tween\u003cdouble\u003e( begin: 0, end: 1, ).animate(CurvedAnimation( parent: _controller, curve: Curves.easeInOut, )); _generateShapePoints(); _controller.repeat(reverse: true); } void _generateShapePoints() { final center = const Offset(200, 200); final radius = 100; const pointCount = 32; // ç”Ÿæˆåœ†å½¢ç‚¹ for (int i = 0; i \u003c pointCount; i++) { final angle = (i / pointCount) * 2 * math.pi; _circlePoints.add( Offset( center.dx + radius * math.cos(angle), center.dy + radius * math.sin(angle), ), ); } // ç”Ÿæˆæ–¹å½¢ç‚¹ final squareSize = radius * 1.5; for (int i = 0; i \u003c pointCount; i++) { final t = i / pointCount; late Offset point; if (t \u003c 0.25) { // ä¸Šè¾¹ final localT = t * 4; point = Offset( center.dx - squareSize / 2 + localT * squareSize, center.dy - squareSize / 2, ); } else if (t \u003c 0.5) { // å³è¾¹ final localT = (t - 0.25) * 4; point = Offset( center.dx + squareSize / 2, center.dy - squareSize / 2 + localT * squareSize, ); } else if (t \u003c 0.75) { // ä¸‹è¾¹ final localT = (t - 0.5) * 4; point = Offset( center.dx + squareSize / 2 - localT * squareSize, center.dy + squareSize / 2, ); } else { // å·¦è¾¹ final localT = (t - 0.75) * 4; point = Offset( center.dx - squareSize / 2, center.dy + squareSize / 2 - localT * squareSize, ); } _squarePoints.add(point); } // ç”Ÿæˆæ˜Ÿå½¢ç‚¹ const starPoints = 5; const outerRadius = radius; const innerRadius = radius * 0.5; for (int i = 0; i \u003c pointCount; i++) { final pointIndex = (i * starPoints / pointCount).floor(); final t = (i * starPoints / pointCount) - pointIndex; late Offset point; final angle = (pointIndex / starPoints) * 2 * math.pi - math.pi / 2; if (pointIndex % 2 == 0) { // å¤–é¡¶ç‚¹ point = Offset( center.dx + outerRadius * math.cos(angle), center.dy + outerRadius * math.sin(angle), ); } else { // å†…é¡¶ç‚¹ point = Offset( center.dx + innerRadius * math.cos(angle), center.dy + innerRadius * math.sin(angle), ); } _starPoints.add(point); } // åˆå§‹åŒ–å½“å‰ç‚¹ä¸ºåœ†å½¢ _currentPoints.addAll(_circlePoints); } void _updateMorphing() { final progress = _morphProgress.value; // æ ¹æ®è¿›åº¦é€‰æ‹©ä¸åŒçš„å½¢çŠ¶ç»„åˆ List\u003cOffset\u003e targetPoints; String shapeName; if (progress \u003c 0.33) { // åœ†å½¢åˆ°æ–¹å½¢ final t = progress / 0.33; targetPoints = _squarePoints; shapeName = 'Circle â†’ Square'; } else if (progress \u003c 0.66) { // æ–¹å½¢åˆ°æ˜Ÿå½¢ final t = (progress - 0.33) / 0.33; targetPoints = _starPoints; shapeName = 'Square â†’ Star'; } else { // æ˜Ÿå½¢åˆ°åœ†å½¢ final t = (progress - 0.66) / 0.34; targetPoints = _circlePoints; shapeName = 'Star â†’ Circle'; } // ä½¿ç”¨æ’å€¼æ›´æ–°å½“å‰ç‚¹ for (int i = 0; i \u003c _currentPoints.length; i++) { final startPoint = _currentPoints[i]; final endPoint = targetPoints[i]; // æ ¹æ®æ•´ä½“è¿›åº¦è®¡ç®—æ’å€¼ var t = _morphProgress.value; // åº”ç”¨ç¼“åŠ¨æ•ˆæœ t = _applyEasing(t); _currentPoints[i] = Offset.lerp(startPoint, endPoint, t)!; } } double _applyEasing(double t) { // ä½¿ç”¨è‡ªå®šä¹‰ç¼“åŠ¨å‡½æ•° return t \u003c 0.5 ? 2 * t * t : 1 - math.pow(-2 * t + 2, 2) / 2; } @override Widget build(BuildContext context) { return Scaffold( appBar: AppBar( title: const Text('Morphing Animation'), actions: [ IconButton( icon: const Icon(Icons.play_arrow), onPressed: () { if (_controller.isAnimating) { _controller.stop(); } else { _controller.forward(); } }, ), ], ), body: AnimatedBuilder( animation: _morphProgress, builder: (context, child) { _updateMorphing(); return CustomPaint( painter: MorphingPainter( points: _currentPoints, color: Colors.blue, strokeWidth: 3, ), child: const SizedBox.expand(), ); }, ), ); } } // å˜å½¢ç»˜åˆ¶å™¨ class MorphingPainter extends CustomPainter { final List\u003cOffset\u003e points; final Color color; final double strokeWidth; MorphingPainter({ required this.points, required this.color, this.strokeWidth = 2, }); @override void paint(Canvas canvas, Size size) { if (points.isEmpty) return; final paint = Paint() ..color = color ..strokeWidth = strokeWidth ..style = PaintingStyle.stroke ..strokeCap = StrokeCap.round ..strokeJoin = StrokeJoin.round; final path = Path() ..addPolygon(points, true); // ç»˜åˆ¶å½¢çŠ¶è½®å»“ canvas.drawPath(path, paint); // å¡«å……åŠé€æ˜é¢œè‰² final fillPaint = Paint() ..color = color.withOpacity(0.2) ..style = PaintingStyle.fill; canvas.drawPath(path, fillPaint); // ç»˜åˆ¶é¡¶ç‚¹ for (final point in points) { canvas.drawCircle(point, 4, Paint()..color = color); } } @override bool shouldRepaint(covariant MorphingPainter oldDelegate) { return oldDelegate.points != points; } } æ‰‹åŠ¿é©±åŠ¨åŠ¨ç”» æ‹–æ‹½å’Œæ‰‹åŠ¿åŠ¨ç”» 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 162 163 164 165 166 167 168 169 170 171 172 173 174 175 176 177 178 179 180 181 182 183 184 185 186 187 188 189 190 191 192 193 194 195 196 197 198 199 200 201 202 203 204 205 206 207 208 209 210 211 212 213 214 215 216 217 218 219 220 221 222 223 224 225 226 227 228 229 230 231 232 233 234 235 236 237 238 239 240 241 242 243 244 245 246 247 248 249 250 251 252 253 // æ‰‹åŠ¿é©±åŠ¨çš„å¼¹æ€§åŠ¨ç”» class GestureAnimation extends StatefulWidget { const GestureAnimation({Key? key}) : super(key: key); @override _GestureAnimationState createState() =\u003e _GestureAnimationState(); } class _GestureAnimationState extends State\u003cGestureAnimation\u003e with TickerProviderStateMixin { late AnimationController _animationController; late AnimationController _bounceController; final GlobalKey _cardKey = GlobalKey(); double _rotation = 0; double _scale = 1; Offset _position = const Offset(0, 0); bool _isDragging = false; @override void initState() { super.initState(); _animationController = AnimationController( duration: const Duration(milliseconds: 300), vsync: this, ); _bounceController = AnimationController( duration: const Duration(milliseconds: 600), vsync: this, ); } void _onPanStart(DragStartDetails details) { setState(() { _isDragging = true; }); _animationController.stop(); } void _onPanUpdate(DragUpdateDetails details) { final RenderBox renderBox = context.findRenderObject() as RenderBox; final localPosition = renderBox.globalToLocal(details.globalPosition); setState(() { _position = localPosition - const Offset(200, 150); // æ ¹æ®æ‹–æ‹½è·ç¦»è®¡ç®—æ—‹è½¬ _rotation = _position.dx * 0.01; // æ‹–æ‹½æ—¶ç•¥å¾®æ”¾å¤§ _scale = 1.05; }); } void _onPanEnd(DragEndDetails details) { setState(() { _isDragging = false; }); // è®¡ç®—å›å¼¹åŠ¨ç”» final velocity = details.velocity.pixelsPerSecond; final distance = (_position.distance + 100).clamp(0.0, 300.0); // ä½¿ç”¨å¼¹æ€§åŠ¨ç”»è¿”å›åŸä½ _animationController.animateTo(0).then((_) { // è§¦å‘å¼¹è·³æ•ˆæœ _bounceController.forward().then((_) { _bounceController.reverse(); }); }); // æ·»åŠ æƒ¯æ€§æ•ˆæœ _animateWithInertia(velocity, distance); } void _animateWithInertia(Offset velocity, double distance) { final inertiaAnimation = Tween\u003cOffset\u003e( begin: _position, end: Offset.zero, ).animate(CurvedAnimation( parent: _animationController, curve: Curves.elasticOut, )); inertiaAnimation.addListener(() { setState(() { _position = inertiaAnimation.value; _rotation = _position.dx * 0.01; _scale = 1 + distance * 0.0002 * (1 - inertiaAnimation.value.distance); }); }); _animationController.forward(from: _animationController.value); } void _onTap() { // ç‚¹å‡»æ—¶çš„å¼¹è·³åŠ¨ç”» _bounceController.forward().then((_) { _bounceController.reverse(); }); } @override Widget build(BuildContext context) { return Scaffold( appBar: AppBar(title: const Text('Gesture Animation')), body: Center( child: GestureDetector( onPanStart: _onPanStart, onPanUpdate: _onPanUpdate, onPanEnd: _onPanEnd, onTap: _onTap, child: Container( width: 400, height: 400, decoration: BoxDecoration( border: Border.all(color: Colors.grey.shade300), borderRadius: BorderRadius.circular(20), ), child: Stack( children: [ // å‚è€ƒç½‘æ ¼ CustomPaint( size: const Size(400, 400), painter: GridPainter(), ), // å¯æ‹–æ‹½å¡ç‰‡ AnimatedBuilder( animation: Listenable.merge([ _animationController, _bounceController, ]), builder: (context, child) { return Transform.translate( offset: _position, child: Transform.rotate( angle: _rotation, child: Transform.scale( scale: _scale * (1 + _bounceController.value * 0.1), child: Container( key: _cardKey, width: 300, height: 200, decoration: BoxDecoration( gradient: LinearGradient( colors: [ Colors.blue.shade400, Colors.purple.shade600, ], begin: Alignment.topLeft, end: Alignment.bottomRight, ), borderRadius: BorderRadius.circular(20), boxShadow: [ BoxShadow( color: Colors.black.withOpacity(_isDragging ? 0.3 : 0.2), blurRadius: _isDragging ? 20 : 10, offset: Offset( _isDragging ? _position.dx * 0.1 : 0, _isDragging ? _position.dy * 0.1 : 5, ), ), ], ), child: const Center( child: Column( mainAxisAlignment: MainAxisAlignment.center, children: [ Icon( Icons.touch_app, color: Colors.white, size: 48, ), SizedBox(height: 8), Text( 'Drag Me!', style: TextStyle( color: Colors.white, fontSize: 24, fontWeight: FontWeight.bold, ), ), ], ), ), ), ), ), ); }, ), ], ), ), ), ), ); } } // ç½‘æ ¼ç»˜åˆ¶å™¨ class GridPainter extends CustomPainter { @override void paint(Canvas canvas, Size size) { final paint = Paint() ..color = Colors.grey.shade300 ..strokeWidth = 0.5; const gridSize = 50.0; // ç»˜åˆ¶å‚ç›´çº¿ for (double x = 0; x \u003c size.width; x += gridSize) { canvas.drawLine( Offset(x, 0), Offset(x, size.height), paint, ); } // ç»˜åˆ¶æ°´å¹³çº¿ for (double y = 0; y \u003c size.height; y += gridSize) { canvas.drawLine( Offset(0, y), Offset(size.width, y), paint, ); } // ç»˜åˆ¶ä¸­å¿ƒåå­— final centerPaint = Paint() ..color = Colors.grey.shade500 ..strokeWidth = 1; canvas.drawLine( const Offset(200, 0), const Offset(200, 400), centerPaint, ); canvas.drawLine( const Offset(0, 200), const Offset(400, 200), centerPaint, ); } @override bool shouldRepaint(covariant CustomPainter oldDelegate) =\u003e false; } æ€§èƒ½ä¼˜åŒ–æŠ€å·§ åŠ¨ç”»æ€§èƒ½ç›‘æ§ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 // åŠ¨ç”»æ€§èƒ½ç›‘æ§å™¨ class AnimationPerformanceMonitor { static final AnimationPerformanceMonitor _instance = AnimationPerformanceMonitor._internal(); factory AnimationPerformanceMonitor() =\u003e _instance; AnimationPerformanceMonitor._internal(); final List\u003cPerformanceMetric\u003e _metrics = []; bool _isMonitoring = false; void startMonitoring() { if (_isMonitoring) return; _isMonitoring = true; WidgetsBinding.instance.addPostFrameCallback(_onFrame); } void stopMonitoring() { _isMonitoring = false; } void _onFrame(Duration timestamp) { if (!_isMonitoring) return; final renderer = WidgetsBinding.instance.renderObject; final frameTime = timestamp.inMicroseconds / 1000; // è®°å½•æ€§èƒ½æŒ‡æ ‡ final metric = PerformanceMetric( timestamp: timestamp, frameTime: frameTime, fps: 1000 / frameTime, cpuUsage: _getCpuUsage(), memoryUsage: _getMemoryUsage(), ); _metrics.add(metric); // ä¿æŒæœ€è¿‘1000å¸§çš„æŒ‡æ ‡ if (_metrics.length \u003e 1000) { _metrics.removeAt(0); } // å¦‚æœæ€§èƒ½ä½äºé˜ˆå€¼ï¼Œå‘å‡ºè­¦å‘Š if (metric.fps \u003c 30) { print('âš ï¸ Low FPS detected: ${metric.fps.toStringAsFixed(1)}'); _analyzePerformanceIssue(metric); } WidgetsBinding.instance.addPostFrameCallback(_onFrame); } void _analyzePerformanceIssue(PerformanceMetric metric) { // åˆ†ææ€§èƒ½é—®é¢˜ if (metric.memoryUsage \u003e 100 * 1024 * 1024) { // 100MB print('ğŸ’¾ High memory usage detected'); } if (metric.cpuUsage \u003e 80) { print('ğŸ”¥ High CPU usage detected'); } } double _getCpuUsage() { // æ¨¡æ‹ŸCPUä½¿ç”¨ç‡ return 30 + (math.Random().nextDouble() * 40); } double _getMemoryUsage() { // æ¨¡æ‹Ÿå†…å­˜ä½¿ç”¨ return 50 * 1024 * 1024 + (math.Random().nextDouble() * 50 * 1024 * 1024); } PerformanceReport generateReport() { if (_metrics.isEmpty) { return PerformanceReport.empty(); } final avgFPS = _metrics.fold(0.0, (sum, m) =\u003e sum + m.fps) / _metrics.length; final minFPS = _metrics.map((m) =\u003e m.fps).reduce((a, b) =\u003e a \u003c b ? a : b); final maxFPS = _metrics.map((m) =\u003e m.fps).reduce((a, b) =\u003e a \u003e b ? a : b); final avgMemory = _metrics.fold(0.0, (sum, m) =\u003e sum + m.memoryUsage) / _metrics.length; return PerformanceReport( avgFPS: avgFPS, minFPS: minFPS, maxFPS: maxFPS, avgMemory: avgMemory, frameCount: _metrics.length, lowFPSFrames: _metrics.where((m) =\u003e m.fps \u003c 30).length, ); } void logReport() { final report = generateReport(); print('ğŸ“Š Animation Performance Report:'); print(' Average FPS: ${report.avgFPS.toStringAsFixed(1)}'); print(' Min FPS: ${report.minFPS.toStringAsFixed(1)}'); print(' Max FPS: ${report.maxFPS.toStringAsFixed(1)}'); print(' Low FPS Frames: ${report.lowFPSFrames}'); print(' Average Memory: ${(report.avgMemory / 1024 / 1024).toStringAsFixed(1)} MB'); } } // æ€§èƒ½æŒ‡æ ‡ç±» class PerformanceMetric { final DateTime timestamp; final double frameTime; final double fps; final double cpuUsage; final double memoryUsage; PerformanceMetric({ required this.timestamp, required this.frameTime, required this.fps, required this.cpuUsage, required this.memoryUsage, }); } // æ€§èƒ½æŠ¥å‘Šç±» class PerformanceReport { final double avgFPS; final double minFPS; final double maxFPS; final double avgMemory; final int frameCount; final int lowFPSFrames; PerformanceReport({ required this.avgFPS, required this.minFPS, required this.maxFPS, required this.avgMemory, required this.frameCount, required this.lowFPSFrames, }); factory PerformanceReport.empty() { return PerformanceReport( avgFPS: 0, minFPS: 0, maxFPS: 0, avgMemory: 0, frameCount: 0, lowFPSFrames: 0, ); } bool get isPerformant =\u003e avgFPS \u003e= 55 \u0026\u0026 lowFPSFrames \u003c frameCount * 0.05; String get performanceRating { if (avgFPS \u003e= 58) return 'Excellent'; if (avgFPS \u003e= 55) return 'Good'; if (avgFPS \u003e= 45) return 'Fair'; return 'Poor'; } } ä¼˜åŒ–çš„åŠ¨ç”»å®ç° 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 162 163 164 165 166 167 168 169 170 171 172 173 174 175 176 177 178 179 180 181 182 183 184 185 186 187 188 189 190 191 192 193 194 195 196 197 198 199 200 201 202 203 204 205 206 207 208 209 210 211 212 213 214 215 216 217 218 219 220 221 222 223 224 225 226 227 228 229 230 231 232 233 234 235 236 237 238 239 240 241 242 243 244 245 246 247 248 249 250 251 252 253 254 255 256 257 258 259 260 261 262 263 264 265 266 267 268 269 270 271 272 273 274 275 276 277 278 279 280 // é«˜æ€§èƒ½åŠ¨ç”»ç»„ä»¶ class OptimizedAnimatedWidget extends StatefulWidget { final Widget child; final Animation\u003cdouble\u003e animation; final bool enableCache; final Duration cacheDuration; const OptimizedAnimatedWidget({ Key? key, required this.child, required this.animation, this.enableCache = true, this.cacheDuration = const Duration(milliseconds: 100), }) : super(key: key); @override _OptimizedAnimatedWidgetState createState() =\u003e _OptimizedAnimatedWidgetState(); } class _OptimizedAnimatedWidgetState extends State\u003cOptimizedAnimatedWidget\u003e with AutomaticKeepAliveClientMixin { Widget? _cachedChild; DateTime? _lastCacheTime; double _lastAnimationValue = -1; @override bool get wantKeepAlive =\u003e true; @override void didUpdateWidget(OptimizedAnimatedWidget oldWidget) { super.didUpdateWidget(oldWidget); // å¦‚æœåŠ¨ç”»å˜åŒ–ï¼Œæ¸…é™¤ç¼“å­˜ if (widget.animation != oldWidget.animation) { _cachedChild = null; } } @override Widget build(BuildContext context) { super.build(context); final animationValue = widget.animation.value; // æ£€æŸ¥æ˜¯å¦å¯ä»¥ä½¿ç”¨ç¼“å­˜çš„å­ç»„ä»¶ if (widget.enableCache \u0026\u0026 _cachedChild != null \u0026\u0026 _lastCacheTime != null \u0026\u0026 DateTime.now().difference(_lastCacheTime!) \u003c widget.cacheDuration \u0026\u0026 (animationValue - _lastAnimationValue).abs() \u003c 0.01) { return _cachedChild!; } // ä½¿ç”¨RepaintBoundaryé™åˆ¶é‡ç»˜èŒƒå›´ return RepaintBoundary( child: AnimatedBuilder( animation: widget.animation, builder: (context, child) { // æ„å»ºä¼˜åŒ–åçš„ç»„ä»¶ final optimizedChild = Transform.scale( scale: animationValue, alignment: Alignment.center, child: FadeTransition( opacity: widget.animation, child: widget.child, ), ); // ç¼“å­˜æ„å»ºç»“æœ if (widget.enableCache) { _cachedChild = optimizedChild; _lastCacheTime = DateTime.now(); _lastAnimationValue = animationValue; } return optimizedChild; }, ), ); } } // æ‰¹é‡åŠ¨ç”»ç®¡ç†å™¨ class BatchAnimationManager { final Map\u003cString, AnimationController\u003e _controllers = {}; final Map\u003cString, TickerProvider\u003e _tickers = {}; Timer? _batchTimer; final List\u003cVoidCallback\u003e _pendingAnimations = []; // æ³¨å†ŒåŠ¨ç”»æ§åˆ¶å™¨ void registerController( String id, AnimationController controller, TickerProvider vsync, ) { _controllers[id] = controller; _tickers[id] = vsync; } // æ‰¹é‡å¯åŠ¨åŠ¨ç”» void batchStartAnimations(List\u003cString\u003e controllerIds) { for (final id in controllerIds) { final controller = _controllers[id]; if (controller != null \u0026\u0026 !controller.isAnimating) { _pendingAnimations.add(() =\u003e controller.forward()); } } _scheduleBatch(); } // æ‰¹é‡åœæ­¢åŠ¨ç”» void batchStopAnimations(List\u003cString\u003e controllerIds) { for (final id in controllerIds) { final controller = _controllers[id]; if (controller != null \u0026\u0026 controller.isAnimating) { _pendingAnimations.add(() =\u003e controller.stop()); } } _scheduleBatch(); } void _scheduleBatch() { _batchTimer?.cancel(); _batchTimer = Timer(const Duration(milliseconds: 16), () { // åœ¨ä¸‹ä¸€å¸§æ‰§è¡Œæ‰€æœ‰åŠ¨ç”» for (final animation in _pendingAnimations) { animation(); } _pendingAnimations.clear(); _batchTimer = null; }); } // é”€æ¯æŒ‡å®šæ§åˆ¶å™¨ void disposeController(String id) { _controllers[id]?.dispose(); _controllers.remove(id); _tickers.remove(id); } // é”€æ¯æ‰€æœ‰æ§åˆ¶å™¨ void disposeAll() { for (final controller in _controllers.values) { controller.dispose(); } _controllers.clear(); _tickers.clear(); _batchTimer?.cancel(); _pendingAnimations.clear(); } } // ä½¿ç”¨ç¤ºä¾‹ class AdvancedAnimationExample extends StatefulWidget { const AdvancedAnimationExample({Key? key}) : super(key: key); @override _AdvancedAnimationExampleState createState() =\u003e _AdvancedAnimationExampleState(); } class _AdvancedAnimationExampleState extends State\u003cAdvancedAnimationExample\u003e with TickerProviderStateMixin { late AnimationController _mainController; late AnimationController _secondaryController; final BatchAnimationManager _batchManager = BatchAnimationManager(); @override void initState() { super.initState(); _mainController = AnimationController( duration: const Duration(seconds: 2), vsync: this, ); _secondaryController = AnimationController( duration: const Duration(milliseconds: 800), vsync: this, ); // æ³¨å†Œåˆ°æ‰¹é‡ç®¡ç†å™¨ _batchManager.registerController('main', _mainController, this); _batchManager.registerController('secondary', _secondaryController, this); // å¯åŠ¨æ€§èƒ½ç›‘æ§ AnimationPerformanceMonitor().startMonitoring(); } @override void dispose() { _mainController.dispose(); _secondaryController.dispose(); _batchManager.disposeAll(); super.dispose(); } void _startBatchAnimation() { _batchManager.batchStartAnimations(['main', 'secondary']); } void _logPerformance() { AnimationPerformanceMonitor().logReport(); } @override Widget build(BuildContext context) { return Scaffold( appBar: AppBar( title: const Text('Advanced Animation'), actions: [ IconButton( onPressed: _startBatchAnimation, icon: const Icon(Icons.play_arrow), ), IconButton( onPressed: _logPerformance, icon: const Icon(Icons.analytics), ), ], ), body: Center( child: Column( mainAxisAlignment: MainAxisAlignment.center, children: [ OptimizedAnimatedWidget( animation: _mainController, enableCache: true, child: Container( width: 200, height: 200, decoration: BoxDecoration( gradient: LinearGradient( colors: [Colors.blue, Colors.purple], begin: Alignment.topLeft, end: Alignment.bottomRight, ), borderRadius: BorderRadius.circular(20), ), child: const Center( child: Text( 'Optimized', style: TextStyle( color: Colors.white, fontSize: 24, fontWeight: FontWeight.bold, ), ), ), ), ), const SizedBox(height: 40), OptimizedAnimatedWidget( animation: _secondaryController, child: Container( width: 150, height: 150, decoration: BoxDecoration( color: Colors.orange, borderRadius: BorderRadius.circular(15), ), child: const Center( child: Text( 'Cached', style: TextStyle( color: Colors.white, fontSize: 20, fontWeight: FontWeight.bold, ), ), ), ), ), ], ), ), ); } } æ€»ç»“ FlutteråŠ¨ç”»ç³»ç»Ÿçš„å¼ºå¤§ä¹‹å¤„åœ¨äºï¼š\næ ¸å¿ƒç‰¹æ€§ï¼š\nçµæ´»çš„AnimationControllerå’ŒTweenç³»ç»Ÿ ä¸°å¯Œçš„åŠ¨ç”»æ›²çº¿é€‰æ‹© è‡ªå®šä¹‰ç»˜åˆ¶èƒ½åŠ› ç¡¬ä»¶åŠ é€Ÿæ”¯æŒ é«˜çº§æŠ€å·§ï¼š\nå¤æ‚åŠ¨ç”»ç¼–æ’å’Œç»„åˆ ç‰©ç†æ¨¡æ‹Ÿå’ŒçœŸå®æ„Ÿæ•ˆæœ æ‰‹åŠ¿é©±åŠ¨çš„äº¤äº’åŠ¨ç”» æ€§èƒ½ç›‘æ§å’Œä¼˜åŒ–ç­–ç•¥ æ€§èƒ½ä¼˜åŒ–ï¼š\nä½¿ç”¨AnimatedBuilderé¿å…ä¸å¿…è¦çš„é‡å»º å®ç°ç¼“å­˜æœºåˆ¶å‡å°‘è®¡ç®—å¼€é”€ åˆç†ä½¿ç”¨RepaintBoundary æ‰¹é‡ç®¡ç†åŠ¨ç”»æ§åˆ¶å™¨ æœ€ä½³å®è·µï¼š\nä¿æŒåŠ¨ç”»åœ¨60FPS é¿å…åœ¨åŠ¨ç”»ä¸­è¿›è¡Œå¤æ‚è®¡ç®— ä½¿ç”¨ç¡¬ä»¶åŠ é€Ÿçš„å±æ€§ åˆç†è®¾ç½®åŠ¨ç”»æŒç»­æ—¶é—´å’Œæ›²çº¿ æŒæ¡è¿™äº›é«˜çº§åŠ¨ç”»æŠ€å·§ï¼Œå°†è®©ä½ èƒ½å¤Ÿåˆ›é€ å‡ºä»¤äººæƒŠå¹çš„ Flutter åº”ç”¨ä½“éªŒã€‚\nç›¸å…³èµ„æºï¼š\nFlutteråŠ¨ç”»å®˜æ–¹æ–‡æ¡£ FlutteråŠ¨ç”»æ¡ˆä¾‹åº“ æ€§èƒ½ä¼˜åŒ–æŒ‡å— CustomPainterä½¿ç”¨æŒ‡å— ","wordCount":"6206","inLanguage":"zh-cn","datePublished":"2025-12-20T15:00:00+08:00","dateModified":"2025-12-20T15:00:00+08:00","author":{"@type":"Person","name":"Util Tech Team"},"mainEntityOfPage":{"@type":"WebPage","@id":"/blog/articles/flutter-advanced-animations/"},"publisher":{"@type":"Organization","name":"æŠ€æœ¯åšå®¢ - æœ‰æ¡å·¥å…·","logo":{"@type":"ImageObject","url":"/favicon.ico"}}}</script></head><body id=top><header class=header><nav class=nav><div class=logo><a href=/blog/ accesskey=h title="æŠ€æœ¯åšå®¢ - æœ‰æ¡å·¥å…· (Alt + H)">æŠ€æœ¯åšå®¢ - æœ‰æ¡å·¥å…·</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=/blog/posts/ title="æ‰€æœ‰æ–‡ç« åˆ—è¡¨ - æœ‰æ¡å·¥å…·æŠ€æœ¯åšå®¢ï¼šæŸ¥çœ‹æ‰€æœ‰æŠ€æœ¯æ–‡ç« å’Œæ•™ç¨‹å†…å®¹"><span>æ–‡ç« </span></a></li><li><a href=https://www.util.cn title="æœ‰æ¡å·¥å…· - å¼€å‘è€…çš„å¸¸ç”¨å·¥å…·é›†åˆï¼šæ— å¹¿å‘Š Â· æœ¬åœ°è®¡ç®— Â· å³å¼€å³ç”¨çš„åœ¨çº¿å·¥å…·å¹³å°ï¼Œæä¾›JSONæ ¼å¼åŒ–ã€SQLæ ¼å¼åŒ–ã€Markdownç¼–è¾‘å™¨ç­‰å®ç”¨å·¥å…·"><span>æœ‰æ¡å·¥å…·</span>&nbsp;
<svg fill="none" shape-rendering="geometricPrecision" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"/><path d="M15 3h6v6"/><path d="M10 14 21 3"/></svg></a></li><li><a href=/blog/categories/ title="æ–‡ç« åˆ†ç±» - æœ‰æ¡å·¥å…·æŠ€æœ¯åšå®¢ï¼šæŒ‰æŠ€æœ¯é¢†åŸŸåˆ†ç±»çš„ä¼˜è´¨æ–‡ç« ï¼ŒåŒ…æ‹¬å‰ç«¯å¼€å‘ã€å·¥å…·ä½¿ç”¨ã€ç¼–ç¨‹æŠ€å·§ç­‰"><span>åˆ†ç±»</span></a></li><li><a href=/blog/tags/ title="æ ‡ç­¾äº‘ - æœ‰æ¡å·¥å…·æŠ€æœ¯åšå®¢ï¼šé€šè¿‡æ ‡ç­¾å¿«é€Ÿæ‰¾åˆ°æ„Ÿå…´è¶£çš„æŠ€æœ¯æ–‡ç« å’Œæ•™ç¨‹å†…å®¹"><span>æ ‡ç­¾</span></a></li><li><a href=/blog/archives/ title="æ–‡ç« å½’æ¡£ - æœ‰æ¡å·¥å…·æŠ€æœ¯åšå®¢ï¼šæŒ‰æ—¶é—´æŸ¥çœ‹å†å²æ–‡ç« "><span>å½’æ¡£</span></a></li><li><a href=/blog/search/ title="æœç´¢æ–‡ç«  - æœ‰æ¡å·¥å…·æŠ€æœ¯åšå®¢ï¼šé€šè¿‡å…³é”®è¯æœç´¢æ‰¾åˆ°æ„Ÿå…´è¶£çš„æŠ€æœ¯æ–‡ç« å’Œæ•™ç¨‹å†…å®¹ï¼Œæ”¯æŒæ ‡é¢˜ã€å†…å®¹ã€åˆ†ç±»å’Œæ ‡ç­¾æœç´¢"><span>æœç´¢</span></a></li></ul></nav></header><main class=main><article class=post-single><div class=post-content-wrapper><main class=post-content-main><header class=post-header-main><h1 class="post-title entry-hint-parent">Flutteré«˜çº§åŠ¨ç”»å®Œå…¨æŒ‡å—ï¼šæ‰“é€ ç”µå½±çº§æµç•…ä½“éªŒçš„ç»ˆæç§˜ç±</h1><div class=post-description>æœ¬æ–‡å…¨é¢ä»‹ç»FlutteråŠ¨ç”»çš„é«˜çº§æŠ€å·§ï¼ŒåŒ…æ‹¬å¤æ‚åŠ¨ç”»ç¼–æ’ã€æ€§èƒ½ä¼˜åŒ–ã€ç‰©ç†åŠ¨ç”»ã€æ‰‹åŠ¿é©±åŠ¨ç­‰æ ¸å¿ƒæŠ€æœ¯ã€‚</div><div class=post-meta><div class=post-meta-content><div class=post-categories-inline><a href=/blog/categories/%E7%A7%BB%E5%8A%A8%E5%BC%80%E5%8F%91/ class=category-link>ç§»åŠ¨å¼€å‘</a><a href=/blog/categories/ui/ux/ class=category-link>UI/UX</a></div><span class=post-date>2025-12-20</span><span class=post-author>Util Tech Team</span></div><style>.post-meta-content{display:flex;align-items:center;flex-wrap:wrap;gap:.75rem;font-family:sf mono,monaco,courier new,monospace;font-size:.875rem;color:#9ca3af !important}.post-categories-inline{display:inline-flex;align-items:center;gap:.5rem}.category-link{display:inline-flex;align-items:center;gap:.25rem;padding:.25rem .75rem;background:rgba(255,255,255,.1);color:#e5e7eb !important;text-decoration:none;font-size:.75rem;font-weight:600;text-transform:uppercase;letter-spacing:.05em;border:1px solid rgba(255,255,255,.2);border-radius:0;transition:all .3s ease;white-space:nowrap}.category-link:hover{background:rgba(255,255,255,.2);color:#fff !important;border-color:rgba(255,255,255,.3);transform:translateY(-1px)}.category-link::before{content:'ğŸ“';font-size:.7rem;opacity:.8}.post-date,.post-reading-time,.post-word-count,.post-author{color:#9ca3af !important}[data-theme=dark] .post-meta-content{color:#9ca3af !important}[data-theme=dark] .category-link{background:rgba(255,255,255,.1);color:#e5e7eb !important;border-color:rgba(255,255,255,.2)}[data-theme=dark] .category-link:hover{background:rgba(255,255,255,.2);color:#fff !important;border-color:rgba(255,255,255,.3)}[data-theme=dark] .post-date,[data-theme=dark] .post-reading-time,[data-theme=dark] .post-word-count,[data-theme=dark] .post-author{color:#9ca3af !important}[data-theme=light] .post-meta-content{color:#6c757d !important}[data-theme=light] .category-link{background:rgba(0,0,0,5%);color:#495057 !important;border-color:rgba(0,0,0,.15)}[data-theme=light] .category-link:hover{background:rgba(0,102,204,.1);color:#212529 !important;border-color:rgba(0,102,204,.3)}[data-theme=light] .post-date,[data-theme=light] .post-reading-time,[data-theme=light] .post-word-count,[data-theme=light] .post-author{color:#6c757d !important}@media(max-width:768px){.post-meta-content{gap:.5rem;font-size:.8rem}.category-link{padding:.2rem .6rem;font-size:.7rem}}</style></div></header><div class=post-content><h2 id=å¼•è¨€>å¼•è¨€<a hidden class=anchor aria-hidden=true href=#å¼•è¨€>#</a></h2><p>Flutterå‡­å€Ÿå…¶å¼ºå¤§çš„åŠ¨ç”»ç³»ç»Ÿï¼Œè®©å¼€å‘è€…èƒ½å¤Ÿåˆ›é€ å‡ºåª²ç¾åŸç”Ÿåº”ç”¨çš„æµç•…åŠ¨ç”»æ•ˆæœã€‚ä»ç®€å•çš„è¿‡æ¸¡åŠ¨ç”»åˆ°å¤æ‚çš„ç²’å­ç³»ç»Ÿï¼ŒFlutteræä¾›äº†ä¸°å¯Œè€Œçµæ´»çš„åŠ¨ç”»APIã€‚æœ¬æ–‡å°†æ·±å…¥æ¢è®¨FlutteråŠ¨ç”»çš„é«˜çº§æŠ€å·§ï¼Œå¸®åŠ©ä½ æ‰“é€ ç”µå½±çº§çš„ç”¨æˆ·ä½“éªŒã€‚</p><h2 id=flutteråŠ¨ç”»ç³»ç»Ÿæ¶æ„>FlutteråŠ¨ç”»ç³»ç»Ÿæ¶æ„<a hidden class=anchor aria-hidden=true href=#flutteråŠ¨ç”»ç³»ç»Ÿæ¶æ„>#</a></h2><h3 id=åŠ¨ç”»æ ¸å¿ƒæ¦‚å¿µ>åŠ¨ç”»æ ¸å¿ƒæ¦‚å¿µ<a hidden class=anchor aria-hidden=true href=#åŠ¨ç”»æ ¸å¿ƒæ¦‚å¿µ>#</a></h3><div class=highlight><div style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:2;-o-tab-size:2;tab-size:2><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 56
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 57
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 58
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 59
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 60
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 61
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 62
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 63
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 64
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 65
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 66
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 67
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 68
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 69
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 70
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 71
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 72
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 73
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 74
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 75
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 76
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 77
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 78
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 79
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 80
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 81
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 82
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 83
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 84
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 85
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 86
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 87
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 88
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 89
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 90
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 91
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 92
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 93
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 94
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 95
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 96
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 97
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 98
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 99
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">100
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">101
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">102
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">103
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">104
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">105
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">106
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">107
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">108
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">109
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">110
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">111
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">112
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">113
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-dart data-lang=dart><span style=display:flex><span><span style=color:#8b949e;font-style:italic>// FlutteråŠ¨ç”»ç³»ç»Ÿæ¶æ„
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span><span style=color:#8b949e;font-style:italic>/*
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic>AnimationController â†’ Animation â†’ Tween â†’ Widget
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic>     â†“                â†“           â†“         â†“
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic>   æ§åˆ¶æ—¶é—´çº¿          æ•°å€¼å˜åŒ–      æ’å€¼è®¡ç®—    è§†è§‰æ›´æ–°
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic>*/</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic>// åŸºç¡€åŠ¨ç”»æ§åˆ¶å™¨
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span><span style=color:#ff7b72>import</span> <span style=color:#a5d6ff>&#39;package:flutter/material.dart&#39;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ff7b72>class</span> <span style=color:#f0883e;font-weight:700>BasicAnimationDemo</span> <span style=color:#ff7b72>extends</span> StatefulWidget {
</span></span><span style=display:flex><span>  <span style=color:#f85149>@</span>override
</span></span><span style=display:flex><span>  _BasicAnimationDemoState createState() <span style=color:#ff7b72;font-weight:700>=&gt;</span> _BasicAnimationDemoState();
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ff7b72>class</span> <span style=color:#f0883e;font-weight:700>_BasicAnimationDemoState</span> <span style=color:#ff7b72>extends</span> State<span style=color:#ff7b72;font-weight:700>&lt;</span>BasicAnimationDemo<span style=color:#ff7b72;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>with</span> SingleTickerProviderStateMixin {
</span></span><span style=display:flex><span>  late AnimationController _controller;
</span></span><span style=display:flex><span>  late Animation<span style=color:#ff7b72;font-weight:700>&lt;</span><span style=color:#ff7b72>double</span><span style=color:#ff7b72;font-weight:700>&gt;</span> _animation;
</span></span><span style=display:flex><span>  late Animation<span style=color:#ff7b72;font-weight:700>&lt;</span>Color<span style=color:#ff7b72;font-weight:700>?&gt;</span> _colorAnimation;
</span></span><span style=display:flex><span>  late Animation<span style=color:#ff7b72;font-weight:700>&lt;</span>Size<span style=color:#ff7b72;font-weight:700>?&gt;</span> _sizeAnimation;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#f85149>@</span>override
</span></span><span style=display:flex><span>  <span style=color:#ff7b72>void</span> initState() {
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>super</span>.initState();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic>// åˆ›å»ºåŠ¨ç”»æ§åˆ¶å™¨
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    _controller <span style=color:#ff7b72;font-weight:700>=</span> AnimationController(
</span></span><span style=display:flex><span>      <span style=color:#79c0ff;font-weight:700>duration:</span> <span style=color:#ff7b72>const</span> Duration(<span style=color:#79c0ff;font-weight:700>seconds:</span> <span style=color:#a5d6ff>2</span>),
</span></span><span style=display:flex><span>      <span style=color:#79c0ff;font-weight:700>vsync:</span> <span style=color:#ff7b72>this</span>,
</span></span><span style=display:flex><span>    );
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic>// åˆ›å»ºè¡¥é—´åŠ¨ç”»
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    _animation <span style=color:#ff7b72;font-weight:700>=</span> Tween<span style=color:#ff7b72;font-weight:700>&lt;</span><span style=color:#ff7b72>double</span><span style=color:#ff7b72;font-weight:700>&gt;</span>(
</span></span><span style=display:flex><span>      <span style=color:#79c0ff;font-weight:700>begin:</span> <span style=color:#a5d6ff>0.0</span>,
</span></span><span style=display:flex><span>      <span style=color:#79c0ff;font-weight:700>end:</span> <span style=color:#a5d6ff>1.0</span>,
</span></span><span style=display:flex><span>    ).animate(CurvedAnimation(
</span></span><span style=display:flex><span>      <span style=color:#79c0ff;font-weight:700>parent:</span> _controller,
</span></span><span style=display:flex><span>      <span style=color:#79c0ff;font-weight:700>curve:</span> Curves.easeInOut,
</span></span><span style=display:flex><span>    ));
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic>// é¢œè‰²åŠ¨ç”»
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    _colorAnimation <span style=color:#ff7b72;font-weight:700>=</span> ColorTween(
</span></span><span style=display:flex><span>      <span style=color:#79c0ff;font-weight:700>begin:</span> Colors.blue,
</span></span><span style=display:flex><span>      <span style=color:#79c0ff;font-weight:700>end:</span> Colors.red,
</span></span><span style=display:flex><span>    ).animate(_controller);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic>// å°ºå¯¸åŠ¨ç”»
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    _sizeAnimation <span style=color:#ff7b72;font-weight:700>=</span> SizeTween(
</span></span><span style=display:flex><span>      <span style=color:#79c0ff;font-weight:700>begin:</span> <span style=color:#ff7b72>const</span> Size(<span style=color:#a5d6ff>100</span>, <span style=color:#a5d6ff>100</span>),
</span></span><span style=display:flex><span>      <span style=color:#79c0ff;font-weight:700>end:</span> <span style=color:#ff7b72>const</span> Size(<span style=color:#a5d6ff>200</span>, <span style=color:#a5d6ff>200</span>),
</span></span><span style=display:flex><span>    ).animate(_controller);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic>// ç›‘å¬åŠ¨ç”»çŠ¶æ€
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    _controller.addStatusListener((status) {
</span></span><span style=display:flex><span>      print(<span style=color:#a5d6ff>&#39;Animation status: </span><span style=color:#a5d6ff>$</span>status<span style=color:#a5d6ff>&#39;</span>);
</span></span><span style=display:flex><span>    });
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic>// ç›‘å¬åŠ¨ç”»å€¼å˜åŒ–
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    _controller.addListener(() {
</span></span><span style=display:flex><span>      print(<span style=color:#a5d6ff>&#39;Animation value: </span><span style=color:#a5d6ff>${</span>_animation.value<span style=color:#a5d6ff>}</span><span style=color:#a5d6ff>&#39;</span>);
</span></span><span style=display:flex><span>    });
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#f85149>@</span>override
</span></span><span style=display:flex><span>  <span style=color:#ff7b72>void</span> dispose() {
</span></span><span style=display:flex><span>    _controller.dispose();
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>super</span>.dispose();
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#f85149>@</span>override
</span></span><span style=display:flex><span>  Widget build(BuildContext context) {
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>return</span> Scaffold(
</span></span><span style=display:flex><span>      <span style=color:#79c0ff;font-weight:700>appBar:</span> AppBar(<span style=color:#79c0ff;font-weight:700>title:</span> <span style=color:#ff7b72>const</span> Text(<span style=color:#a5d6ff>&#39;Basic Animation&#39;</span>)),
</span></span><span style=display:flex><span>      <span style=color:#79c0ff;font-weight:700>body:</span> Center(
</span></span><span style=display:flex><span>        <span style=color:#79c0ff;font-weight:700>child:</span> AnimatedBuilder(
</span></span><span style=display:flex><span>          <span style=color:#79c0ff;font-weight:700>animation:</span> _controller,
</span></span><span style=display:flex><span>          <span style=color:#79c0ff;font-weight:700>builder:</span> (context, child) {
</span></span><span style=display:flex><span>            <span style=color:#ff7b72>return</span> Container(
</span></span><span style=display:flex><span>              <span style=color:#79c0ff;font-weight:700>width:</span> _sizeAnimation.value<span style=color:#ff7b72;font-weight:700>?</span>.width,
</span></span><span style=display:flex><span>              <span style=color:#79c0ff;font-weight:700>height:</span> _sizeAnimation.value<span style=color:#ff7b72;font-weight:700>?</span>.height,
</span></span><span style=display:flex><span>              <span style=color:#79c0ff;font-weight:700>decoration:</span> BoxDecoration(
</span></span><span style=display:flex><span>                <span style=color:#79c0ff;font-weight:700>color:</span> _colorAnimation.value,
</span></span><span style=display:flex><span>                <span style=color:#79c0ff;font-weight:700>borderRadius:</span> BorderRadius.circular(
</span></span><span style=display:flex><span>                  _animation.value <span style=color:#ff7b72;font-weight:700>*</span> <span style=color:#a5d6ff>20</span>,
</span></span><span style=display:flex><span>                ),
</span></span><span style=display:flex><span>              ),
</span></span><span style=display:flex><span>              <span style=color:#79c0ff;font-weight:700>child:</span> Center(
</span></span><span style=display:flex><span>                <span style=color:#79c0ff;font-weight:700>child:</span> Text(
</span></span><span style=display:flex><span>                  <span style=color:#a5d6ff>&#39;</span><span style=color:#a5d6ff>${</span>(_animation.value <span style=color:#ff7b72;font-weight:700>*</span> <span style=color:#a5d6ff>100</span>).toInt()<span style=color:#a5d6ff>}</span><span style=color:#a5d6ff>%&#39;</span>,
</span></span><span style=display:flex><span>                  <span style=color:#79c0ff;font-weight:700>style:</span> TextStyle(
</span></span><span style=display:flex><span>                    <span style=color:#79c0ff;font-weight:700>color:</span> Colors.white,
</span></span><span style=display:flex><span>                    <span style=color:#79c0ff;font-weight:700>fontSize:</span> <span style=color:#a5d6ff>20</span> <span style=color:#ff7b72;font-weight:700>+</span> _animation.value <span style=color:#ff7b72;font-weight:700>*</span> <span style=color:#a5d6ff>10</span>,
</span></span><span style=display:flex><span>                  ),
</span></span><span style=display:flex><span>                ),
</span></span><span style=display:flex><span>              ),
</span></span><span style=display:flex><span>            );
</span></span><span style=display:flex><span>          },
</span></span><span style=display:flex><span>        ),
</span></span><span style=display:flex><span>      ),
</span></span><span style=display:flex><span>      <span style=color:#79c0ff;font-weight:700>floatingActionButton:</span> FloatingActionButton(
</span></span><span style=display:flex><span>        <span style=color:#79c0ff;font-weight:700>onPressed:</span> () {
</span></span><span style=display:flex><span>          <span style=color:#ff7b72>if</span> (_controller.isCompleted) {
</span></span><span style=display:flex><span>            _controller.reverse();
</span></span><span style=display:flex><span>          } <span style=color:#ff7b72>else</span> {
</span></span><span style=display:flex><span>            _controller.forward();
</span></span><span style=display:flex><span>          }
</span></span><span style=display:flex><span>        },
</span></span><span style=display:flex><span>        <span style=color:#79c0ff;font-weight:700>child:</span> <span style=color:#ff7b72>const</span> Icon(Icons.play_arrow),
</span></span><span style=display:flex><span>      ),
</span></span><span style=display:flex><span>    );
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span></code></pre></td></tr></table></div></div><h3 id=é«˜çº§æ›²çº¿åŠ¨ç”»>é«˜çº§æ›²çº¿åŠ¨ç”»<a hidden class=anchor aria-hidden=true href=#é«˜çº§æ›²çº¿åŠ¨ç”»>#</a></h3><div class=highlight><div style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:2;-o-tab-size:2;tab-size:2><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 56
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 57
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 58
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 59
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 60
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 61
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 62
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 63
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 64
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 65
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 66
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 67
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 68
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 69
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 70
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 71
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 72
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 73
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 74
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 75
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 76
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 77
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 78
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 79
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 80
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 81
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 82
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 83
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 84
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 85
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 86
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 87
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 88
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 89
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 90
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 91
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 92
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 93
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 94
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 95
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 96
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 97
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 98
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 99
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">100
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">101
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">102
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">103
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">104
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">105
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">106
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">107
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">108
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">109
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">110
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">111
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">112
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">113
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">114
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">115
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">116
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">117
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">118
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">119
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">120
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">121
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">122
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">123
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">124
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">125
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">126
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">127
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">128
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">129
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">130
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">131
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">132
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">133
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">134
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">135
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">136
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">137
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">138
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">139
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">140
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">141
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">142
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">143
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">144
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">145
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">146
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">147
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">148
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">149
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">150
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">151
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">152
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">153
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">154
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">155
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">156
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">157
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">158
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">159
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">160
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">161
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">162
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">163
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">164
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">165
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">166
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">167
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">168
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">169
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">170
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">171
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">172
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">173
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">174
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">175
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">176
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">177
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">178
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">179
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">180
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">181
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">182
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">183
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">184
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">185
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">186
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">187
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">188
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">189
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">190
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">191
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">192
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">193
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">194
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">195
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">196
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">197
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">198
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">199
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">200
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-dart data-lang=dart><span style=display:flex><span><span style=color:#8b949e;font-style:italic>// è‡ªå®šä¹‰åŠ¨ç”»æ›²çº¿
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span><span style=color:#ff7b72>class</span> <span style=color:#f0883e;font-weight:700>CustomCurves</span> {
</span></span><span style=display:flex><span>  <span style=color:#8b949e;font-style:italic>// å¼¹æ€§æ›²çº¿
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>  <span style=color:#ff7b72>static</span> <span style=color:#ff7b72>const</span> Curve elasticCurve <span style=color:#ff7b72;font-weight:700>=</span> ElasticOutCurve(<span style=color:#a5d6ff>0.8</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#8b949e;font-style:italic>// è‡ªå®šä¹‰è´å¡å°”æ›²çº¿
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>  <span style=color:#ff7b72>static</span> <span style=color:#ff7b72>const</span> Curve customBezier <span style=color:#ff7b72;font-weight:700>=</span> Cubic(<span style=color:#a5d6ff>0.25</span>, <span style=color:#a5d6ff>0.1</span>, <span style=color:#a5d6ff>0.25</span>, <span style=color:#a5d6ff>1.0</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#8b949e;font-style:italic>// å¼¹è·³æ›²çº¿
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>  <span style=color:#ff7b72>static</span> <span style=color:#ff7b72>const</span> Curve bounceCurve <span style=color:#ff7b72;font-weight:700>=</span> BounceInOutCurve();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#8b949e;font-style:italic>// å‘¼å¸æ•ˆæœæ›²çº¿
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>  <span style=color:#ff7b72>static</span> Curve breathingCurve <span style=color:#ff7b72;font-weight:700>=</span> _BreathingCurve();
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ff7b72>class</span> <span style=color:#f0883e;font-weight:700>_BreathingCurve</span> <span style=color:#ff7b72>extends</span> Curve {
</span></span><span style=display:flex><span>  <span style=color:#f85149>@</span>override
</span></span><span style=display:flex><span>  <span style=color:#ff7b72>double</span> transform(<span style=color:#ff7b72>double</span> t) {
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic>// ä½¿ç”¨æ­£å¼¦å‡½æ•°åˆ›å»ºå‘¼å¸æ•ˆæœ
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    <span style=color:#ff7b72>return</span> (<span style=color:#a5d6ff>1</span> <span style=color:#ff7b72;font-weight:700>-</span> math.cos(t <span style=color:#ff7b72;font-weight:700>*</span> <span style=color:#a5d6ff>2</span> <span style=color:#ff7b72;font-weight:700>*</span> math.pi)) <span style=color:#ff7b72;font-weight:700>/</span> <span style=color:#a5d6ff>2</span>;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic>// å¤æ‚åŠ¨ç”»ç»„åˆ
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span><span style=color:#ff7b72>class</span> <span style=color:#f0883e;font-weight:700>ComplexAnimationDemo</span> <span style=color:#ff7b72>extends</span> StatefulWidget {
</span></span><span style=display:flex><span>  <span style=color:#f85149>@</span>override
</span></span><span style=display:flex><span>  _ComplexAnimationDemoState createState() <span style=color:#ff7b72;font-weight:700>=&gt;</span> _ComplexAnimationDemoState();
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ff7b72>class</span> <span style=color:#f0883e;font-weight:700>_ComplexAnimationDemoState</span> <span style=color:#ff7b72>extends</span> State<span style=color:#ff7b72;font-weight:700>&lt;</span>ComplexAnimationDemo<span style=color:#ff7b72;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>with</span> TickerProviderStateMixin {
</span></span><span style=display:flex><span>  late AnimationController _mainController;
</span></span><span style=display:flex><span>  late AnimationController _secondaryController;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  late Animation<span style=color:#ff7b72;font-weight:700>&lt;</span><span style=color:#ff7b72>double</span><span style=color:#ff7b72;font-weight:700>&gt;</span> _rotationAnimation;
</span></span><span style=display:flex><span>  late Animation<span style=color:#ff7b72;font-weight:700>&lt;</span><span style=color:#ff7b72>double</span><span style=color:#ff7b72;font-weight:700>&gt;</span> _scaleAnimation;
</span></span><span style=display:flex><span>  late Animation<span style=color:#ff7b72;font-weight:700>&lt;</span><span style=color:#ff7b72>double</span><span style=color:#ff7b72;font-weight:700>&gt;</span> _opacityAnimation;
</span></span><span style=display:flex><span>  late Animation<span style=color:#ff7b72;font-weight:700>&lt;</span>Offset<span style=color:#ff7b72;font-weight:700>&gt;</span> _slideAnimation;
</span></span><span style=display:flex><span>  late Animation<span style=color:#ff7b72;font-weight:700>&lt;</span>Color<span style=color:#ff7b72;font-weight:700>?&gt;</span> _gradientAnimation;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#f85149>@</span>override
</span></span><span style=display:flex><span>  <span style=color:#ff7b72>void</span> initState() {
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>super</span>.initState();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic>// ä¸»æ§åˆ¶å™¨
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    _mainController <span style=color:#ff7b72;font-weight:700>=</span> AnimationController(
</span></span><span style=display:flex><span>      <span style=color:#79c0ff;font-weight:700>duration:</span> <span style=color:#ff7b72>const</span> Duration(<span style=color:#79c0ff;font-weight:700>seconds:</span> <span style=color:#a5d6ff>3</span>),
</span></span><span style=display:flex><span>      <span style=color:#79c0ff;font-weight:700>vsync:</span> <span style=color:#ff7b72>this</span>,
</span></span><span style=display:flex><span>    );
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic>// æ¬¡çº§æ§åˆ¶å™¨
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    _secondaryController <span style=color:#ff7b72;font-weight:700>=</span> AnimationController(
</span></span><span style=display:flex><span>      <span style=color:#79c0ff;font-weight:700>duration:</span> <span style=color:#ff7b72>const</span> Duration(<span style=color:#79c0ff;font-weight:700>milliseconds:</span> <span style=color:#a5d6ff>1500</span>),
</span></span><span style=display:flex><span>      <span style=color:#79c0ff;font-weight:700>vsync:</span> <span style=color:#ff7b72>this</span>,
</span></span><span style=display:flex><span>    );
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic>// æ—‹è½¬åŠ¨ç”»
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    _rotationAnimation <span style=color:#ff7b72;font-weight:700>=</span> Tween<span style=color:#ff7b72;font-weight:700>&lt;</span><span style=color:#ff7b72>double</span><span style=color:#ff7b72;font-weight:700>&gt;</span>(
</span></span><span style=display:flex><span>      <span style=color:#79c0ff;font-weight:700>begin:</span> <span style=color:#a5d6ff>0</span>,
</span></span><span style=display:flex><span>      <span style=color:#79c0ff;font-weight:700>end:</span> <span style=color:#a5d6ff>2</span> <span style=color:#ff7b72;font-weight:700>*</span> math.pi,
</span></span><span style=display:flex><span>    ).animate(CurvedAnimation(
</span></span><span style=display:flex><span>      <span style=color:#79c0ff;font-weight:700>parent:</span> _mainController,
</span></span><span style=display:flex><span>      <span style=color:#79c0ff;font-weight:700>curve:</span> CustomCurves.elasticCurve,
</span></span><span style=display:flex><span>    ));
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic>// ç¼©æ”¾åŠ¨ç”»
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    _scaleAnimation <span style=color:#ff7b72;font-weight:700>=</span> Tween<span style=color:#ff7b72;font-weight:700>&lt;</span><span style=color:#ff7b72>double</span><span style=color:#ff7b72;font-weight:700>&gt;</span>(
</span></span><span style=display:flex><span>      <span style=color:#79c0ff;font-weight:700>begin:</span> <span style=color:#a5d6ff>0.8</span>,
</span></span><span style=display:flex><span>      <span style=color:#79c0ff;font-weight:700>end:</span> <span style=color:#a5d6ff>1.2</span>,
</span></span><span style=display:flex><span>    ).animate(CurvedAnimation(
</span></span><span style=display:flex><span>      <span style=color:#79c0ff;font-weight:700>parent:</span> _secondaryController,
</span></span><span style=display:flex><span>      <span style=color:#79c0ff;font-weight:700>curve:</span> CustomCurves.bounceCurve,
</span></span><span style=display:flex><span>    ));
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic>// é€æ˜åº¦åŠ¨ç”»
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    _opacityAnimation <span style=color:#ff7b72;font-weight:700>=</span> Tween<span style=color:#ff7b72;font-weight:700>&lt;</span><span style=color:#ff7b72>double</span><span style=color:#ff7b72;font-weight:700>&gt;</span>(
</span></span><span style=display:flex><span>      <span style=color:#79c0ff;font-weight:700>begin:</span> <span style=color:#a5d6ff>0.3</span>,
</span></span><span style=display:flex><span>      <span style=color:#79c0ff;font-weight:700>end:</span> <span style=color:#a5d6ff>1.0</span>,
</span></span><span style=display:flex><span>    ).animate(CurvedAnimation(
</span></span><span style=display:flex><span>      <span style=color:#79c0ff;font-weight:700>parent:</span> _mainController,
</span></span><span style=display:flex><span>      <span style=color:#79c0ff;font-weight:700>curve:</span> <span style=color:#ff7b72>const</span> Interval(<span style=color:#a5d6ff>0.2</span>, <span style=color:#a5d6ff>0.8</span>, <span style=color:#79c0ff;font-weight:700>curve:</span> Curves.easeInOut),
</span></span><span style=display:flex><span>    ));
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic>// æ»‘åŠ¨åŠ¨ç”»
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    _slideAnimation <span style=color:#ff7b72;font-weight:700>=</span> Tween<span style=color:#ff7b72;font-weight:700>&lt;</span>Offset<span style=color:#ff7b72;font-weight:700>&gt;</span>(
</span></span><span style=display:flex><span>      <span style=color:#79c0ff;font-weight:700>begin:</span> <span style=color:#ff7b72>const</span> Offset(<span style=color:#ff7b72;font-weight:700>-</span><span style=color:#a5d6ff>1</span>, <span style=color:#a5d6ff>0</span>),
</span></span><span style=display:flex><span>      <span style=color:#79c0ff;font-weight:700>end:</span> <span style=color:#ff7b72>const</span> Offset(<span style=color:#a5d6ff>1</span>, <span style=color:#a5d6ff>0</span>),
</span></span><span style=display:flex><span>    ).animate(CurvedAnimation(
</span></span><span style=display:flex><span>      <span style=color:#79c0ff;font-weight:700>parent:</span> _secondaryController,
</span></span><span style=display:flex><span>      <span style=color:#79c0ff;font-weight:700>curve:</span> CustomCurves.customBezier,
</span></span><span style=display:flex><span>    ));
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic>// æ¸å˜è‰²åŠ¨ç”»
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    _gradientAnimation <span style=color:#ff7b72;font-weight:700>=</span> RainbowColorTween(
</span></span><span style=display:flex><span>      <span style=color:#79c0ff;font-weight:700>begin:</span> Colors.purple,
</span></span><span style=display:flex><span>      <span style=color:#79c0ff;font-weight:700>end:</span> Colors.orange,
</span></span><span style=display:flex><span>    ).animate(_mainController);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic>// å¯åŠ¨æ¬¡çº§åŠ¨ç”»å»¶è¿Ÿ
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    _secondaryController.repeat(<span style=color:#79c0ff;font-weight:700>reverse:</span> <span style=color:#79c0ff>true</span>);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#f85149>@</span>override
</span></span><span style=display:flex><span>  <span style=color:#ff7b72>void</span> dispose() {
</span></span><span style=display:flex><span>    _mainController.dispose();
</span></span><span style=display:flex><span>    _secondaryController.dispose();
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>super</span>.dispose();
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#f85149>@</span>override
</span></span><span style=display:flex><span>  Widget build(BuildContext context) {
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>return</span> Scaffold(
</span></span><span style=display:flex><span>      <span style=color:#79c0ff;font-weight:700>body:</span> Container(
</span></span><span style=display:flex><span>        <span style=color:#79c0ff;font-weight:700>decoration:</span> BoxDecoration(
</span></span><span style=display:flex><span>          <span style=color:#79c0ff;font-weight:700>gradient:</span> LinearGradient(
</span></span><span style=display:flex><span>            <span style=color:#79c0ff;font-weight:700>colors:</span> [
</span></span><span style=display:flex><span>              _gradientAnimation.value <span style=color:#ff7b72;font-weight:700>??</span> Colors.blue,
</span></span><span style=display:flex><span>              (_gradientAnimation.value <span style=color:#ff7b72;font-weight:700>??</span> Colors.blue).withOpacity(<span style=color:#a5d6ff>0.8</span>),
</span></span><span style=display:flex><span>            ],
</span></span><span style=display:flex><span>            <span style=color:#79c0ff;font-weight:700>begin:</span> Alignment.topLeft,
</span></span><span style=display:flex><span>            <span style=color:#79c0ff;font-weight:700>end:</span> Alignment.bottomRight,
</span></span><span style=display:flex><span>          ),
</span></span><span style=display:flex><span>        ),
</span></span><span style=display:flex><span>        <span style=color:#79c0ff;font-weight:700>child:</span> Center(
</span></span><span style=display:flex><span>          <span style=color:#79c0ff;font-weight:700>child:</span> AnimatedBuilder(
</span></span><span style=display:flex><span>            <span style=color:#79c0ff;font-weight:700>animation:</span> Listenable.merge([
</span></span><span style=display:flex><span>              _mainController,
</span></span><span style=display:flex><span>              _secondaryController,
</span></span><span style=display:flex><span>            ]),
</span></span><span style=display:flex><span>            <span style=color:#79c0ff;font-weight:700>builder:</span> (context, child) {
</span></span><span style=display:flex><span>              <span style=color:#ff7b72>return</span> Transform.rotate(
</span></span><span style=display:flex><span>                <span style=color:#79c0ff;font-weight:700>angle:</span> _rotationAnimation.value,
</span></span><span style=display:flex><span>                <span style=color:#79c0ff;font-weight:700>child:</span> Transform.scale(
</span></span><span style=display:flex><span>                  <span style=color:#79c0ff;font-weight:700>scale:</span> _scaleAnimation.value,
</span></span><span style=display:flex><span>                  <span style=color:#79c0ff;font-weight:700>child:</span> SlideTransition(
</span></span><span style=display:flex><span>                    <span style=color:#79c0ff;font-weight:700>position:</span> _slideAnimation,
</span></span><span style=display:flex><span>                    <span style=color:#79c0ff;font-weight:700>child:</span> Opacity(
</span></span><span style=display:flex><span>                      <span style=color:#79c0ff;font-weight:700>opacity:</span> _opacityAnimation.value,
</span></span><span style=display:flex><span>                      <span style=color:#79c0ff;font-weight:700>child:</span> Container(
</span></span><span style=display:flex><span>                        <span style=color:#79c0ff;font-weight:700>width:</span> <span style=color:#a5d6ff>200</span>,
</span></span><span style=display:flex><span>                        <span style=color:#79c0ff;font-weight:700>height:</span> <span style=color:#a5d6ff>200</span>,
</span></span><span style=display:flex><span>                        <span style=color:#79c0ff;font-weight:700>decoration:</span> BoxDecoration(
</span></span><span style=display:flex><span>                          <span style=color:#79c0ff;font-weight:700>color:</span> Colors.white.withOpacity(<span style=color:#a5d6ff>0.9</span>),
</span></span><span style=display:flex><span>                          <span style=color:#79c0ff;font-weight:700>borderRadius:</span> BorderRadius.circular(<span style=color:#a5d6ff>20</span>),
</span></span><span style=display:flex><span>                          <span style=color:#79c0ff;font-weight:700>boxShadow:</span> [
</span></span><span style=display:flex><span>                            BoxShadow(
</span></span><span style=display:flex><span>                              <span style=color:#79c0ff;font-weight:700>color:</span> Colors.black.withOpacity(<span style=color:#a5d6ff>0.3</span>),
</span></span><span style=display:flex><span>                              <span style=color:#79c0ff;font-weight:700>blurRadius:</span> <span style=color:#a5d6ff>20</span>,
</span></span><span style=display:flex><span>                              <span style=color:#79c0ff;font-weight:700>offset:</span> <span style=color:#ff7b72>const</span> Offset(<span style=color:#a5d6ff>0</span>, <span style=color:#a5d6ff>10</span>),
</span></span><span style=display:flex><span>                            ),
</span></span><span style=display:flex><span>                          ],
</span></span><span style=display:flex><span>                        ),
</span></span><span style=display:flex><span>                        <span style=color:#79c0ff;font-weight:700>child:</span> <span style=color:#ff7b72>const</span> Center(
</span></span><span style=display:flex><span>                          <span style=color:#79c0ff;font-weight:700>child:</span> Text(
</span></span><span style=display:flex><span>                            <span style=color:#a5d6ff>&#39;Complex</span><span style=color:#79c0ff>\n</span><span style=color:#a5d6ff>Animation&#39;</span>,
</span></span><span style=display:flex><span>                            <span style=color:#79c0ff;font-weight:700>textAlign:</span> TextAlign.center,
</span></span><span style=display:flex><span>                            <span style=color:#79c0ff;font-weight:700>style:</span> TextStyle(
</span></span><span style=display:flex><span>                              <span style=color:#79c0ff;font-weight:700>fontSize:</span> <span style=color:#a5d6ff>24</span>,
</span></span><span style=display:flex><span>                              <span style=color:#79c0ff;font-weight:700>fontWeight:</span> FontWeight.bold,
</span></span><span style=display:flex><span>                              <span style=color:#79c0ff;font-weight:700>color:</span> Colors.black87,
</span></span><span style=display:flex><span>                            ),
</span></span><span style=display:flex><span>                          ),
</span></span><span style=display:flex><span>                        ),
</span></span><span style=display:flex><span>                      ),
</span></span><span style=display:flex><span>                    ),
</span></span><span style=display:flex><span>                  ),
</span></span><span style=display:flex><span>                ),
</span></span><span style=display:flex><span>              );
</span></span><span style=display:flex><span>            },
</span></span><span style=display:flex><span>          ),
</span></span><span style=display:flex><span>        ),
</span></span><span style=display:flex><span>      ),
</span></span><span style=display:flex><span>      <span style=color:#79c0ff;font-weight:700>floatingActionButton:</span> Row(
</span></span><span style=display:flex><span>        <span style=color:#79c0ff;font-weight:700>mainAxisAlignment:</span> MainAxisAlignment.end,
</span></span><span style=display:flex><span>        <span style=color:#79c0ff;font-weight:700>children:</span> [
</span></span><span style=display:flex><span>          FloatingActionButton(
</span></span><span style=display:flex><span>            <span style=color:#79c0ff;font-weight:700>onPressed:</span> () <span style=color:#ff7b72;font-weight:700>=&gt;</span> _mainController.forward(),
</span></span><span style=display:flex><span>            <span style=color:#79c0ff;font-weight:700>child:</span> <span style=color:#ff7b72>const</span> Icon(Icons.play_arrow),
</span></span><span style=display:flex><span>          ),
</span></span><span style=display:flex><span>          <span style=color:#ff7b72>const</span> SizedBox(<span style=color:#79c0ff;font-weight:700>width:</span> <span style=color:#a5d6ff>10</span>),
</span></span><span style=display:flex><span>          FloatingActionButton(
</span></span><span style=display:flex><span>            <span style=color:#79c0ff;font-weight:700>onPressed:</span> () <span style=color:#ff7b72;font-weight:700>=&gt;</span> _mainController.reverse(),
</span></span><span style=display:flex><span>            <span style=color:#79c0ff;font-weight:700>child:</span> <span style=color:#ff7b72>const</span> Icon(Icons.arrow_back),
</span></span><span style=display:flex><span>          ),
</span></span><span style=display:flex><span>          <span style=color:#ff7b72>const</span> SizedBox(<span style=color:#79c0ff;font-weight:700>width:</span> <span style=color:#a5d6ff>10</span>),
</span></span><span style=display:flex><span>          FloatingActionButton(
</span></span><span style=display:flex><span>            <span style=color:#79c0ff;font-weight:700>onPressed:</span> () {
</span></span><span style=display:flex><span>              <span style=color:#ff7b72>if</span> (_mainController.isAnimating) {
</span></span><span style=display:flex><span>                _mainController.stop();
</span></span><span style=display:flex><span>              } <span style=color:#ff7b72>else</span> {
</span></span><span style=display:flex><span>                _mainController.repeat(<span style=color:#79c0ff;font-weight:700>reverse:</span> <span style=color:#79c0ff>true</span>);
</span></span><span style=display:flex><span>              }
</span></span><span style=display:flex><span>            },
</span></span><span style=display:flex><span>            <span style=color:#79c0ff;font-weight:700>child:</span> <span style=color:#ff7b72>const</span> Icon(Icons.repeat),
</span></span><span style=display:flex><span>          ),
</span></span><span style=display:flex><span>        ],
</span></span><span style=display:flex><span>      ),
</span></span><span style=display:flex><span>    );
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span></code></pre></td></tr></table></div></div><h2 id=ç‰©ç†æ¨¡æ‹ŸåŠ¨ç”»>ç‰©ç†æ¨¡æ‹ŸåŠ¨ç”»<a hidden class=anchor aria-hidden=true href=#ç‰©ç†æ¨¡æ‹ŸåŠ¨ç”»>#</a></h2><h3 id=å¼¹ç°§åŠ¨ç”»>å¼¹ç°§åŠ¨ç”»<a hidden class=anchor aria-hidden=true href=#å¼¹ç°§åŠ¨ç”»>#</a></h3><div class=highlight><div style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:2;-o-tab-size:2;tab-size:2><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 56
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 57
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 58
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 59
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 60
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 61
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 62
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 63
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 64
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 65
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 66
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 67
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 68
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 69
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 70
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 71
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 72
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 73
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 74
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 75
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 76
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 77
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 78
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 79
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 80
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 81
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 82
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 83
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 84
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 85
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 86
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 87
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 88
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 89
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 90
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 91
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 92
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 93
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 94
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 95
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 96
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 97
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 98
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 99
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">100
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">101
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">102
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">103
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">104
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">105
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">106
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">107
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">108
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">109
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">110
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">111
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">112
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">113
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">114
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">115
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">116
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">117
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">118
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">119
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">120
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">121
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">122
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">123
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">124
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">125
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">126
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">127
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">128
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">129
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">130
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">131
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">132
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">133
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">134
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">135
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">136
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">137
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">138
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">139
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">140
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">141
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">142
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">143
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">144
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">145
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">146
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">147
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">148
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">149
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">150
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">151
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">152
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">153
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">154
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">155
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">156
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">157
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">158
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">159
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">160
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">161
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">162
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">163
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">164
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">165
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">166
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">167
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">168
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">169
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">170
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">171
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">172
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">173
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">174
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">175
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">176
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-dart data-lang=dart><span style=display:flex><span><span style=color:#8b949e;font-style:italic>// è‡ªå®šä¹‰å¼¹ç°§ç‰©ç†åŠ¨ç”»
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span><span style=color:#ff7b72>class</span> <span style=color:#f0883e;font-weight:700>SpringAnimation</span> <span style=color:#ff7b72>extends</span> StatefulWidget {
</span></span><span style=display:flex><span>  <span style=color:#ff7b72>const</span> SpringAnimation({Key<span style=color:#ff7b72;font-weight:700>?</span> key}) <span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#ff7b72>super</span>(<span style=color:#79c0ff;font-weight:700>key:</span> key);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#f85149>@</span>override
</span></span><span style=display:flex><span>  _SpringAnimationState createState() <span style=color:#ff7b72;font-weight:700>=&gt;</span> _SpringAnimationState();
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ff7b72>class</span> <span style=color:#f0883e;font-weight:700>_SpringAnimationState</span> <span style=color:#ff7b72>extends</span> State<span style=color:#ff7b72;font-weight:700>&lt;</span>SpringAnimation<span style=color:#ff7b72;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>with</span> TickerProviderStateMixin {
</span></span><span style=display:flex><span>  late AnimationController _controller;
</span></span><span style=display:flex><span>  late Animation<span style=color:#ff7b72;font-weight:700>&lt;</span><span style=color:#ff7b72>double</span><span style=color:#ff7b72;font-weight:700>&gt;</span> _springAnimation;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#ff7b72>double</span> _targetPosition <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#a5d6ff>0</span>;
</span></span><span style=display:flex><span>  <span style=color:#ff7b72>double</span> _currentPosition <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#a5d6ff>0</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#f85149>@</span>override
</span></span><span style=display:flex><span>  <span style=color:#ff7b72>void</span> initState() {
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>super</span>.initState();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    _controller <span style=color:#ff7b72;font-weight:700>=</span> AnimationController(
</span></span><span style=display:flex><span>      <span style=color:#79c0ff;font-weight:700>duration:</span> <span style=color:#ff7b72>const</span> Duration(<span style=color:#79c0ff;font-weight:700>milliseconds:</span> <span style=color:#a5d6ff>1000</span>),
</span></span><span style=display:flex><span>      <span style=color:#79c0ff;font-weight:700>vsync:</span> <span style=color:#ff7b72>this</span>,
</span></span><span style=display:flex><span>    );
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic>// ä½¿ç”¨SpringSimulation
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    _springAnimation <span style=color:#ff7b72;font-weight:700>=</span> _controller.drive(
</span></span><span style=display:flex><span>      SpringSimulation(
</span></span><span style=display:flex><span>        <span style=color:#ff7b72>const</span> SpringDescription(
</span></span><span style=display:flex><span>          <span style=color:#79c0ff;font-weight:700>mass:</span> <span style=color:#a5d6ff>1</span>,
</span></span><span style=display:flex><span>          <span style=color:#79c0ff;font-weight:700>stiffness:</span> <span style=color:#a5d6ff>100</span>,
</span></span><span style=display:flex><span>          <span style=color:#79c0ff;font-weight:700>damping:</span> <span style=color:#a5d6ff>10</span>,
</span></span><span style=display:flex><span>        ),
</span></span><span style=display:flex><span>        <span style=color:#a5d6ff>0</span>,
</span></span><span style=display:flex><span>        <span style=color:#a5d6ff>1</span>,
</span></span><span style=display:flex><span>        <span style=color:#a5d6ff>0</span>,
</span></span><span style=display:flex><span>      ),
</span></span><span style=display:flex><span>    );
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#ff7b72>void</span> _animateTo(<span style=color:#ff7b72>double</span> target) {
</span></span><span style=display:flex><span>    _targetPosition <span style=color:#ff7b72;font-weight:700>=</span> target;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic>// æ›´æ–°å¼¹ç°§æ¨¡æ‹Ÿ
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    <span style=color:#ff7b72>final</span> simulation <span style=color:#ff7b72;font-weight:700>=</span> SpringSimulation(
</span></span><span style=display:flex><span>      <span style=color:#ff7b72>const</span> SpringDescription(
</span></span><span style=display:flex><span>        <span style=color:#79c0ff;font-weight:700>mass:</span> <span style=color:#a5d6ff>1</span>,
</span></span><span style=display:flex><span>        <span style=color:#79c0ff;font-weight:700>stiffness:</span> <span style=color:#a5d6ff>200</span>,
</span></span><span style=display:flex><span>        <span style=color:#79c0ff;font-weight:700>damping:</span> <span style=color:#a5d6ff>15</span>,
</span></span><span style=display:flex><span>      ),
</span></span><span style=display:flex><span>      _currentPosition,
</span></span><span style=display:flex><span>      _targetPosition,
</span></span><span style=display:flex><span>      <span style=color:#a5d6ff>0</span>,
</span></span><span style=display:flex><span>    );
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    _controller.animateWith(simulation);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#f85149>@</span>override
</span></span><span style=display:flex><span>  Widget build(BuildContext context) {
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>return</span> Scaffold(
</span></span><span style=display:flex><span>      <span style=color:#79c0ff;font-weight:700>appBar:</span> AppBar(<span style=color:#79c0ff;font-weight:700>title:</span> <span style=color:#ff7b72>const</span> Text(<span style=color:#a5d6ff>&#39;Spring Animation&#39;</span>)),
</span></span><span style=display:flex><span>      <span style=color:#79c0ff;font-weight:700>body:</span> GestureDetector(
</span></span><span style=display:flex><span>        <span style=color:#79c0ff;font-weight:700>onPanUpdate:</span> (details) {
</span></span><span style=display:flex><span>          setState(() {
</span></span><span style=display:flex><span>            _currentPosition <span style=color:#ff7b72;font-weight:700>=</span> details.localPosition.dy;
</span></span><span style=display:flex><span>          });
</span></span><span style=display:flex><span>        },
</span></span><span style=display:flex><span>        <span style=color:#79c0ff;font-weight:700>onPanEnd:</span> (details) {
</span></span><span style=display:flex><span>          _animateTo(_currentPosition);
</span></span><span style=display:flex><span>        },
</span></span><span style=display:flex><span>        <span style=color:#79c0ff;font-weight:700>child:</span> AnimatedBuilder(
</span></span><span style=display:flex><span>          <span style=color:#79c0ff;font-weight:700>animation:</span> _springAnimation,
</span></span><span style=display:flex><span>          <span style=color:#79c0ff;font-weight:700>builder:</span> (context, child) {
</span></span><span style=display:flex><span>            <span style=color:#ff7b72>return</span> Stack(
</span></span><span style=display:flex><span>              <span style=color:#79c0ff;font-weight:700>children:</span> [
</span></span><span style=display:flex><span>                <span style=color:#8b949e;font-style:italic>// ç›®æ ‡ä½ç½®æŒ‡ç¤ºå™¨
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>                Positioned(
</span></span><span style=display:flex><span>                  <span style=color:#79c0ff;font-weight:700>top:</span> <span style=color:#a5d6ff>200</span>,
</span></span><span style=display:flex><span>                  <span style=color:#79c0ff;font-weight:700>left:</span> <span style=color:#a5d6ff>0</span>,
</span></span><span style=display:flex><span>                  <span style=color:#79c0ff;font-weight:700>right:</span> <span style=color:#a5d6ff>0</span>,
</span></span><span style=display:flex><span>                  <span style=color:#79c0ff;font-weight:700>child:</span> Container(
</span></span><span style=display:flex><span>                    <span style=color:#79c0ff;font-weight:700>height:</span> <span style=color:#a5d6ff>2</span>,
</span></span><span style=display:flex><span>                    <span style=color:#79c0ff;font-weight:700>color:</span> Colors.grey.withOpacity(<span style=color:#a5d6ff>0.5</span>),
</span></span><span style=display:flex><span>                  ),
</span></span><span style=display:flex><span>                ),
</span></span><span style=display:flex><span>                <span style=color:#8b949e;font-style:italic>// å¼¹ç°§å°çƒ
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>                Positioned(
</span></span><span style=display:flex><span>                  <span style=color:#79c0ff;font-weight:700>top:</span> <span style=color:#a5d6ff>200</span> <span style=color:#ff7b72;font-weight:700>+</span> _springAnimation.value <span style=color:#ff7b72;font-weight:700>*</span> <span style=color:#a5d6ff>200</span>,
</span></span><span style=display:flex><span>                  <span style=color:#79c0ff;font-weight:700>left:</span> <span style=color:#a5d6ff>0</span>,
</span></span><span style=display:flex><span>                  <span style=color:#79c0ff;font-weight:700>right:</span> <span style=color:#a5d6ff>0</span>,
</span></span><span style=display:flex><span>                  <span style=color:#79c0ff;font-weight:700>child:</span> Center(
</span></span><span style=display:flex><span>                    <span style=color:#79c0ff;font-weight:700>child:</span> Container(
</span></span><span style=display:flex><span>                      <span style=color:#79c0ff;font-weight:700>width:</span> <span style=color:#a5d6ff>60</span>,
</span></span><span style=display:flex><span>                      <span style=color:#79c0ff;font-weight:700>height:</span> <span style=color:#a5d6ff>60</span>,
</span></span><span style=display:flex><span>                      <span style=color:#79c0ff;font-weight:700>decoration:</span> BoxDecoration(
</span></span><span style=display:flex><span>                        <span style=color:#79c0ff;font-weight:700>color:</span> Colors.blue,
</span></span><span style=display:flex><span>                        <span style=color:#79c0ff;font-weight:700>shape:</span> BoxShape.circle,
</span></span><span style=display:flex><span>                        <span style=color:#79c0ff;font-weight:700>boxShadow:</span> [
</span></span><span style=display:flex><span>                          BoxShadow(
</span></span><span style=display:flex><span>                            <span style=color:#79c0ff;font-weight:700>color:</span> Colors.blue.withOpacity(<span style=color:#a5d6ff>0.3</span>),
</span></span><span style=display:flex><span>                            <span style=color:#79c0ff;font-weight:700>blurRadius:</span> <span style=color:#a5d6ff>20</span>,
</span></span><span style=display:flex><span>                            <span style=color:#79c0ff;font-weight:700>spreadRadius:</span> <span style=color:#a5d6ff>5</span>,
</span></span><span style=display:flex><span>                          ),
</span></span><span style=display:flex><span>                        ],
</span></span><span style=display:flex><span>                      ),
</span></span><span style=display:flex><span>                    ),
</span></span><span style=display:flex><span>                  ),
</span></span><span style=display:flex><span>                ),
</span></span><span style=display:flex><span>                <span style=color:#8b949e;font-style:italic>// å¼¹ç°§è¿çº¿
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>                CustomPaint(
</span></span><span style=display:flex><span>                  <span style=color:#79c0ff;font-weight:700>size:</span> Size.infinite,
</span></span><span style=display:flex><span>                  <span style=color:#79c0ff;font-weight:700>painter:</span> SpringPainter(
</span></span><span style=display:flex><span>                    <span style=color:#79c0ff;font-weight:700>startY:</span> <span style=color:#a5d6ff>200</span>,
</span></span><span style=display:flex><span>                    <span style=color:#79c0ff;font-weight:700>endY:</span> <span style=color:#a5d6ff>200</span> <span style=color:#ff7b72;font-weight:700>+</span> _springAnimation.value <span style=color:#ff7b72;font-weight:700>*</span> <span style=color:#a5d6ff>200</span>,
</span></span><span style=display:flex><span>                    <span style=color:#79c0ff;font-weight:700>coils:</span> <span style=color:#a5d6ff>10</span>,
</span></span><span style=display:flex><span>                  ),
</span></span><span style=display:flex><span>                ),
</span></span><span style=display:flex><span>              ],
</span></span><span style=display:flex><span>            );
</span></span><span style=display:flex><span>          },
</span></span><span style=display:flex><span>        ),
</span></span><span style=display:flex><span>      ),
</span></span><span style=display:flex><span>    );
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic>// å¼¹ç°§ç»˜åˆ¶å™¨
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span><span style=color:#ff7b72>class</span> <span style=color:#f0883e;font-weight:700>SpringPainter</span> <span style=color:#ff7b72>extends</span> CustomPainter {
</span></span><span style=display:flex><span>  <span style=color:#ff7b72>final</span> <span style=color:#ff7b72>double</span> startY;
</span></span><span style=display:flex><span>  <span style=color:#ff7b72>final</span> <span style=color:#ff7b72>double</span> endY;
</span></span><span style=display:flex><span>  <span style=color:#ff7b72>final</span> <span style=color:#ff7b72>int</span> coils;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  SpringPainter({
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>required</span> <span style=color:#ff7b72>this</span>.startY,
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>required</span> <span style=color:#ff7b72>this</span>.endY,
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>this</span>.coils <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#a5d6ff>10</span>,
</span></span><span style=display:flex><span>  });
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#f85149>@</span>override
</span></span><span style=display:flex><span>  <span style=color:#ff7b72>void</span> paint(Canvas canvas, Size size) {
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>final</span> paint <span style=color:#ff7b72;font-weight:700>=</span> Paint()
</span></span><span style=display:flex><span>      ..color <span style=color:#ff7b72;font-weight:700>=</span> Colors.grey
</span></span><span style=display:flex><span>      ..strokeWidth <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#a5d6ff>2</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>final</span> path <span style=color:#ff7b72;font-weight:700>=</span> Path();
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>final</span> width <span style=color:#ff7b72;font-weight:700>=</span> size.width <span style=color:#ff7b72;font-weight:700>/</span> <span style=color:#a5d6ff>2</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    path.moveTo(width, startY);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>final</span> coilHeight <span style=color:#ff7b72;font-weight:700>=</span> (endY <span style=color:#ff7b72;font-weight:700>-</span> startY) <span style=color:#ff7b72;font-weight:700>/</span> coils;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>for</span> (<span style=color:#ff7b72>int</span> i <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#a5d6ff>0</span>; i <span style=color:#ff7b72;font-weight:700>&lt;=</span> coils; i<span style=color:#ff7b72;font-weight:700>++</span>) {
</span></span><span style=display:flex><span>      <span style=color:#ff7b72>final</span> y <span style=color:#ff7b72;font-weight:700>=</span> startY <span style=color:#ff7b72;font-weight:700>+</span> (i <span style=color:#ff7b72;font-weight:700>*</span> coilHeight);
</span></span><span style=display:flex><span>      <span style=color:#ff7b72>final</span> x <span style=color:#ff7b72;font-weight:700>=</span> width <span style=color:#ff7b72;font-weight:700>+</span> (i <span style=color:#ff7b72;font-weight:700>%</span> <span style=color:#a5d6ff>2</span> <span style=color:#ff7b72;font-weight:700>==</span> <span style=color:#a5d6ff>0</span> <span style=color:#ff7b72;font-weight:700>?</span> <span style=color:#ff7b72;font-weight:700>-</span><span style=color:#a5d6ff>30</span> <span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>30</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#ff7b72>if</span> (i <span style=color:#ff7b72;font-weight:700>==</span> <span style=color:#a5d6ff>0</span>) {
</span></span><span style=display:flex><span>        path.lineTo(x, y);
</span></span><span style=display:flex><span>      } <span style=color:#ff7b72>else</span> {
</span></span><span style=display:flex><span>        path.quadraticBezierTo(
</span></span><span style=display:flex><span>          x <span style=color:#ff7b72;font-weight:700>-</span> (i <span style=color:#ff7b72;font-weight:700>%</span> <span style=color:#a5d6ff>2</span> <span style=color:#ff7b72;font-weight:700>==</span> <span style=color:#a5d6ff>0</span> <span style=color:#ff7b72;font-weight:700>?</span> <span style=color:#ff7b72;font-weight:700>-</span><span style=color:#a5d6ff>30</span> <span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>30</span>),
</span></span><span style=display:flex><span>          y <span style=color:#ff7b72;font-weight:700>-</span> coilHeight <span style=color:#ff7b72;font-weight:700>/</span> <span style=color:#a5d6ff>2</span>,
</span></span><span style=display:flex><span>          x,
</span></span><span style=display:flex><span>          y,
</span></span><span style=display:flex><span>        );
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    canvas.drawPath(path, paint);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#f85149>@</span>override
</span></span><span style=display:flex><span>  <span style=color:#ff7b72>bool</span> shouldRepaint(covariant CustomPainter oldDelegate) {
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>return</span> <span style=color:#79c0ff>true</span>;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span></code></pre></td></tr></table></div></div><h3 id=é‡åŠ›å’Œç¢°æ’åŠ¨ç”»>é‡åŠ›å’Œç¢°æ’åŠ¨ç”»<a hidden class=anchor aria-hidden=true href=#é‡åŠ›å’Œç¢°æ’åŠ¨ç”»>#</a></h3><div class=highlight><div style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:2;-o-tab-size:2;tab-size:2><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 56
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 57
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 58
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 59
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 60
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 61
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 62
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 63
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 64
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 65
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 66
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 67
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 68
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 69
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 70
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 71
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 72
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 73
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 74
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 75
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 76
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 77
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 78
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 79
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 80
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 81
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 82
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 83
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 84
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 85
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 86
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 87
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 88
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 89
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 90
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 91
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 92
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 93
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 94
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 95
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 96
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 97
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 98
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 99
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">100
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">101
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">102
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">103
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">104
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">105
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">106
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">107
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">108
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">109
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">110
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">111
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">112
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">113
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">114
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">115
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">116
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">117
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">118
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">119
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">120
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">121
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">122
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">123
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">124
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">125
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">126
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">127
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">128
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">129
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">130
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">131
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">132
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">133
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">134
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">135
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">136
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">137
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">138
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">139
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">140
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">141
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">142
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">143
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">144
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">145
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">146
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">147
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">148
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">149
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">150
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">151
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">152
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">153
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">154
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">155
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">156
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">157
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">158
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">159
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">160
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">161
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">162
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">163
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">164
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">165
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">166
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">167
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">168
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">169
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">170
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">171
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">172
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">173
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">174
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">175
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">176
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">177
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">178
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">179
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">180
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">181
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">182
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">183
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">184
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">185
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">186
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">187
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">188
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">189
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">190
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">191
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">192
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">193
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">194
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">195
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">196
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">197
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">198
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">199
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">200
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">201
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">202
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">203
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">204
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">205
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">206
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">207
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">208
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">209
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">210
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">211
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">212
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">213
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">214
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">215
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">216
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">217
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">218
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">219
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">220
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">221
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">222
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">223
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">224
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">225
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">226
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">227
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">228
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">229
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">230
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">231
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">232
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">233
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">234
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">235
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">236
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">237
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">238
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">239
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">240
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">241
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">242
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">243
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">244
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">245
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">246
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">247
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">248
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-dart data-lang=dart><span style=display:flex><span><span style=color:#8b949e;font-style:italic>// ç‰©ç†å¼•æ“åŠ¨ç”»
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span><span style=color:#ff7b72>class</span> <span style=color:#f0883e;font-weight:700>PhysicsEngineDemo</span> <span style=color:#ff7b72>extends</span> StatefulWidget {
</span></span><span style=display:flex><span>  <span style=color:#ff7b72>const</span> PhysicsEngineDemo({Key<span style=color:#ff7b72;font-weight:700>?</span> key}) <span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#ff7b72>super</span>(<span style=color:#79c0ff;font-weight:700>key:</span> key);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#f85149>@</span>override
</span></span><span style=display:flex><span>  _PhysicsEngineDemoState createState() <span style=color:#ff7b72;font-weight:700>=&gt;</span> _PhysicsEngineDemoState();
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ff7b72>class</span> <span style=color:#f0883e;font-weight:700>_PhysicsEngineDemoState</span> <span style=color:#ff7b72>extends</span> State<span style=color:#ff7b72;font-weight:700>&lt;</span>PhysicsEngineDemo<span style=color:#ff7b72;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>with</span> TickerProviderStateMixin {
</span></span><span style=display:flex><span>  late AnimationController _physicsController;
</span></span><span style=display:flex><span>  <span style=color:#ff7b72>final</span> List<span style=color:#ff7b72;font-weight:700>&lt;</span>Particle<span style=color:#ff7b72;font-weight:700>&gt;</span> _particles <span style=color:#ff7b72;font-weight:700>=</span> [];
</span></span><span style=display:flex><span>  late <span style=color:#ff7b72>double</span> _gravity <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#a5d6ff>980</span>; <span style=color:#8b949e;font-style:italic>// åƒç´ /ç§’Â²
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>  late <span style=color:#ff7b72>double</span> _restitution <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#a5d6ff>0.8</span>; <span style=color:#8b949e;font-style:italic>// å¼¹æ€§ç³»æ•°
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>
</span></span><span style=display:flex><span>  <span style=color:#f85149>@</span>override
</span></span><span style=display:flex><span>  <span style=color:#ff7b72>void</span> initState() {
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>super</span>.initState();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    _physicsController <span style=color:#ff7b72;font-weight:700>=</span> AnimationController(
</span></span><span style=display:flex><span>      <span style=color:#79c0ff;font-weight:700>duration:</span> <span style=color:#ff7b72>const</span> Duration(<span style=color:#79c0ff;font-weight:700>hours:</span> <span style=color:#a5d6ff>1</span>), <span style=color:#8b949e;font-style:italic>// å¾ˆé•¿çš„æŒç»­æ—¶é—´
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>      <span style=color:#79c0ff;font-weight:700>vsync:</span> <span style=color:#ff7b72>this</span>,
</span></span><span style=display:flex><span>    );
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic>// åˆå§‹åŒ–ç²’å­
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    _initializeParticles();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic>// å¼€å§‹ç‰©ç†æ¨¡æ‹Ÿ
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    _startPhysicsSimulation();
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#ff7b72>void</span> _initializeParticles() {
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>final</span> random <span style=color:#ff7b72;font-weight:700>=</span> math.Random();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>for</span> (<span style=color:#ff7b72>int</span> i <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#a5d6ff>0</span>; i <span style=color:#ff7b72;font-weight:700>&lt;</span> <span style=color:#a5d6ff>20</span>; i<span style=color:#ff7b72;font-weight:700>++</span>) {
</span></span><span style=display:flex><span>      _particles.add(Particle(
</span></span><span style=display:flex><span>        <span style=color:#79c0ff;font-weight:700>position:</span> Offset(
</span></span><span style=display:flex><span>          random.nextDouble() <span style=color:#ff7b72;font-weight:700>*</span> <span style=color:#a5d6ff>300</span> <span style=color:#ff7b72;font-weight:700>+</span> <span style=color:#a5d6ff>50</span>,
</span></span><span style=display:flex><span>          random.nextDouble() <span style=color:#ff7b72;font-weight:700>*</span> <span style=color:#a5d6ff>100</span>,
</span></span><span style=display:flex><span>        ),
</span></span><span style=display:flex><span>        <span style=color:#79c0ff;font-weight:700>velocity:</span> Offset(
</span></span><span style=display:flex><span>          (random.nextDouble() <span style=color:#ff7b72;font-weight:700>-</span> <span style=color:#a5d6ff>0.5</span>) <span style=color:#ff7b72;font-weight:700>*</span> <span style=color:#a5d6ff>200</span>,
</span></span><span style=display:flex><span>          random.nextDouble() <span style=color:#ff7b72;font-weight:700>*</span> <span style=color:#ff7b72;font-weight:700>-</span><span style=color:#a5d6ff>100</span>,
</span></span><span style=display:flex><span>        ),
</span></span><span style=display:flex><span>        <span style=color:#79c0ff;font-weight:700>radius:</span> random.nextDouble() <span style=color:#ff7b72;font-weight:700>*</span> <span style=color:#a5d6ff>20</span> <span style=color:#ff7b72;font-weight:700>+</span> <span style=color:#a5d6ff>10</span>,
</span></span><span style=display:flex><span>        <span style=color:#79c0ff;font-weight:700>color:</span> Colors.primaries[random.nextInt(Colors.primaries.length)],
</span></span><span style=display:flex><span>      ));
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#ff7b72>void</span> _startPhysicsSimulation() {
</span></span><span style=display:flex><span>    _physicsController.addListener(_updatePhysics);
</span></span><span style=display:flex><span>    _physicsController.repeat();
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#ff7b72>void</span> _updatePhysics() {
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>final</span> deltaTime <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#a5d6ff>0.016</span>; <span style=color:#8b949e;font-style:italic>// å‡è®¾60FPS
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>for</span> (<span style=color:#ff7b72>final</span> particle <span style=color:#ff7b72>in</span> _particles) {
</span></span><span style=display:flex><span>      <span style=color:#8b949e;font-style:italic>// åº”ç”¨é‡åŠ›
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>      particle.velocity <span style=color:#ff7b72;font-weight:700>+=</span> Offset(<span style=color:#a5d6ff>0</span>, _gravity <span style=color:#ff7b72;font-weight:700>*</span> deltaTime);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#8b949e;font-style:italic>// æ›´æ–°ä½ç½®
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>      particle.position <span style=color:#ff7b72;font-weight:700>+=</span> particle.velocity <span style=color:#ff7b72;font-weight:700>*</span> deltaTime;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#8b949e;font-style:italic>// è¾¹ç•Œç¢°æ’æ£€æµ‹
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>      _handleBoundaryCollision(particle);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic>// ç²’å­é—´ç¢°æ’æ£€æµ‹
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    _handleParticleCollisions();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    setState(() {});
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#ff7b72>void</span> _handleBoundaryCollision(Particle particle) {
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>final</span> size <span style=color:#ff7b72;font-weight:700>=</span> MediaQuery.of(context).size;
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>final</span> radius <span style=color:#ff7b72;font-weight:700>=</span> particle.radius;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic>// åº•éƒ¨ç¢°æ’
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    <span style=color:#ff7b72>if</span> (particle.position.dy <span style=color:#ff7b72;font-weight:700>+</span> radius <span style=color:#ff7b72;font-weight:700>&gt;</span> size.height <span style=color:#ff7b72;font-weight:700>-</span> <span style=color:#a5d6ff>100</span>) {
</span></span><span style=display:flex><span>      particle.position.dy <span style=color:#ff7b72;font-weight:700>=</span> size.height <span style=color:#ff7b72;font-weight:700>-</span> <span style=color:#a5d6ff>100</span> <span style=color:#ff7b72;font-weight:700>-</span> radius;
</span></span><span style=display:flex><span>      particle.velocity <span style=color:#ff7b72;font-weight:700>=</span> Offset(
</span></span><span style=display:flex><span>        particle.velocity.dx,
</span></span><span style=display:flex><span>        <span style=color:#ff7b72;font-weight:700>-</span>particle.velocity.dy <span style=color:#ff7b72;font-weight:700>*</span> _restitution,
</span></span><span style=display:flex><span>      );
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic>// å·¦å³è¾¹ç•Œç¢°æ’
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    <span style=color:#ff7b72>if</span> (particle.position.dx <span style=color:#ff7b72;font-weight:700>-</span> radius <span style=color:#ff7b72;font-weight:700>&lt;</span> <span style=color:#a5d6ff>0</span>) {
</span></span><span style=display:flex><span>      particle.position.dx <span style=color:#ff7b72;font-weight:700>=</span> radius;
</span></span><span style=display:flex><span>      particle.velocity <span style=color:#ff7b72;font-weight:700>=</span> Offset(
</span></span><span style=display:flex><span>        <span style=color:#ff7b72;font-weight:700>-</span>particle.velocity.dx <span style=color:#ff7b72;font-weight:700>*</span> _restitution,
</span></span><span style=display:flex><span>        particle.velocity.dy,
</span></span><span style=display:flex><span>      );
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>if</span> (particle.position.dx <span style=color:#ff7b72;font-weight:700>+</span> radius <span style=color:#ff7b72;font-weight:700>&gt;</span> size.width) {
</span></span><span style=display:flex><span>      particle.position.dx <span style=color:#ff7b72;font-weight:700>=</span> size.width <span style=color:#ff7b72;font-weight:700>-</span> radius;
</span></span><span style=display:flex><span>      particle.velocity <span style=color:#ff7b72;font-weight:700>=</span> Offset(
</span></span><span style=display:flex><span>        <span style=color:#ff7b72;font-weight:700>-</span>particle.velocity.dx <span style=color:#ff7b72;font-weight:700>*</span> _restitution,
</span></span><span style=display:flex><span>        particle.velocity.dy,
</span></span><span style=display:flex><span>      );
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#ff7b72>void</span> _handleParticleCollisions() {
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>for</span> (<span style=color:#ff7b72>int</span> i <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#a5d6ff>0</span>; i <span style=color:#ff7b72;font-weight:700>&lt;</span> _particles.length; i<span style=color:#ff7b72;font-weight:700>++</span>) {
</span></span><span style=display:flex><span>      <span style=color:#ff7b72>for</span> (<span style=color:#ff7b72>int</span> j <span style=color:#ff7b72;font-weight:700>=</span> i <span style=color:#ff7b72;font-weight:700>+</span> <span style=color:#a5d6ff>1</span>; j <span style=color:#ff7b72;font-weight:700>&lt;</span> _particles.length; j<span style=color:#ff7b72;font-weight:700>++</span>) {
</span></span><span style=display:flex><span>        <span style=color:#ff7b72>final</span> p1 <span style=color:#ff7b72;font-weight:700>=</span> _particles[i];
</span></span><span style=display:flex><span>        <span style=color:#ff7b72>final</span> p2 <span style=color:#ff7b72;font-weight:700>=</span> _particles[j];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#ff7b72>final</span> distance <span style=color:#ff7b72;font-weight:700>=</span> (p1.position <span style=color:#ff7b72;font-weight:700>-</span> p2.position).distance;
</span></span><span style=display:flex><span>        <span style=color:#ff7b72>final</span> minDistance <span style=color:#ff7b72;font-weight:700>=</span> p1.radius <span style=color:#ff7b72;font-weight:700>+</span> p2.radius;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#ff7b72>if</span> (distance <span style=color:#ff7b72;font-weight:700>&lt;</span> minDistance) {
</span></span><span style=display:flex><span>          <span style=color:#8b949e;font-style:italic>// ç¢°æ’å‘ç”Ÿ
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>          _resolveCollision(p1, p2, distance, minDistance);
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#ff7b72>void</span> _resolveCollision(Particle p1, Particle p2, <span style=color:#ff7b72>double</span> distance, <span style=color:#ff7b72>double</span> minDistance) {
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic>// è®¡ç®—ç¢°æ’æ³•çº¿
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    <span style=color:#ff7b72>final</span> normal <span style=color:#ff7b72;font-weight:700>=</span> (p2.position <span style=color:#ff7b72;font-weight:700>-</span> p1.position) <span style=color:#ff7b72;font-weight:700>/</span> distance;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic>// åˆ†ç¦»é‡å çš„ç²’å­
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    <span style=color:#ff7b72>final</span> overlap <span style=color:#ff7b72;font-weight:700>=</span> minDistance <span style=color:#ff7b72;font-weight:700>-</span> distance;
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>final</span> separation <span style=color:#ff7b72;font-weight:700>=</span> normal <span style=color:#ff7b72;font-weight:700>*</span> (overlap <span style=color:#ff7b72;font-weight:700>/</span> <span style=color:#a5d6ff>2</span>);
</span></span><span style=display:flex><span>    p1.position <span style=color:#ff7b72;font-weight:700>-=</span> separation;
</span></span><span style=display:flex><span>    p2.position <span style=color:#ff7b72;font-weight:700>+=</span> separation;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic>// è®¡ç®—ç›¸å¯¹é€Ÿåº¦
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    <span style=color:#ff7b72>final</span> relativeVelocity <span style=color:#ff7b72;font-weight:700>=</span> p1.velocity <span style=color:#ff7b72;font-weight:700>-</span> p2.velocity;
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>final</span> velocityAlongNormal <span style=color:#ff7b72;font-weight:700>=</span> relativeVelocity.dx <span style=color:#ff7b72;font-weight:700>*</span> normal.dx <span style=color:#ff7b72;font-weight:700>+</span> relativeVelocity.dy <span style=color:#ff7b72;font-weight:700>*</span> normal.dy;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic>// å¦‚æœç²’å­æ­£åœ¨åˆ†ç¦»ï¼Œä¸éœ€è¦å¤„ç†
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    <span style=color:#ff7b72>if</span> (velocityAlongNormal <span style=color:#ff7b72;font-weight:700>&gt;</span> <span style=color:#a5d6ff>0</span>) <span style=color:#ff7b72>return</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic>// è®¡ç®—ç¢°æ’åçš„é€Ÿåº¦
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    <span style=color:#ff7b72>final</span> restitution <span style=color:#ff7b72;font-weight:700>=</span> _restitution;
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>final</span> impulse <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#a5d6ff>2</span> <span style=color:#ff7b72;font-weight:700>*</span> velocityAlongNormal <span style=color:#ff7b72;font-weight:700>/</span> <span style=color:#a5d6ff>2</span>; <span style=color:#8b949e;font-style:italic>// å‡è®¾è´¨é‡ç›¸ç­‰
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    <span style=color:#ff7b72>final</span> impulseVector <span style=color:#ff7b72;font-weight:700>=</span> normal <span style=color:#ff7b72;font-weight:700>*</span> impulse <span style=color:#ff7b72;font-weight:700>*</span> restitution;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    p1.velocity <span style=color:#ff7b72;font-weight:700>-=</span> impulseVector;
</span></span><span style=display:flex><span>    p2.velocity <span style=color:#ff7b72;font-weight:700>+=</span> impulseVector;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#ff7b72>void</span> _addExplosion(Offset center) {
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>for</span> (<span style=color:#ff7b72>final</span> particle <span style=color:#ff7b72>in</span> _particles) {
</span></span><span style=display:flex><span>      <span style=color:#ff7b72>final</span> direction <span style=color:#ff7b72;font-weight:700>=</span> particle.position <span style=color:#ff7b72;font-weight:700>-</span> center;
</span></span><span style=display:flex><span>      <span style=color:#ff7b72>final</span> distance <span style=color:#ff7b72;font-weight:700>=</span> direction.distance;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#ff7b72>if</span> (distance <span style=color:#ff7b72;font-weight:700>&gt;</span> <span style=color:#a5d6ff>0</span>) {
</span></span><span style=display:flex><span>        <span style=color:#ff7b72>final</span> force <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#a5d6ff>50000</span> <span style=color:#ff7b72;font-weight:700>/</span> distance; <span style=color:#8b949e;font-style:italic>// çˆ†ç‚¸åŠ›éšè·ç¦»è¡°å‡
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>        <span style=color:#ff7b72>final</span> normalizedDirection <span style=color:#ff7b72;font-weight:700>=</span> direction <span style=color:#ff7b72;font-weight:700>/</span> distance;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        particle.velocity <span style=color:#ff7b72;font-weight:700>+=</span> normalizedDirection <span style=color:#ff7b72;font-weight:700>*</span> force;
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#f85149>@</span>override
</span></span><span style=display:flex><span>  Widget build(BuildContext context) {
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>return</span> Scaffold(
</span></span><span style=display:flex><span>      <span style=color:#79c0ff;font-weight:700>appBar:</span> AppBar(<span style=color:#79c0ff;font-weight:700>title:</span> <span style=color:#ff7b72>const</span> Text(<span style=color:#a5d6ff>&#39;Physics Engine&#39;</span>)),
</span></span><span style=display:flex><span>      <span style=color:#79c0ff;font-weight:700>body:</span> GestureDetector(
</span></span><span style=display:flex><span>        <span style=color:#79c0ff;font-weight:700>onTapUp:</span> (details) {
</span></span><span style=display:flex><span>          _addExplosion(details.localPosition);
</span></span><span style=display:flex><span>        },
</span></span><span style=display:flex><span>        <span style=color:#79c0ff;font-weight:700>child:</span> Container(
</span></span><span style=display:flex><span>          <span style=color:#79c0ff;font-weight:700>width:</span> <span style=color:#ff7b72>double</span>.infinity,
</span></span><span style=display:flex><span>          <span style=color:#79c0ff;font-weight:700>height:</span> <span style=color:#ff7b72>double</span>.infinity,
</span></span><span style=display:flex><span>          <span style=color:#79c0ff;font-weight:700>decoration:</span> BoxDecoration(
</span></span><span style=display:flex><span>            <span style=color:#79c0ff;font-weight:700>gradient:</span> LinearGradient(
</span></span><span style=display:flex><span>              <span style=color:#79c0ff;font-weight:700>begin:</span> Alignment.topCenter,
</span></span><span style=display:flex><span>              <span style=color:#79c0ff;font-weight:700>end:</span> Alignment.bottomCenter,
</span></span><span style=display:flex><span>              <span style=color:#79c0ff;font-weight:700>colors:</span> [
</span></span><span style=display:flex><span>                Colors.blue.shade100,
</span></span><span style=display:flex><span>                Colors.purple.shade100,
</span></span><span style=display:flex><span>              ],
</span></span><span style=display:flex><span>            ),
</span></span><span style=display:flex><span>          ),
</span></span><span style=display:flex><span>          <span style=color:#79c0ff;font-weight:700>child:</span> Stack(
</span></span><span style=display:flex><span>            <span style=color:#79c0ff;font-weight:700>children:</span> _particles.map((particle) {
</span></span><span style=display:flex><span>              <span style=color:#ff7b72>return</span> Positioned(
</span></span><span style=display:flex><span>                <span style=color:#79c0ff;font-weight:700>left:</span> particle.position.dx <span style=color:#ff7b72;font-weight:700>-</span> particle.radius,
</span></span><span style=display:flex><span>                <span style=color:#79c0ff;font-weight:700>top:</span> particle.position.dy <span style=color:#ff7b72;font-weight:700>-</span> particle.radius,
</span></span><span style=display:flex><span>                <span style=color:#79c0ff;font-weight:700>child:</span> Container(
</span></span><span style=display:flex><span>                  <span style=color:#79c0ff;font-weight:700>width:</span> particle.radius <span style=color:#ff7b72;font-weight:700>*</span> <span style=color:#a5d6ff>2</span>,
</span></span><span style=display:flex><span>                  <span style=color:#79c0ff;font-weight:700>height:</span> particle.radius <span style=color:#ff7b72;font-weight:700>*</span> <span style=color:#a5d6ff>2</span>,
</span></span><span style=display:flex><span>                  <span style=color:#79c0ff;font-weight:700>decoration:</span> BoxDecoration(
</span></span><span style=display:flex><span>                    <span style=color:#79c0ff;font-weight:700>color:</span> particle.color,
</span></span><span style=display:flex><span>                    <span style=color:#79c0ff;font-weight:700>shape:</span> BoxShape.circle,
</span></span><span style=display:flex><span>                    <span style=color:#79c0ff;font-weight:700>boxShadow:</span> [
</span></span><span style=display:flex><span>                      BoxShadow(
</span></span><span style=display:flex><span>                        <span style=color:#79c0ff;font-weight:700>color:</span> particle.color.withOpacity(<span style=color:#a5d6ff>0.5</span>),
</span></span><span style=display:flex><span>                        <span style=color:#79c0ff;font-weight:700>blurRadius:</span> particle.radius <span style=color:#ff7b72;font-weight:700>/</span> <span style=color:#a5d6ff>2</span>,
</span></span><span style=display:flex><span>                        <span style=color:#79c0ff;font-weight:700>spreadRadius:</span> particle.radius <span style=color:#ff7b72;font-weight:700>/</span> <span style=color:#a5d6ff>4</span>,
</span></span><span style=display:flex><span>                      ),
</span></span><span style=display:flex><span>                    ],
</span></span><span style=display:flex><span>                  ),
</span></span><span style=display:flex><span>                ),
</span></span><span style=display:flex><span>              );
</span></span><span style=display:flex><span>            }).toList(),
</span></span><span style=display:flex><span>          ),
</span></span><span style=display:flex><span>        ),
</span></span><span style=display:flex><span>      ),
</span></span><span style=display:flex><span>      <span style=color:#79c0ff;font-weight:700>floatingActionButton:</span> Column(
</span></span><span style=display:flex><span>        <span style=color:#79c0ff;font-weight:700>mainAxisSize:</span> MainAxisSize.min,
</span></span><span style=display:flex><span>        <span style=color:#79c0ff;font-weight:700>children:</span> [
</span></span><span style=display:flex><span>          FloatingActionButton(
</span></span><span style=display:flex><span>            <span style=color:#79c0ff;font-weight:700>onPressed:</span> () {
</span></span><span style=display:flex><span>              setState(() {
</span></span><span style=display:flex><span>                _particles.clear();
</span></span><span style=display:flex><span>                _initializeParticles();
</span></span><span style=display:flex><span>              });
</span></span><span style=display:flex><span>            },
</span></span><span style=display:flex><span>            <span style=color:#79c0ff;font-weight:700>child:</span> <span style=color:#ff7b72>const</span> Icon(Icons.refresh),
</span></span><span style=display:flex><span>          ),
</span></span><span style=display:flex><span>          <span style=color:#ff7b72>const</span> SizedBox(<span style=color:#79c0ff;font-weight:700>height:</span> <span style=color:#a5d6ff>10</span>),
</span></span><span style=display:flex><span>          FloatingActionButton(
</span></span><span style=display:flex><span>            <span style=color:#79c0ff;font-weight:700>onPressed:</span> () {
</span></span><span style=display:flex><span>              _gravity <span style=color:#ff7b72;font-weight:700>=</span> _gravity <span style=color:#ff7b72;font-weight:700>==</span> <span style=color:#a5d6ff>980</span> <span style=color:#ff7b72;font-weight:700>?</span> <span style=color:#a5d6ff>1960</span> <span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>980</span>;
</span></span><span style=display:flex><span>            },
</span></span><span style=display:flex><span>            <span style=color:#79c0ff;font-weight:700>child:</span> <span style=color:#ff7b72>const</span> Icon(Icons.arrow_downward),
</span></span><span style=display:flex><span>          ),
</span></span><span style=display:flex><span>        ],
</span></span><span style=display:flex><span>      ),
</span></span><span style=display:flex><span>    );
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic>// ç²’å­ç±»
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span><span style=color:#ff7b72>class</span> <span style=color:#f0883e;font-weight:700>Particle</span> {
</span></span><span style=display:flex><span>  Offset position;
</span></span><span style=display:flex><span>  Offset velocity;
</span></span><span style=display:flex><span>  <span style=color:#ff7b72>double</span> radius;
</span></span><span style=display:flex><span>  Color color;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  Particle({
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>required</span> <span style=color:#ff7b72>this</span>.position,
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>required</span> <span style=color:#ff7b72>this</span>.velocity,
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>required</span> <span style=color:#ff7b72>this</span>.radius,
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>required</span> <span style=color:#ff7b72>this</span>.color,
</span></span><span style=display:flex><span>  });
</span></span><span style=display:flex><span>}
</span></span></code></pre></td></tr></table></div></div><h2 id=é«˜çº§åŠ¨ç”»æ•ˆæœ>é«˜çº§åŠ¨ç”»æ•ˆæœ<a hidden class=anchor aria-hidden=true href=#é«˜çº§åŠ¨ç”»æ•ˆæœ>#</a></h2><h3 id=ç²’å­ç³»ç»Ÿ>ç²’å­ç³»ç»Ÿ<a hidden class=anchor aria-hidden=true href=#ç²’å­ç³»ç»Ÿ>#</a></h3><div class=highlight><div style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:2;-o-tab-size:2;tab-size:2><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 56
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 57
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 58
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 59
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 60
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 61
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 62
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 63
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 64
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 65
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 66
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 67
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 68
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 69
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 70
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 71
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 72
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 73
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 74
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 75
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 76
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 77
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 78
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 79
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 80
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 81
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 82
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 83
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 84
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 85
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 86
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 87
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 88
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 89
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 90
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 91
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 92
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 93
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 94
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 95
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 96
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 97
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 98
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 99
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">100
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">101
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">102
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">103
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">104
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">105
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">106
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">107
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">108
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">109
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">110
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">111
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">112
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">113
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">114
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">115
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">116
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">117
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">118
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">119
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">120
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">121
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">122
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">123
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">124
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">125
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">126
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">127
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">128
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">129
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">130
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">131
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">132
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">133
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">134
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">135
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">136
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">137
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">138
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">139
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">140
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">141
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">142
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">143
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">144
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">145
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">146
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">147
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">148
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">149
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">150
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">151
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">152
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">153
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">154
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">155
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">156
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">157
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">158
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">159
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">160
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">161
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">162
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">163
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">164
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">165
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">166
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">167
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">168
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">169
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">170
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">171
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">172
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">173
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">174
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">175
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">176
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">177
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">178
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">179
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">180
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">181
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">182
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">183
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">184
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">185
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">186
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">187
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">188
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">189
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">190
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">191
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">192
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">193
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">194
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">195
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">196
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">197
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">198
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-dart data-lang=dart><span style=display:flex><span><span style=color:#8b949e;font-style:italic>// é«˜æ€§èƒ½ç²’å­ç³»ç»Ÿ
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span><span style=color:#ff7b72>class</span> <span style=color:#f0883e;font-weight:700>ParticleSystem</span> <span style=color:#ff7b72>extends</span> StatefulWidget {
</span></span><span style=display:flex><span>  <span style=color:#ff7b72>final</span> ParticleConfig config;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#ff7b72>const</span> ParticleSystem({
</span></span><span style=display:flex><span>    Key<span style=color:#ff7b72;font-weight:700>?</span> key,
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>required</span> <span style=color:#ff7b72>this</span>.config,
</span></span><span style=display:flex><span>  }) <span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#ff7b72>super</span>(<span style=color:#79c0ff;font-weight:700>key:</span> key);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#f85149>@</span>override
</span></span><span style=display:flex><span>  _ParticleSystemState createState() <span style=color:#ff7b72;font-weight:700>=&gt;</span> _ParticleSystemState();
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ff7b72>class</span> <span style=color:#f0883e;font-weight:700>_ParticleSystemState</span> <span style=color:#ff7b72>extends</span> State<span style=color:#ff7b72;font-weight:700>&lt;</span>ParticleSystem<span style=color:#ff7b72;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>with</span> TickerProviderStateMixin {
</span></span><span style=display:flex><span>  late AnimationController _controller;
</span></span><span style=display:flex><span>  <span style=color:#ff7b72>final</span> List<span style=color:#ff7b72;font-weight:700>&lt;</span>Particle2<span style=color:#ff7b72;font-weight:700>&gt;</span> _particles <span style=color:#ff7b72;font-weight:700>=</span> [];
</span></span><span style=display:flex><span>  <span style=color:#ff7b72>final</span> Random _random <span style=color:#ff7b72;font-weight:700>=</span> Random();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#f85149>@</span>override
</span></span><span style=display:flex><span>  <span style=color:#ff7b72>void</span> initState() {
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>super</span>.initState();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    _controller <span style=color:#ff7b72;font-weight:700>=</span> AnimationController(
</span></span><span style=display:flex><span>      <span style=color:#79c0ff;font-weight:700>duration:</span> <span style=color:#ff7b72>const</span> Duration(<span style=color:#79c0ff;font-weight:700>seconds:</span> <span style=color:#a5d6ff>10</span>),
</span></span><span style=display:flex><span>      <span style=color:#79c0ff;font-weight:700>vsync:</span> <span style=color:#ff7b72>this</span>,
</span></span><span style=display:flex><span>    );
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    _initializeParticles();
</span></span><span style=display:flex><span>    _controller.repeat();
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#ff7b72>void</span> _initializeParticles() {
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>for</span> (<span style=color:#ff7b72>int</span> i <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#a5d6ff>0</span>; i <span style=color:#ff7b72;font-weight:700>&lt;</span> widget.config.particleCount; i<span style=color:#ff7b72;font-weight:700>++</span>) {
</span></span><span style=display:flex><span>      _particles.add(Particle2(
</span></span><span style=display:flex><span>        <span style=color:#79c0ff;font-weight:700>position:</span> widget.config.emitterPosition,
</span></span><span style=display:flex><span>        <span style=color:#79c0ff;font-weight:700>velocity:</span> _generateInitialVelocity(),
</span></span><span style=display:flex><span>        <span style=color:#79c0ff;font-weight:700>acceleration:</span> widget.config.acceleration,
</span></span><span style=display:flex><span>        <span style=color:#79c0ff;font-weight:700>life:</span> _random.nextDouble() <span style=color:#ff7b72;font-weight:700>*</span> widget.config.lifeSpan <span style=color:#ff7b72;font-weight:700>+</span> widget.config.lifeSpan <span style=color:#ff7b72;font-weight:700>/</span> <span style=color:#a5d6ff>2</span>,
</span></span><span style=display:flex><span>        <span style=color:#79c0ff;font-weight:700>maxLife:</span> widget.config.lifeSpan,
</span></span><span style=display:flex><span>        <span style=color:#79c0ff;font-weight:700>size:</span> _random.nextDouble() <span style=color:#ff7b72;font-weight:700>*</span> widget.config.sizeVariation <span style=color:#ff7b72;font-weight:700>+</span> widget.config.baseSize,
</span></span><span style=display:flex><span>        <span style=color:#79c0ff;font-weight:700>color:</span> widget.config.colors[_random.nextInt(widget.config.colors.length)],
</span></span><span style=display:flex><span>        <span style=color:#79c0ff;font-weight:700>fadeOut:</span> widget.config.fadeOut,
</span></span><span style=display:flex><span>      ));
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  Offset _generateInitialVelocity() {
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>final</span> angle <span style=color:#ff7b72;font-weight:700>=</span> _random.nextDouble() <span style=color:#ff7b72;font-weight:700>*</span> <span style=color:#a5d6ff>2</span> <span style=color:#ff7b72;font-weight:700>*</span> math.pi;
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>final</span> speed <span style=color:#ff7b72;font-weight:700>=</span> _random.nextDouble() <span style=color:#ff7b72;font-weight:700>*</span> widget.config.speedVariation <span style=color:#ff7b72;font-weight:700>+</span> widget.config.baseSpeed;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>return</span> Offset(
</span></span><span style=display:flex><span>      math.cos(angle) <span style=color:#ff7b72;font-weight:700>*</span> speed,
</span></span><span style=display:flex><span>      math.sin(angle) <span style=color:#ff7b72;font-weight:700>*</span> speed,
</span></span><span style=display:flex><span>    );
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#f85149>@</span>override
</span></span><span style=display:flex><span>  <span style=color:#ff7b72>void</span> dispose() {
</span></span><span style=display:flex><span>    _controller.dispose();
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>super</span>.dispose();
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#f85149>@</span>override
</span></span><span style=display:flex><span>  Widget build(BuildContext context) {
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>return</span> CustomPaint(
</span></span><span style=display:flex><span>      <span style=color:#79c0ff;font-weight:700>painter:</span> ParticlePainter(
</span></span><span style=display:flex><span>        <span style=color:#79c0ff;font-weight:700>particles:</span> _particles,
</span></span><span style=display:flex><span>        <span style=color:#79c0ff;font-weight:700>controller:</span> _controller,
</span></span><span style=display:flex><span>      ),
</span></span><span style=display:flex><span>      <span style=color:#79c0ff;font-weight:700>child:</span> Container(),
</span></span><span style=display:flex><span>    );
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic>// ç²’å­é…ç½®ç±»
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span><span style=color:#ff7b72>class</span> <span style=color:#f0883e;font-weight:700>ParticleConfig</span> {
</span></span><span style=display:flex><span>  <span style=color:#ff7b72>final</span> Offset emitterPosition;
</span></span><span style=display:flex><span>  <span style=color:#ff7b72>final</span> <span style=color:#ff7b72>int</span> particleCount;
</span></span><span style=display:flex><span>  <span style=color:#ff7b72>final</span> <span style=color:#ff7b72>double</span> baseSpeed;
</span></span><span style=display:flex><span>  <span style=color:#ff7b72>final</span> <span style=color:#ff7b72>double</span> speedVariation;
</span></span><span style=display:flex><span>  <span style=color:#ff7b72>final</span> <span style=color:#ff7b72>double</span> baseSize;
</span></span><span style=display:flex><span>  <span style=color:#ff7b72>final</span> <span style=color:#ff7b72>double</span> sizeVariation;
</span></span><span style=display:flex><span>  <span style=color:#ff7b72>final</span> <span style=color:#ff7b72>double</span> lifeSpan;
</span></span><span style=display:flex><span>  <span style=color:#ff7b72>final</span> List<span style=color:#ff7b72;font-weight:700>&lt;</span>Color<span style=color:#ff7b72;font-weight:700>&gt;</span> colors;
</span></span><span style=display:flex><span>  <span style=color:#ff7b72>final</span> <span style=color:#ff7b72>bool</span> fadeOut;
</span></span><span style=display:flex><span>  <span style=color:#ff7b72>final</span> Offset acceleration;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  ParticleConfig({
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>required</span> <span style=color:#ff7b72>this</span>.emitterPosition,
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>this</span>.particleCount <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#a5d6ff>100</span>,
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>this</span>.baseSpeed <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#a5d6ff>100</span>,
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>this</span>.speedVariation <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#a5d6ff>50</span>,
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>this</span>.baseSize <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#a5d6ff>5</span>,
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>this</span>.sizeVariation <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#a5d6ff>3</span>,
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>this</span>.lifeSpan <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#a5d6ff>3</span>,
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>this</span>.colors <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#ff7b72>const</span> [Colors.white, Colors.yellow, Colors.orange],
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>this</span>.fadeOut <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#79c0ff>true</span>,
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>this</span>.acceleration <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#ff7b72>const</span> Offset(<span style=color:#a5d6ff>0</span>, <span style=color:#a5d6ff>50</span>),
</span></span><span style=display:flex><span>  });
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic>// ç²’å­ç±»
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span><span style=color:#ff7b72>class</span> <span style=color:#f0883e;font-weight:700>Particle2</span> {
</span></span><span style=display:flex><span>  Offset position;
</span></span><span style=display:flex><span>  Offset velocity;
</span></span><span style=display:flex><span>  Offset acceleration;
</span></span><span style=display:flex><span>  <span style=color:#ff7b72>double</span> life;
</span></span><span style=display:flex><span>  <span style=color:#ff7b72>final</span> <span style=color:#ff7b72>double</span> maxLife;
</span></span><span style=display:flex><span>  <span style=color:#ff7b72>final</span> <span style=color:#ff7b72>double</span> size;
</span></span><span style=display:flex><span>  <span style=color:#ff7b72>final</span> Color color;
</span></span><span style=display:flex><span>  <span style=color:#ff7b72>final</span> <span style=color:#ff7b72>bool</span> fadeOut;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  Particle2({
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>required</span> <span style=color:#ff7b72>this</span>.position,
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>required</span> <span style=color:#ff7b72>this</span>.velocity,
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>this</span>.acceleration <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#ff7b72>const</span> Offset(<span style=color:#a5d6ff>0</span>, <span style=color:#a5d6ff>50</span>),
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>required</span> <span style=color:#ff7b72>this</span>.life,
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>required</span> <span style=color:#ff7b72>this</span>.maxLife,
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>required</span> <span style=color:#ff7b72>this</span>.size,
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>required</span> <span style=color:#ff7b72>this</span>.color,
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>this</span>.fadeOut <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#79c0ff>true</span>,
</span></span><span style=display:flex><span>  });
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#ff7b72>void</span> update(<span style=color:#ff7b72>double</span> deltaTime) {
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic>// æ›´æ–°é€Ÿåº¦
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    velocity <span style=color:#ff7b72;font-weight:700>+=</span> acceleration <span style=color:#ff7b72;font-weight:700>*</span> deltaTime;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic>// æ›´æ–°ä½ç½®
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    position <span style=color:#ff7b72;font-weight:700>+=</span> velocity <span style=color:#ff7b72;font-weight:700>*</span> deltaTime;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic>// æ›´æ–°ç”Ÿå‘½å€¼
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    life <span style=color:#ff7b72;font-weight:700>-=</span> deltaTime;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  Paint getPaint() {
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>final</span> paint <span style=color:#ff7b72;font-weight:700>=</span> Paint()
</span></span><span style=display:flex><span>      ..color <span style=color:#ff7b72;font-weight:700>=</span> color;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>if</span> (fadeOut) {
</span></span><span style=display:flex><span>      paint.color <span style=color:#ff7b72;font-weight:700>=</span> color.withOpacity(life <span style=color:#ff7b72;font-weight:700>/</span> maxLife);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>return</span> paint;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic>// ç²’å­ç»˜åˆ¶å™¨
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span><span style=color:#ff7b72>class</span> <span style=color:#f0883e;font-weight:700>ParticlePainter</span> <span style=color:#ff7b72>extends</span> CustomPainter {
</span></span><span style=display:flex><span>  <span style=color:#ff7b72>final</span> List<span style=color:#ff7b72;font-weight:700>&lt;</span>Particle2<span style=color:#ff7b72;font-weight:700>&gt;</span> particles;
</span></span><span style=display:flex><span>  <span style=color:#ff7b72>final</span> AnimationController controller;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  ParticlePainter({
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>required</span> <span style=color:#ff7b72>this</span>.particles,
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>required</span> <span style=color:#ff7b72>this</span>.controller,
</span></span><span style=display:flex><span>  });
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#f85149>@</span>override
</span></span><span style=display:flex><span>  <span style=color:#ff7b72>void</span> paint(Canvas canvas, Size size) {
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>final</span> deltaTime <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#a5d6ff>0.016</span>; <span style=color:#8b949e;font-style:italic>// å‡è®¾60FPS
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>for</span> (<span style=color:#ff7b72>final</span> particle <span style=color:#ff7b72>in</span> particles) {
</span></span><span style=display:flex><span>      <span style=color:#ff7b72>if</span> (particle.life <span style=color:#ff7b72;font-weight:700>&lt;=</span> <span style=color:#a5d6ff>0</span>) {
</span></span><span style=display:flex><span>        <span style=color:#8b949e;font-style:italic>// é‡ç½®ç²’å­
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>        _resetParticle(particle);
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      particle.update(deltaTime);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#ff7b72>if</span> (particle.life <span style=color:#ff7b72;font-weight:700>&gt;</span> <span style=color:#a5d6ff>0</span>) {
</span></span><span style=display:flex><span>        <span style=color:#ff7b72>final</span> paint <span style=color:#ff7b72;font-weight:700>=</span> particle.getPaint();
</span></span><span style=display:flex><span>        canvas.drawCircle(
</span></span><span style=display:flex><span>          particle.position,
</span></span><span style=display:flex><span>          particle.size <span style=color:#ff7b72;font-weight:700>*</span> (particle.life <span style=color:#ff7b72;font-weight:700>/</span> particle.maxLife),
</span></span><span style=display:flex><span>          paint,
</span></span><span style=display:flex><span>        );
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#ff7b72>void</span> _resetParticle(Particle particle) {
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>final</span> random <span style=color:#ff7b72;font-weight:700>=</span> Random();
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>final</span> angle <span style=color:#ff7b72;font-weight:700>=</span> random.nextDouble() <span style=color:#ff7b72;font-weight:700>*</span> <span style=color:#a5d6ff>2</span> <span style=color:#ff7b72;font-weight:700>*</span> math.pi;
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>final</span> speed <span style=color:#ff7b72;font-weight:700>=</span> random.nextDouble() <span style=color:#ff7b72;font-weight:700>*</span> <span style=color:#a5d6ff>50</span> <span style=color:#ff7b72;font-weight:700>+</span> <span style=color:#a5d6ff>100</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    particle.position <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#ff7b72>const</span> Offset(<span style=color:#a5d6ff>200</span>, <span style=color:#a5d6ff>300</span>);
</span></span><span style=display:flex><span>    particle.velocity <span style=color:#ff7b72;font-weight:700>=</span> Offset(
</span></span><span style=display:flex><span>      math.cos(angle) <span style=color:#ff7b72;font-weight:700>*</span> speed,
</span></span><span style=display:flex><span>      math.sin(angle) <span style=color:#ff7b72;font-weight:700>*</span> speed,
</span></span><span style=display:flex><span>    );
</span></span><span style=display:flex><span>    particle.life <span style=color:#ff7b72;font-weight:700>=</span> particle.maxLife;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#f85149>@</span>override
</span></span><span style=display:flex><span>  <span style=color:#ff7b72>bool</span> shouldRepaint(covariant ParticlePainter oldDelegate) {
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>return</span> <span style=color:#79c0ff>true</span>;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span></code></pre></td></tr></table></div></div><h3 id=å½¢æ€å˜æ¢åŠ¨ç”»>å½¢æ€å˜æ¢åŠ¨ç”»<a hidden class=anchor aria-hidden=true href=#å½¢æ€å˜æ¢åŠ¨ç”»>#</a></h3><div class=highlight><div style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:2;-o-tab-size:2;tab-size:2><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 56
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 57
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 58
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 59
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 60
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 61
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 62
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 63
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 64
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 65
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 66
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 67
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 68
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 69
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 70
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 71
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 72
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 73
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 74
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 75
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 76
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 77
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 78
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 79
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 80
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 81
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 82
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 83
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 84
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 85
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 86
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 87
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 88
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 89
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 90
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 91
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 92
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 93
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 94
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 95
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 96
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 97
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 98
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 99
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">100
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">101
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">102
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">103
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">104
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">105
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">106
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">107
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">108
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">109
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">110
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">111
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">112
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">113
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">114
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">115
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">116
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">117
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">118
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">119
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">120
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">121
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">122
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">123
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">124
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">125
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">126
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">127
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">128
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">129
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">130
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">131
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">132
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">133
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">134
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">135
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">136
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">137
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">138
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">139
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">140
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">141
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">142
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">143
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">144
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">145
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">146
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">147
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">148
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">149
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">150
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">151
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">152
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">153
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">154
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">155
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">156
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">157
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">158
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">159
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">160
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">161
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">162
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">163
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">164
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">165
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">166
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">167
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">168
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">169
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">170
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">171
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">172
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">173
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">174
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">175
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">176
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">177
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">178
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">179
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">180
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">181
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">182
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">183
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">184
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">185
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">186
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">187
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">188
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">189
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">190
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">191
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">192
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">193
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">194
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">195
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">196
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">197
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">198
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">199
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">200
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">201
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">202
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">203
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">204
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">205
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">206
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">207
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">208
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">209
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">210
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">211
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">212
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">213
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">214
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">215
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">216
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">217
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">218
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">219
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">220
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">221
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">222
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">223
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">224
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">225
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">226
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">227
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">228
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">229
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">230
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">231
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">232
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">233
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">234
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">235
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">236
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">237
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">238
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">239
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">240
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">241
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">242
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">243
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">244
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">245
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">246
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">247
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">248
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">249
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">250
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">251
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">252
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">253
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">254
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">255
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">256
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">257
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-dart data-lang=dart><span style=display:flex><span><span style=color:#8b949e;font-style:italic>// å¤æ‚çš„å½¢çŠ¶å˜æ¢åŠ¨ç”»
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span><span style=color:#ff7b72>class</span> <span style=color:#f0883e;font-weight:700>MorphingAnimation</span> <span style=color:#ff7b72>extends</span> StatefulWidget {
</span></span><span style=display:flex><span>  <span style=color:#ff7b72>const</span> MorphingAnimation({Key<span style=color:#ff7b72;font-weight:700>?</span> key}) <span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#ff7b72>super</span>(<span style=color:#79c0ff;font-weight:700>key:</span> key);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#f85149>@</span>override
</span></span><span style=display:flex><span>  _MorphingAnimationState createState() <span style=color:#ff7b72;font-weight:700>=&gt;</span> _MorphingAnimationState();
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ff7b72>class</span> <span style=color:#f0883e;font-weight:700>_MorphingAnimationState</span> <span style=color:#ff7b72>extends</span> State<span style=color:#ff7b72;font-weight:700>&lt;</span>MorphingAnimation<span style=color:#ff7b72;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>with</span> TickerProviderStateMixin {
</span></span><span style=display:flex><span>  late AnimationController _controller;
</span></span><span style=display:flex><span>  late Animation<span style=color:#ff7b72;font-weight:700>&lt;</span><span style=color:#ff7b72>double</span><span style=color:#ff7b72;font-weight:700>&gt;</span> _morphProgress;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#ff7b72>final</span> List<span style=color:#ff7b72;font-weight:700>&lt;</span>Offset<span style=color:#ff7b72;font-weight:700>&gt;</span> _circlePoints <span style=color:#ff7b72;font-weight:700>=</span> [];
</span></span><span style=display:flex><span>  <span style=color:#ff7b72>final</span> List<span style=color:#ff7b72;font-weight:700>&lt;</span>Offset<span style=color:#ff7b72;font-weight:700>&gt;</span> _squarePoints <span style=color:#ff7b72;font-weight:700>=</span> [];
</span></span><span style=display:flex><span>  <span style=color:#ff7b72>final</span> List<span style=color:#ff7b72;font-weight:700>&lt;</span>Offset<span style=color:#ff7b72;font-weight:700>&gt;</span> _starPoints <span style=color:#ff7b72;font-weight:700>=</span> [];
</span></span><span style=display:flex><span>  <span style=color:#ff7b72>final</span> List<span style=color:#ff7b72;font-weight:700>&lt;</span>Offset<span style=color:#ff7b72;font-weight:700>&gt;</span> _currentPoints <span style=color:#ff7b72;font-weight:700>=</span> [];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#f85149>@</span>override
</span></span><span style=display:flex><span>  <span style=color:#ff7b72>void</span> initState() {
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>super</span>.initState();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    _controller <span style=color:#ff7b72;font-weight:700>=</span> AnimationController(
</span></span><span style=display:flex><span>      <span style=color:#79c0ff;font-weight:700>duration:</span> <span style=color:#ff7b72>const</span> Duration(<span style=color:#79c0ff;font-weight:700>seconds:</span> <span style=color:#a5d6ff>4</span>),
</span></span><span style=display:flex><span>      <span style=color:#79c0ff;font-weight:700>vsync:</span> <span style=color:#ff7b72>this</span>,
</span></span><span style=display:flex><span>    );
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    _morphProgress <span style=color:#ff7b72;font-weight:700>=</span> Tween<span style=color:#ff7b72;font-weight:700>&lt;</span><span style=color:#ff7b72>double</span><span style=color:#ff7b72;font-weight:700>&gt;</span>(
</span></span><span style=display:flex><span>      <span style=color:#79c0ff;font-weight:700>begin:</span> <span style=color:#a5d6ff>0</span>,
</span></span><span style=display:flex><span>      <span style=color:#79c0ff;font-weight:700>end:</span> <span style=color:#a5d6ff>1</span>,
</span></span><span style=display:flex><span>    ).animate(CurvedAnimation(
</span></span><span style=display:flex><span>      <span style=color:#79c0ff;font-weight:700>parent:</span> _controller,
</span></span><span style=display:flex><span>      <span style=color:#79c0ff;font-weight:700>curve:</span> Curves.easeInOut,
</span></span><span style=display:flex><span>    ));
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    _generateShapePoints();
</span></span><span style=display:flex><span>    _controller.repeat(<span style=color:#79c0ff;font-weight:700>reverse:</span> <span style=color:#79c0ff>true</span>);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#ff7b72>void</span> _generateShapePoints() {
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>final</span> center <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#ff7b72>const</span> Offset(<span style=color:#a5d6ff>200</span>, <span style=color:#a5d6ff>200</span>);
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>final</span> radius <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#a5d6ff>100</span>;
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>const</span> pointCount <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#a5d6ff>32</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic>// ç”Ÿæˆåœ†å½¢ç‚¹
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    <span style=color:#ff7b72>for</span> (<span style=color:#ff7b72>int</span> i <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#a5d6ff>0</span>; i <span style=color:#ff7b72;font-weight:700>&lt;</span> pointCount; i<span style=color:#ff7b72;font-weight:700>++</span>) {
</span></span><span style=display:flex><span>      <span style=color:#ff7b72>final</span> angle <span style=color:#ff7b72;font-weight:700>=</span> (i <span style=color:#ff7b72;font-weight:700>/</span> pointCount) <span style=color:#ff7b72;font-weight:700>*</span> <span style=color:#a5d6ff>2</span> <span style=color:#ff7b72;font-weight:700>*</span> math.pi;
</span></span><span style=display:flex><span>      _circlePoints.add(
</span></span><span style=display:flex><span>        Offset(
</span></span><span style=display:flex><span>          center.dx <span style=color:#ff7b72;font-weight:700>+</span> radius <span style=color:#ff7b72;font-weight:700>*</span> math.cos(angle),
</span></span><span style=display:flex><span>          center.dy <span style=color:#ff7b72;font-weight:700>+</span> radius <span style=color:#ff7b72;font-weight:700>*</span> math.sin(angle),
</span></span><span style=display:flex><span>        ),
</span></span><span style=display:flex><span>      );
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic>// ç”Ÿæˆæ–¹å½¢ç‚¹
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    <span style=color:#ff7b72>final</span> squareSize <span style=color:#ff7b72;font-weight:700>=</span> radius <span style=color:#ff7b72;font-weight:700>*</span> <span style=color:#a5d6ff>1.5</span>;
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>for</span> (<span style=color:#ff7b72>int</span> i <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#a5d6ff>0</span>; i <span style=color:#ff7b72;font-weight:700>&lt;</span> pointCount; i<span style=color:#ff7b72;font-weight:700>++</span>) {
</span></span><span style=display:flex><span>      <span style=color:#ff7b72>final</span> t <span style=color:#ff7b72;font-weight:700>=</span> i <span style=color:#ff7b72;font-weight:700>/</span> pointCount;
</span></span><span style=display:flex><span>      late Offset point;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#ff7b72>if</span> (t <span style=color:#ff7b72;font-weight:700>&lt;</span> <span style=color:#a5d6ff>0.25</span>) {
</span></span><span style=display:flex><span>        <span style=color:#8b949e;font-style:italic>// ä¸Šè¾¹
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>        <span style=color:#ff7b72>final</span> localT <span style=color:#ff7b72;font-weight:700>=</span> t <span style=color:#ff7b72;font-weight:700>*</span> <span style=color:#a5d6ff>4</span>;
</span></span><span style=display:flex><span>        point <span style=color:#ff7b72;font-weight:700>=</span> Offset(
</span></span><span style=display:flex><span>          center.dx <span style=color:#ff7b72;font-weight:700>-</span> squareSize <span style=color:#ff7b72;font-weight:700>/</span> <span style=color:#a5d6ff>2</span> <span style=color:#ff7b72;font-weight:700>+</span> localT <span style=color:#ff7b72;font-weight:700>*</span> squareSize,
</span></span><span style=display:flex><span>          center.dy <span style=color:#ff7b72;font-weight:700>-</span> squareSize <span style=color:#ff7b72;font-weight:700>/</span> <span style=color:#a5d6ff>2</span>,
</span></span><span style=display:flex><span>        );
</span></span><span style=display:flex><span>      } <span style=color:#ff7b72>else</span> <span style=color:#ff7b72>if</span> (t <span style=color:#ff7b72;font-weight:700>&lt;</span> <span style=color:#a5d6ff>0.5</span>) {
</span></span><span style=display:flex><span>        <span style=color:#8b949e;font-style:italic>// å³è¾¹
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>        <span style=color:#ff7b72>final</span> localT <span style=color:#ff7b72;font-weight:700>=</span> (t <span style=color:#ff7b72;font-weight:700>-</span> <span style=color:#a5d6ff>0.25</span>) <span style=color:#ff7b72;font-weight:700>*</span> <span style=color:#a5d6ff>4</span>;
</span></span><span style=display:flex><span>        point <span style=color:#ff7b72;font-weight:700>=</span> Offset(
</span></span><span style=display:flex><span>          center.dx <span style=color:#ff7b72;font-weight:700>+</span> squareSize <span style=color:#ff7b72;font-weight:700>/</span> <span style=color:#a5d6ff>2</span>,
</span></span><span style=display:flex><span>          center.dy <span style=color:#ff7b72;font-weight:700>-</span> squareSize <span style=color:#ff7b72;font-weight:700>/</span> <span style=color:#a5d6ff>2</span> <span style=color:#ff7b72;font-weight:700>+</span> localT <span style=color:#ff7b72;font-weight:700>*</span> squareSize,
</span></span><span style=display:flex><span>        );
</span></span><span style=display:flex><span>      } <span style=color:#ff7b72>else</span> <span style=color:#ff7b72>if</span> (t <span style=color:#ff7b72;font-weight:700>&lt;</span> <span style=color:#a5d6ff>0.75</span>) {
</span></span><span style=display:flex><span>        <span style=color:#8b949e;font-style:italic>// ä¸‹è¾¹
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>        <span style=color:#ff7b72>final</span> localT <span style=color:#ff7b72;font-weight:700>=</span> (t <span style=color:#ff7b72;font-weight:700>-</span> <span style=color:#a5d6ff>0.5</span>) <span style=color:#ff7b72;font-weight:700>*</span> <span style=color:#a5d6ff>4</span>;
</span></span><span style=display:flex><span>        point <span style=color:#ff7b72;font-weight:700>=</span> Offset(
</span></span><span style=display:flex><span>          center.dx <span style=color:#ff7b72;font-weight:700>+</span> squareSize <span style=color:#ff7b72;font-weight:700>/</span> <span style=color:#a5d6ff>2</span> <span style=color:#ff7b72;font-weight:700>-</span> localT <span style=color:#ff7b72;font-weight:700>*</span> squareSize,
</span></span><span style=display:flex><span>          center.dy <span style=color:#ff7b72;font-weight:700>+</span> squareSize <span style=color:#ff7b72;font-weight:700>/</span> <span style=color:#a5d6ff>2</span>,
</span></span><span style=display:flex><span>        );
</span></span><span style=display:flex><span>      } <span style=color:#ff7b72>else</span> {
</span></span><span style=display:flex><span>        <span style=color:#8b949e;font-style:italic>// å·¦è¾¹
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>        <span style=color:#ff7b72>final</span> localT <span style=color:#ff7b72;font-weight:700>=</span> (t <span style=color:#ff7b72;font-weight:700>-</span> <span style=color:#a5d6ff>0.75</span>) <span style=color:#ff7b72;font-weight:700>*</span> <span style=color:#a5d6ff>4</span>;
</span></span><span style=display:flex><span>        point <span style=color:#ff7b72;font-weight:700>=</span> Offset(
</span></span><span style=display:flex><span>          center.dx <span style=color:#ff7b72;font-weight:700>-</span> squareSize <span style=color:#ff7b72;font-weight:700>/</span> <span style=color:#a5d6ff>2</span>,
</span></span><span style=display:flex><span>          center.dy <span style=color:#ff7b72;font-weight:700>+</span> squareSize <span style=color:#ff7b72;font-weight:700>/</span> <span style=color:#a5d6ff>2</span> <span style=color:#ff7b72;font-weight:700>-</span> localT <span style=color:#ff7b72;font-weight:700>*</span> squareSize,
</span></span><span style=display:flex><span>        );
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      _squarePoints.add(point);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic>// ç”Ÿæˆæ˜Ÿå½¢ç‚¹
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    <span style=color:#ff7b72>const</span> starPoints <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#a5d6ff>5</span>;
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>const</span> outerRadius <span style=color:#ff7b72;font-weight:700>=</span> radius;
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>const</span> innerRadius <span style=color:#ff7b72;font-weight:700>=</span> radius <span style=color:#ff7b72;font-weight:700>*</span> <span style=color:#a5d6ff>0.5</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>for</span> (<span style=color:#ff7b72>int</span> i <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#a5d6ff>0</span>; i <span style=color:#ff7b72;font-weight:700>&lt;</span> pointCount; i<span style=color:#ff7b72;font-weight:700>++</span>) {
</span></span><span style=display:flex><span>      <span style=color:#ff7b72>final</span> pointIndex <span style=color:#ff7b72;font-weight:700>=</span> (i <span style=color:#ff7b72;font-weight:700>*</span> starPoints <span style=color:#ff7b72;font-weight:700>/</span> pointCount).floor();
</span></span><span style=display:flex><span>      <span style=color:#ff7b72>final</span> t <span style=color:#ff7b72;font-weight:700>=</span> (i <span style=color:#ff7b72;font-weight:700>*</span> starPoints <span style=color:#ff7b72;font-weight:700>/</span> pointCount) <span style=color:#ff7b72;font-weight:700>-</span> pointIndex;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      late Offset point;
</span></span><span style=display:flex><span>      <span style=color:#ff7b72>final</span> angle <span style=color:#ff7b72;font-weight:700>=</span> (pointIndex <span style=color:#ff7b72;font-weight:700>/</span> starPoints) <span style=color:#ff7b72;font-weight:700>*</span> <span style=color:#a5d6ff>2</span> <span style=color:#ff7b72;font-weight:700>*</span> math.pi <span style=color:#ff7b72;font-weight:700>-</span> math.pi <span style=color:#ff7b72;font-weight:700>/</span> <span style=color:#a5d6ff>2</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#ff7b72>if</span> (pointIndex <span style=color:#ff7b72;font-weight:700>%</span> <span style=color:#a5d6ff>2</span> <span style=color:#ff7b72;font-weight:700>==</span> <span style=color:#a5d6ff>0</span>) {
</span></span><span style=display:flex><span>        <span style=color:#8b949e;font-style:italic>// å¤–é¡¶ç‚¹
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>        point <span style=color:#ff7b72;font-weight:700>=</span> Offset(
</span></span><span style=display:flex><span>          center.dx <span style=color:#ff7b72;font-weight:700>+</span> outerRadius <span style=color:#ff7b72;font-weight:700>*</span> math.cos(angle),
</span></span><span style=display:flex><span>          center.dy <span style=color:#ff7b72;font-weight:700>+</span> outerRadius <span style=color:#ff7b72;font-weight:700>*</span> math.sin(angle),
</span></span><span style=display:flex><span>        );
</span></span><span style=display:flex><span>      } <span style=color:#ff7b72>else</span> {
</span></span><span style=display:flex><span>        <span style=color:#8b949e;font-style:italic>// å†…é¡¶ç‚¹
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>        point <span style=color:#ff7b72;font-weight:700>=</span> Offset(
</span></span><span style=display:flex><span>          center.dx <span style=color:#ff7b72;font-weight:700>+</span> innerRadius <span style=color:#ff7b72;font-weight:700>*</span> math.cos(angle),
</span></span><span style=display:flex><span>          center.dy <span style=color:#ff7b72;font-weight:700>+</span> innerRadius <span style=color:#ff7b72;font-weight:700>*</span> math.sin(angle),
</span></span><span style=display:flex><span>        );
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      _starPoints.add(point);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic>// åˆå§‹åŒ–å½“å‰ç‚¹ä¸ºåœ†å½¢
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    _currentPoints.addAll(_circlePoints);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#ff7b72>void</span> _updateMorphing() {
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>final</span> progress <span style=color:#ff7b72;font-weight:700>=</span> _morphProgress.value;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic>// æ ¹æ®è¿›åº¦é€‰æ‹©ä¸åŒçš„å½¢çŠ¶ç»„åˆ
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    List<span style=color:#ff7b72;font-weight:700>&lt;</span>Offset<span style=color:#ff7b72;font-weight:700>&gt;</span> targetPoints;
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>String</span> shapeName;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>if</span> (progress <span style=color:#ff7b72;font-weight:700>&lt;</span> <span style=color:#a5d6ff>0.33</span>) {
</span></span><span style=display:flex><span>      <span style=color:#8b949e;font-style:italic>// åœ†å½¢åˆ°æ–¹å½¢
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>      <span style=color:#ff7b72>final</span> t <span style=color:#ff7b72;font-weight:700>=</span> progress <span style=color:#ff7b72;font-weight:700>/</span> <span style=color:#a5d6ff>0.33</span>;
</span></span><span style=display:flex><span>      targetPoints <span style=color:#ff7b72;font-weight:700>=</span> _squarePoints;
</span></span><span style=display:flex><span>      shapeName <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#a5d6ff>&#39;Circle â†’ Square&#39;</span>;
</span></span><span style=display:flex><span>    } <span style=color:#ff7b72>else</span> <span style=color:#ff7b72>if</span> (progress <span style=color:#ff7b72;font-weight:700>&lt;</span> <span style=color:#a5d6ff>0.66</span>) {
</span></span><span style=display:flex><span>      <span style=color:#8b949e;font-style:italic>// æ–¹å½¢åˆ°æ˜Ÿå½¢
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>      <span style=color:#ff7b72>final</span> t <span style=color:#ff7b72;font-weight:700>=</span> (progress <span style=color:#ff7b72;font-weight:700>-</span> <span style=color:#a5d6ff>0.33</span>) <span style=color:#ff7b72;font-weight:700>/</span> <span style=color:#a5d6ff>0.33</span>;
</span></span><span style=display:flex><span>      targetPoints <span style=color:#ff7b72;font-weight:700>=</span> _starPoints;
</span></span><span style=display:flex><span>      shapeName <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#a5d6ff>&#39;Square â†’ Star&#39;</span>;
</span></span><span style=display:flex><span>    } <span style=color:#ff7b72>else</span> {
</span></span><span style=display:flex><span>      <span style=color:#8b949e;font-style:italic>// æ˜Ÿå½¢åˆ°åœ†å½¢
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>      <span style=color:#ff7b72>final</span> t <span style=color:#ff7b72;font-weight:700>=</span> (progress <span style=color:#ff7b72;font-weight:700>-</span> <span style=color:#a5d6ff>0.66</span>) <span style=color:#ff7b72;font-weight:700>/</span> <span style=color:#a5d6ff>0.34</span>;
</span></span><span style=display:flex><span>      targetPoints <span style=color:#ff7b72;font-weight:700>=</span> _circlePoints;
</span></span><span style=display:flex><span>      shapeName <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#a5d6ff>&#39;Star â†’ Circle&#39;</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic>// ä½¿ç”¨æ’å€¼æ›´æ–°å½“å‰ç‚¹
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    <span style=color:#ff7b72>for</span> (<span style=color:#ff7b72>int</span> i <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#a5d6ff>0</span>; i <span style=color:#ff7b72;font-weight:700>&lt;</span> _currentPoints.length; i<span style=color:#ff7b72;font-weight:700>++</span>) {
</span></span><span style=display:flex><span>      <span style=color:#ff7b72>final</span> startPoint <span style=color:#ff7b72;font-weight:700>=</span> _currentPoints[i];
</span></span><span style=display:flex><span>      <span style=color:#ff7b72>final</span> endPoint <span style=color:#ff7b72;font-weight:700>=</span> targetPoints[i];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#8b949e;font-style:italic>// æ ¹æ®æ•´ä½“è¿›åº¦è®¡ç®—æ’å€¼
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>      <span style=color:#ff7b72>var</span> t <span style=color:#ff7b72;font-weight:700>=</span> _morphProgress.value;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#8b949e;font-style:italic>// åº”ç”¨ç¼“åŠ¨æ•ˆæœ
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>      t <span style=color:#ff7b72;font-weight:700>=</span> _applyEasing(t);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      _currentPoints[i] <span style=color:#ff7b72;font-weight:700>=</span> Offset.lerp(startPoint, endPoint, t)<span style=color:#ff7b72;font-weight:700>!</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#ff7b72>double</span> _applyEasing(<span style=color:#ff7b72>double</span> t) {
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic>// ä½¿ç”¨è‡ªå®šä¹‰ç¼“åŠ¨å‡½æ•°
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    <span style=color:#ff7b72>return</span> t <span style=color:#ff7b72;font-weight:700>&lt;</span> <span style=color:#a5d6ff>0.5</span>
</span></span><span style=display:flex><span>        <span style=color:#ff7b72;font-weight:700>?</span> <span style=color:#a5d6ff>2</span> <span style=color:#ff7b72;font-weight:700>*</span> t <span style=color:#ff7b72;font-weight:700>*</span> t
</span></span><span style=display:flex><span>        <span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>1</span> <span style=color:#ff7b72;font-weight:700>-</span> math.pow(<span style=color:#ff7b72;font-weight:700>-</span><span style=color:#a5d6ff>2</span> <span style=color:#ff7b72;font-weight:700>*</span> t <span style=color:#ff7b72;font-weight:700>+</span> <span style=color:#a5d6ff>2</span>, <span style=color:#a5d6ff>2</span>) <span style=color:#ff7b72;font-weight:700>/</span> <span style=color:#a5d6ff>2</span>;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#f85149>@</span>override
</span></span><span style=display:flex><span>  Widget build(BuildContext context) {
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>return</span> Scaffold(
</span></span><span style=display:flex><span>      <span style=color:#79c0ff;font-weight:700>appBar:</span> AppBar(
</span></span><span style=display:flex><span>        <span style=color:#79c0ff;font-weight:700>title:</span> <span style=color:#ff7b72>const</span> Text(<span style=color:#a5d6ff>&#39;Morphing Animation&#39;</span>),
</span></span><span style=display:flex><span>        <span style=color:#79c0ff;font-weight:700>actions:</span> [
</span></span><span style=display:flex><span>          IconButton(
</span></span><span style=display:flex><span>            <span style=color:#79c0ff;font-weight:700>icon:</span> <span style=color:#ff7b72>const</span> Icon(Icons.play_arrow),
</span></span><span style=display:flex><span>            <span style=color:#79c0ff;font-weight:700>onPressed:</span> () {
</span></span><span style=display:flex><span>              <span style=color:#ff7b72>if</span> (_controller.isAnimating) {
</span></span><span style=display:flex><span>                _controller.stop();
</span></span><span style=display:flex><span>              } <span style=color:#ff7b72>else</span> {
</span></span><span style=display:flex><span>                _controller.forward();
</span></span><span style=display:flex><span>              }
</span></span><span style=display:flex><span>            },
</span></span><span style=display:flex><span>          ),
</span></span><span style=display:flex><span>        ],
</span></span><span style=display:flex><span>      ),
</span></span><span style=display:flex><span>      <span style=color:#79c0ff;font-weight:700>body:</span> AnimatedBuilder(
</span></span><span style=display:flex><span>        <span style=color:#79c0ff;font-weight:700>animation:</span> _morphProgress,
</span></span><span style=display:flex><span>        <span style=color:#79c0ff;font-weight:700>builder:</span> (context, child) {
</span></span><span style=display:flex><span>          _updateMorphing();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>          <span style=color:#ff7b72>return</span> CustomPaint(
</span></span><span style=display:flex><span>            <span style=color:#79c0ff;font-weight:700>painter:</span> MorphingPainter(
</span></span><span style=display:flex><span>              <span style=color:#79c0ff;font-weight:700>points:</span> _currentPoints,
</span></span><span style=display:flex><span>              <span style=color:#79c0ff;font-weight:700>color:</span> Colors.blue,
</span></span><span style=display:flex><span>              <span style=color:#79c0ff;font-weight:700>strokeWidth:</span> <span style=color:#a5d6ff>3</span>,
</span></span><span style=display:flex><span>            ),
</span></span><span style=display:flex><span>            <span style=color:#79c0ff;font-weight:700>child:</span> <span style=color:#ff7b72>const</span> SizedBox.expand(),
</span></span><span style=display:flex><span>          );
</span></span><span style=display:flex><span>        },
</span></span><span style=display:flex><span>      ),
</span></span><span style=display:flex><span>    );
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic>// å˜å½¢ç»˜åˆ¶å™¨
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span><span style=color:#ff7b72>class</span> <span style=color:#f0883e;font-weight:700>MorphingPainter</span> <span style=color:#ff7b72>extends</span> CustomPainter {
</span></span><span style=display:flex><span>  <span style=color:#ff7b72>final</span> List<span style=color:#ff7b72;font-weight:700>&lt;</span>Offset<span style=color:#ff7b72;font-weight:700>&gt;</span> points;
</span></span><span style=display:flex><span>  <span style=color:#ff7b72>final</span> Color color;
</span></span><span style=display:flex><span>  <span style=color:#ff7b72>final</span> <span style=color:#ff7b72>double</span> strokeWidth;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  MorphingPainter({
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>required</span> <span style=color:#ff7b72>this</span>.points,
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>required</span> <span style=color:#ff7b72>this</span>.color,
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>this</span>.strokeWidth <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#a5d6ff>2</span>,
</span></span><span style=display:flex><span>  });
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#f85149>@</span>override
</span></span><span style=display:flex><span>  <span style=color:#ff7b72>void</span> paint(Canvas canvas, Size size) {
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>if</span> (points.isEmpty) <span style=color:#ff7b72>return</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>final</span> paint <span style=color:#ff7b72;font-weight:700>=</span> Paint()
</span></span><span style=display:flex><span>      ..color <span style=color:#ff7b72;font-weight:700>=</span> color
</span></span><span style=display:flex><span>      ..strokeWidth <span style=color:#ff7b72;font-weight:700>=</span> strokeWidth
</span></span><span style=display:flex><span>      ..style <span style=color:#ff7b72;font-weight:700>=</span> PaintingStyle.stroke
</span></span><span style=display:flex><span>      ..strokeCap <span style=color:#ff7b72;font-weight:700>=</span> StrokeCap.round
</span></span><span style=display:flex><span>      ..strokeJoin <span style=color:#ff7b72;font-weight:700>=</span> StrokeJoin.round;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>final</span> path <span style=color:#ff7b72;font-weight:700>=</span> Path()
</span></span><span style=display:flex><span>      ..addPolygon(points, <span style=color:#79c0ff>true</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic>// ç»˜åˆ¶å½¢çŠ¶è½®å»“
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    canvas.drawPath(path, paint);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic>// å¡«å……åŠé€æ˜é¢œè‰²
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    <span style=color:#ff7b72>final</span> fillPaint <span style=color:#ff7b72;font-weight:700>=</span> Paint()
</span></span><span style=display:flex><span>      ..color <span style=color:#ff7b72;font-weight:700>=</span> color.withOpacity(<span style=color:#a5d6ff>0.2</span>)
</span></span><span style=display:flex><span>      ..style <span style=color:#ff7b72;font-weight:700>=</span> PaintingStyle.fill;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    canvas.drawPath(path, fillPaint);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic>// ç»˜åˆ¶é¡¶ç‚¹
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    <span style=color:#ff7b72>for</span> (<span style=color:#ff7b72>final</span> point <span style=color:#ff7b72>in</span> points) {
</span></span><span style=display:flex><span>      canvas.drawCircle(point, <span style=color:#a5d6ff>4</span>, Paint()..color <span style=color:#ff7b72;font-weight:700>=</span> color);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#f85149>@</span>override
</span></span><span style=display:flex><span>  <span style=color:#ff7b72>bool</span> shouldRepaint(covariant MorphingPainter oldDelegate) {
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>return</span> oldDelegate.points <span style=color:#ff7b72;font-weight:700>!=</span> points;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span></code></pre></td></tr></table></div></div><h2 id=æ‰‹åŠ¿é©±åŠ¨åŠ¨ç”»>æ‰‹åŠ¿é©±åŠ¨åŠ¨ç”»<a hidden class=anchor aria-hidden=true href=#æ‰‹åŠ¿é©±åŠ¨åŠ¨ç”»>#</a></h2><h3 id=æ‹–æ‹½å’Œæ‰‹åŠ¿åŠ¨ç”»>æ‹–æ‹½å’Œæ‰‹åŠ¿åŠ¨ç”»<a hidden class=anchor aria-hidden=true href=#æ‹–æ‹½å’Œæ‰‹åŠ¿åŠ¨ç”»>#</a></h3><div class=highlight><div style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:2;-o-tab-size:2;tab-size:2><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 56
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 57
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 58
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 59
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 60
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 61
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 62
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 63
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 64
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 65
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 66
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 67
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 68
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 69
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 70
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 71
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 72
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 73
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 74
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 75
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 76
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 77
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 78
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 79
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 80
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 81
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 82
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 83
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 84
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 85
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 86
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 87
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 88
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 89
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 90
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 91
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 92
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 93
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 94
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 95
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 96
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 97
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 98
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 99
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">100
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">101
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">102
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">103
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">104
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">105
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">106
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">107
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">108
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">109
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">110
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">111
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">112
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">113
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">114
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">115
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">116
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">117
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">118
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">119
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">120
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">121
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">122
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">123
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">124
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">125
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">126
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">127
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">128
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">129
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">130
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">131
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">132
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">133
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">134
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">135
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">136
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">137
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">138
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">139
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">140
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">141
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">142
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">143
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">144
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">145
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">146
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">147
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">148
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">149
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">150
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">151
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">152
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">153
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">154
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">155
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">156
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">157
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">158
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">159
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">160
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">161
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">162
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">163
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">164
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">165
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">166
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">167
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">168
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">169
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">170
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">171
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">172
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">173
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">174
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">175
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">176
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">177
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">178
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">179
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">180
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">181
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">182
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">183
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">184
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">185
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">186
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">187
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">188
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">189
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">190
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">191
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">192
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">193
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">194
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">195
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">196
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">197
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">198
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">199
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">200
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">201
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">202
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">203
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">204
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">205
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">206
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">207
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">208
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">209
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">210
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">211
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">212
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">213
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">214
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">215
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">216
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">217
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">218
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">219
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">220
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">221
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">222
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">223
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">224
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">225
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">226
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">227
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">228
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">229
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">230
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">231
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">232
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">233
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">234
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">235
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">236
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">237
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">238
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">239
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">240
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">241
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">242
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">243
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">244
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">245
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">246
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">247
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">248
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">249
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">250
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">251
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">252
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">253
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-dart data-lang=dart><span style=display:flex><span><span style=color:#8b949e;font-style:italic>// æ‰‹åŠ¿é©±åŠ¨çš„å¼¹æ€§åŠ¨ç”»
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span><span style=color:#ff7b72>class</span> <span style=color:#f0883e;font-weight:700>GestureAnimation</span> <span style=color:#ff7b72>extends</span> StatefulWidget {
</span></span><span style=display:flex><span>  <span style=color:#ff7b72>const</span> GestureAnimation({Key<span style=color:#ff7b72;font-weight:700>?</span> key}) <span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#ff7b72>super</span>(<span style=color:#79c0ff;font-weight:700>key:</span> key);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#f85149>@</span>override
</span></span><span style=display:flex><span>  _GestureAnimationState createState() <span style=color:#ff7b72;font-weight:700>=&gt;</span> _GestureAnimationState();
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ff7b72>class</span> <span style=color:#f0883e;font-weight:700>_GestureAnimationState</span> <span style=color:#ff7b72>extends</span> State<span style=color:#ff7b72;font-weight:700>&lt;</span>GestureAnimation<span style=color:#ff7b72;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>with</span> TickerProviderStateMixin {
</span></span><span style=display:flex><span>  late AnimationController _animationController;
</span></span><span style=display:flex><span>  late AnimationController _bounceController;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#ff7b72>final</span> GlobalKey _cardKey <span style=color:#ff7b72;font-weight:700>=</span> GlobalKey();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#ff7b72>double</span> _rotation <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#a5d6ff>0</span>;
</span></span><span style=display:flex><span>  <span style=color:#ff7b72>double</span> _scale <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#a5d6ff>1</span>;
</span></span><span style=display:flex><span>  Offset _position <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#ff7b72>const</span> Offset(<span style=color:#a5d6ff>0</span>, <span style=color:#a5d6ff>0</span>);
</span></span><span style=display:flex><span>  <span style=color:#ff7b72>bool</span> _isDragging <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#79c0ff>false</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#f85149>@</span>override
</span></span><span style=display:flex><span>  <span style=color:#ff7b72>void</span> initState() {
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>super</span>.initState();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    _animationController <span style=color:#ff7b72;font-weight:700>=</span> AnimationController(
</span></span><span style=display:flex><span>      <span style=color:#79c0ff;font-weight:700>duration:</span> <span style=color:#ff7b72>const</span> Duration(<span style=color:#79c0ff;font-weight:700>milliseconds:</span> <span style=color:#a5d6ff>300</span>),
</span></span><span style=display:flex><span>      <span style=color:#79c0ff;font-weight:700>vsync:</span> <span style=color:#ff7b72>this</span>,
</span></span><span style=display:flex><span>    );
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    _bounceController <span style=color:#ff7b72;font-weight:700>=</span> AnimationController(
</span></span><span style=display:flex><span>      <span style=color:#79c0ff;font-weight:700>duration:</span> <span style=color:#ff7b72>const</span> Duration(<span style=color:#79c0ff;font-weight:700>milliseconds:</span> <span style=color:#a5d6ff>600</span>),
</span></span><span style=display:flex><span>      <span style=color:#79c0ff;font-weight:700>vsync:</span> <span style=color:#ff7b72>this</span>,
</span></span><span style=display:flex><span>    );
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#ff7b72>void</span> _onPanStart(DragStartDetails details) {
</span></span><span style=display:flex><span>    setState(() {
</span></span><span style=display:flex><span>      _isDragging <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#79c0ff>true</span>;
</span></span><span style=display:flex><span>    });
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    _animationController.stop();
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#ff7b72>void</span> _onPanUpdate(DragUpdateDetails details) {
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>final</span> RenderBox renderBox <span style=color:#ff7b72;font-weight:700>=</span> context.findRenderObject() <span style=color:#ff7b72;font-weight:700>as</span> RenderBox;
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>final</span> localPosition <span style=color:#ff7b72;font-weight:700>=</span> renderBox.globalToLocal(details.globalPosition);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    setState(() {
</span></span><span style=display:flex><span>      _position <span style=color:#ff7b72;font-weight:700>=</span> localPosition <span style=color:#ff7b72;font-weight:700>-</span> <span style=color:#ff7b72>const</span> Offset(<span style=color:#a5d6ff>200</span>, <span style=color:#a5d6ff>150</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#8b949e;font-style:italic>// æ ¹æ®æ‹–æ‹½è·ç¦»è®¡ç®—æ—‹è½¬
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>      _rotation <span style=color:#ff7b72;font-weight:700>=</span> _position.dx <span style=color:#ff7b72;font-weight:700>*</span> <span style=color:#a5d6ff>0.01</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#8b949e;font-style:italic>// æ‹–æ‹½æ—¶ç•¥å¾®æ”¾å¤§
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>      _scale <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#a5d6ff>1.05</span>;
</span></span><span style=display:flex><span>    });
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#ff7b72>void</span> _onPanEnd(DragEndDetails details) {
</span></span><span style=display:flex><span>    setState(() {
</span></span><span style=display:flex><span>      _isDragging <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#79c0ff>false</span>;
</span></span><span style=display:flex><span>    });
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic>// è®¡ç®—å›å¼¹åŠ¨ç”»
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    <span style=color:#ff7b72>final</span> velocity <span style=color:#ff7b72;font-weight:700>=</span> details.velocity.pixelsPerSecond;
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>final</span> distance <span style=color:#ff7b72;font-weight:700>=</span> (_position.distance <span style=color:#ff7b72;font-weight:700>+</span> <span style=color:#a5d6ff>100</span>).clamp(<span style=color:#a5d6ff>0.0</span>, <span style=color:#a5d6ff>300.0</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic>// ä½¿ç”¨å¼¹æ€§åŠ¨ç”»è¿”å›åŸä½
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    _animationController.animateTo(<span style=color:#a5d6ff>0</span>).then((_) {
</span></span><span style=display:flex><span>      <span style=color:#8b949e;font-style:italic>// è§¦å‘å¼¹è·³æ•ˆæœ
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>      _bounceController.forward().then((_) {
</span></span><span style=display:flex><span>        _bounceController.reverse();
</span></span><span style=display:flex><span>      });
</span></span><span style=display:flex><span>    });
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic>// æ·»åŠ æƒ¯æ€§æ•ˆæœ
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    _animateWithInertia(velocity, distance);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#ff7b72>void</span> _animateWithInertia(Offset velocity, <span style=color:#ff7b72>double</span> distance) {
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>final</span> inertiaAnimation <span style=color:#ff7b72;font-weight:700>=</span> Tween<span style=color:#ff7b72;font-weight:700>&lt;</span>Offset<span style=color:#ff7b72;font-weight:700>&gt;</span>(
</span></span><span style=display:flex><span>      <span style=color:#79c0ff;font-weight:700>begin:</span> _position,
</span></span><span style=display:flex><span>      <span style=color:#79c0ff;font-weight:700>end:</span> Offset.zero,
</span></span><span style=display:flex><span>    ).animate(CurvedAnimation(
</span></span><span style=display:flex><span>      <span style=color:#79c0ff;font-weight:700>parent:</span> _animationController,
</span></span><span style=display:flex><span>      <span style=color:#79c0ff;font-weight:700>curve:</span> Curves.elasticOut,
</span></span><span style=display:flex><span>    ));
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    inertiaAnimation.addListener(() {
</span></span><span style=display:flex><span>      setState(() {
</span></span><span style=display:flex><span>        _position <span style=color:#ff7b72;font-weight:700>=</span> inertiaAnimation.value;
</span></span><span style=display:flex><span>        _rotation <span style=color:#ff7b72;font-weight:700>=</span> _position.dx <span style=color:#ff7b72;font-weight:700>*</span> <span style=color:#a5d6ff>0.01</span>;
</span></span><span style=display:flex><span>        _scale <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#a5d6ff>1</span> <span style=color:#ff7b72;font-weight:700>+</span> distance <span style=color:#ff7b72;font-weight:700>*</span> <span style=color:#a5d6ff>0.0002</span> <span style=color:#ff7b72;font-weight:700>*</span> (<span style=color:#a5d6ff>1</span> <span style=color:#ff7b72;font-weight:700>-</span> inertiaAnimation.value.distance);
</span></span><span style=display:flex><span>      });
</span></span><span style=display:flex><span>    });
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    _animationController.forward(<span style=color:#79c0ff;font-weight:700>from:</span> _animationController.value);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#ff7b72>void</span> _onTap() {
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic>// ç‚¹å‡»æ—¶çš„å¼¹è·³åŠ¨ç”»
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    _bounceController.forward().then((_) {
</span></span><span style=display:flex><span>      _bounceController.reverse();
</span></span><span style=display:flex><span>    });
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#f85149>@</span>override
</span></span><span style=display:flex><span>  Widget build(BuildContext context) {
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>return</span> Scaffold(
</span></span><span style=display:flex><span>      <span style=color:#79c0ff;font-weight:700>appBar:</span> AppBar(<span style=color:#79c0ff;font-weight:700>title:</span> <span style=color:#ff7b72>const</span> Text(<span style=color:#a5d6ff>&#39;Gesture Animation&#39;</span>)),
</span></span><span style=display:flex><span>      <span style=color:#79c0ff;font-weight:700>body:</span> Center(
</span></span><span style=display:flex><span>        <span style=color:#79c0ff;font-weight:700>child:</span> GestureDetector(
</span></span><span style=display:flex><span>          <span style=color:#79c0ff;font-weight:700>onPanStart:</span> _onPanStart,
</span></span><span style=display:flex><span>          <span style=color:#79c0ff;font-weight:700>onPanUpdate:</span> _onPanUpdate,
</span></span><span style=display:flex><span>          <span style=color:#79c0ff;font-weight:700>onPanEnd:</span> _onPanEnd,
</span></span><span style=display:flex><span>          <span style=color:#79c0ff;font-weight:700>onTap:</span> _onTap,
</span></span><span style=display:flex><span>          <span style=color:#79c0ff;font-weight:700>child:</span> Container(
</span></span><span style=display:flex><span>            <span style=color:#79c0ff;font-weight:700>width:</span> <span style=color:#a5d6ff>400</span>,
</span></span><span style=display:flex><span>            <span style=color:#79c0ff;font-weight:700>height:</span> <span style=color:#a5d6ff>400</span>,
</span></span><span style=display:flex><span>            <span style=color:#79c0ff;font-weight:700>decoration:</span> BoxDecoration(
</span></span><span style=display:flex><span>              <span style=color:#79c0ff;font-weight:700>border:</span> Border.all(<span style=color:#79c0ff;font-weight:700>color:</span> Colors.grey.shade300),
</span></span><span style=display:flex><span>              <span style=color:#79c0ff;font-weight:700>borderRadius:</span> BorderRadius.circular(<span style=color:#a5d6ff>20</span>),
</span></span><span style=display:flex><span>            ),
</span></span><span style=display:flex><span>            <span style=color:#79c0ff;font-weight:700>child:</span> Stack(
</span></span><span style=display:flex><span>              <span style=color:#79c0ff;font-weight:700>children:</span> [
</span></span><span style=display:flex><span>                <span style=color:#8b949e;font-style:italic>// å‚è€ƒç½‘æ ¼
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>                CustomPaint(
</span></span><span style=display:flex><span>                  <span style=color:#79c0ff;font-weight:700>size:</span> <span style=color:#ff7b72>const</span> Size(<span style=color:#a5d6ff>400</span>, <span style=color:#a5d6ff>400</span>),
</span></span><span style=display:flex><span>                  <span style=color:#79c0ff;font-weight:700>painter:</span> GridPainter(),
</span></span><span style=display:flex><span>                ),
</span></span><span style=display:flex><span>                <span style=color:#8b949e;font-style:italic>// å¯æ‹–æ‹½å¡ç‰‡
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>                AnimatedBuilder(
</span></span><span style=display:flex><span>                  <span style=color:#79c0ff;font-weight:700>animation:</span> Listenable.merge([
</span></span><span style=display:flex><span>                    _animationController,
</span></span><span style=display:flex><span>                    _bounceController,
</span></span><span style=display:flex><span>                  ]),
</span></span><span style=display:flex><span>                  <span style=color:#79c0ff;font-weight:700>builder:</span> (context, child) {
</span></span><span style=display:flex><span>                    <span style=color:#ff7b72>return</span> Transform.translate(
</span></span><span style=display:flex><span>                      <span style=color:#79c0ff;font-weight:700>offset:</span> _position,
</span></span><span style=display:flex><span>                      <span style=color:#79c0ff;font-weight:700>child:</span> Transform.rotate(
</span></span><span style=display:flex><span>                        <span style=color:#79c0ff;font-weight:700>angle:</span> _rotation,
</span></span><span style=display:flex><span>                        <span style=color:#79c0ff;font-weight:700>child:</span> Transform.scale(
</span></span><span style=display:flex><span>                          <span style=color:#79c0ff;font-weight:700>scale:</span> _scale <span style=color:#ff7b72;font-weight:700>*</span> (<span style=color:#a5d6ff>1</span> <span style=color:#ff7b72;font-weight:700>+</span> _bounceController.value <span style=color:#ff7b72;font-weight:700>*</span> <span style=color:#a5d6ff>0.1</span>),
</span></span><span style=display:flex><span>                          <span style=color:#79c0ff;font-weight:700>child:</span> Container(
</span></span><span style=display:flex><span>                            <span style=color:#79c0ff;font-weight:700>key:</span> _cardKey,
</span></span><span style=display:flex><span>                            <span style=color:#79c0ff;font-weight:700>width:</span> <span style=color:#a5d6ff>300</span>,
</span></span><span style=display:flex><span>                            <span style=color:#79c0ff;font-weight:700>height:</span> <span style=color:#a5d6ff>200</span>,
</span></span><span style=display:flex><span>                            <span style=color:#79c0ff;font-weight:700>decoration:</span> BoxDecoration(
</span></span><span style=display:flex><span>                              <span style=color:#79c0ff;font-weight:700>gradient:</span> LinearGradient(
</span></span><span style=display:flex><span>                                <span style=color:#79c0ff;font-weight:700>colors:</span> [
</span></span><span style=display:flex><span>                                  Colors.blue.shade400,
</span></span><span style=display:flex><span>                                  Colors.purple.shade600,
</span></span><span style=display:flex><span>                                ],
</span></span><span style=display:flex><span>                                <span style=color:#79c0ff;font-weight:700>begin:</span> Alignment.topLeft,
</span></span><span style=display:flex><span>                                <span style=color:#79c0ff;font-weight:700>end:</span> Alignment.bottomRight,
</span></span><span style=display:flex><span>                              ),
</span></span><span style=display:flex><span>                              <span style=color:#79c0ff;font-weight:700>borderRadius:</span> BorderRadius.circular(<span style=color:#a5d6ff>20</span>),
</span></span><span style=display:flex><span>                              <span style=color:#79c0ff;font-weight:700>boxShadow:</span> [
</span></span><span style=display:flex><span>                                BoxShadow(
</span></span><span style=display:flex><span>                                  <span style=color:#79c0ff;font-weight:700>color:</span> Colors.black.withOpacity(_isDragging <span style=color:#ff7b72;font-weight:700>?</span> <span style=color:#a5d6ff>0.3</span> <span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>0.2</span>),
</span></span><span style=display:flex><span>                                  <span style=color:#79c0ff;font-weight:700>blurRadius:</span> _isDragging <span style=color:#ff7b72;font-weight:700>?</span> <span style=color:#a5d6ff>20</span> <span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>10</span>,
</span></span><span style=display:flex><span>                                  <span style=color:#79c0ff;font-weight:700>offset:</span> Offset(
</span></span><span style=display:flex><span>                                    _isDragging <span style=color:#ff7b72;font-weight:700>?</span> _position.dx <span style=color:#ff7b72;font-weight:700>*</span> <span style=color:#a5d6ff>0.1</span> <span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>0</span>,
</span></span><span style=display:flex><span>                                    _isDragging <span style=color:#ff7b72;font-weight:700>?</span> _position.dy <span style=color:#ff7b72;font-weight:700>*</span> <span style=color:#a5d6ff>0.1</span> <span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>5</span>,
</span></span><span style=display:flex><span>                                  ),
</span></span><span style=display:flex><span>                                ),
</span></span><span style=display:flex><span>                              ],
</span></span><span style=display:flex><span>                            ),
</span></span><span style=display:flex><span>                            <span style=color:#79c0ff;font-weight:700>child:</span> <span style=color:#ff7b72>const</span> Center(
</span></span><span style=display:flex><span>                              <span style=color:#79c0ff;font-weight:700>child:</span> Column(
</span></span><span style=display:flex><span>                                <span style=color:#79c0ff;font-weight:700>mainAxisAlignment:</span> MainAxisAlignment.center,
</span></span><span style=display:flex><span>                                <span style=color:#79c0ff;font-weight:700>children:</span> [
</span></span><span style=display:flex><span>                                  Icon(
</span></span><span style=display:flex><span>                                    Icons.touch_app,
</span></span><span style=display:flex><span>                                    <span style=color:#79c0ff;font-weight:700>color:</span> Colors.white,
</span></span><span style=display:flex><span>                                    <span style=color:#79c0ff;font-weight:700>size:</span> <span style=color:#a5d6ff>48</span>,
</span></span><span style=display:flex><span>                                  ),
</span></span><span style=display:flex><span>                                  SizedBox(<span style=color:#79c0ff;font-weight:700>height:</span> <span style=color:#a5d6ff>8</span>),
</span></span><span style=display:flex><span>                                  Text(
</span></span><span style=display:flex><span>                                    <span style=color:#a5d6ff>&#39;Drag Me!&#39;</span>,
</span></span><span style=display:flex><span>                                    <span style=color:#79c0ff;font-weight:700>style:</span> TextStyle(
</span></span><span style=display:flex><span>                                      <span style=color:#79c0ff;font-weight:700>color:</span> Colors.white,
</span></span><span style=display:flex><span>                                      <span style=color:#79c0ff;font-weight:700>fontSize:</span> <span style=color:#a5d6ff>24</span>,
</span></span><span style=display:flex><span>                                      <span style=color:#79c0ff;font-weight:700>fontWeight:</span> FontWeight.bold,
</span></span><span style=display:flex><span>                                    ),
</span></span><span style=display:flex><span>                                  ),
</span></span><span style=display:flex><span>                                ],
</span></span><span style=display:flex><span>                              ),
</span></span><span style=display:flex><span>                            ),
</span></span><span style=display:flex><span>                          ),
</span></span><span style=display:flex><span>                        ),
</span></span><span style=display:flex><span>                      ),
</span></span><span style=display:flex><span>                    );
</span></span><span style=display:flex><span>                  },
</span></span><span style=display:flex><span>                ),
</span></span><span style=display:flex><span>              ],
</span></span><span style=display:flex><span>            ),
</span></span><span style=display:flex><span>          ),
</span></span><span style=display:flex><span>        ),
</span></span><span style=display:flex><span>      ),
</span></span><span style=display:flex><span>    );
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic>// ç½‘æ ¼ç»˜åˆ¶å™¨
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span><span style=color:#ff7b72>class</span> <span style=color:#f0883e;font-weight:700>GridPainter</span> <span style=color:#ff7b72>extends</span> CustomPainter {
</span></span><span style=display:flex><span>  <span style=color:#f85149>@</span>override
</span></span><span style=display:flex><span>  <span style=color:#ff7b72>void</span> paint(Canvas canvas, Size size) {
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>final</span> paint <span style=color:#ff7b72;font-weight:700>=</span> Paint()
</span></span><span style=display:flex><span>      ..color <span style=color:#ff7b72;font-weight:700>=</span> Colors.grey.shade300
</span></span><span style=display:flex><span>      ..strokeWidth <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#a5d6ff>0.5</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>const</span> gridSize <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#a5d6ff>50.0</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic>// ç»˜åˆ¶å‚ç›´çº¿
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    <span style=color:#ff7b72>for</span> (<span style=color:#ff7b72>double</span> x <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#a5d6ff>0</span>; x <span style=color:#ff7b72;font-weight:700>&lt;</span> size.width; x <span style=color:#ff7b72;font-weight:700>+=</span> gridSize) {
</span></span><span style=display:flex><span>      canvas.drawLine(
</span></span><span style=display:flex><span>        Offset(x, <span style=color:#a5d6ff>0</span>),
</span></span><span style=display:flex><span>        Offset(x, size.height),
</span></span><span style=display:flex><span>        paint,
</span></span><span style=display:flex><span>      );
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic>// ç»˜åˆ¶æ°´å¹³çº¿
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    <span style=color:#ff7b72>for</span> (<span style=color:#ff7b72>double</span> y <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#a5d6ff>0</span>; y <span style=color:#ff7b72;font-weight:700>&lt;</span> size.height; y <span style=color:#ff7b72;font-weight:700>+=</span> gridSize) {
</span></span><span style=display:flex><span>      canvas.drawLine(
</span></span><span style=display:flex><span>        Offset(<span style=color:#a5d6ff>0</span>, y),
</span></span><span style=display:flex><span>        Offset(size.width, y),
</span></span><span style=display:flex><span>        paint,
</span></span><span style=display:flex><span>      );
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic>// ç»˜åˆ¶ä¸­å¿ƒåå­—
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    <span style=color:#ff7b72>final</span> centerPaint <span style=color:#ff7b72;font-weight:700>=</span> Paint()
</span></span><span style=display:flex><span>      ..color <span style=color:#ff7b72;font-weight:700>=</span> Colors.grey.shade500
</span></span><span style=display:flex><span>      ..strokeWidth <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#a5d6ff>1</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    canvas.drawLine(
</span></span><span style=display:flex><span>      <span style=color:#ff7b72>const</span> Offset(<span style=color:#a5d6ff>200</span>, <span style=color:#a5d6ff>0</span>),
</span></span><span style=display:flex><span>      <span style=color:#ff7b72>const</span> Offset(<span style=color:#a5d6ff>200</span>, <span style=color:#a5d6ff>400</span>),
</span></span><span style=display:flex><span>      centerPaint,
</span></span><span style=display:flex><span>    );
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    canvas.drawLine(
</span></span><span style=display:flex><span>      <span style=color:#ff7b72>const</span> Offset(<span style=color:#a5d6ff>0</span>, <span style=color:#a5d6ff>200</span>),
</span></span><span style=display:flex><span>      <span style=color:#ff7b72>const</span> Offset(<span style=color:#a5d6ff>400</span>, <span style=color:#a5d6ff>200</span>),
</span></span><span style=display:flex><span>      centerPaint,
</span></span><span style=display:flex><span>    );
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#f85149>@</span>override
</span></span><span style=display:flex><span>  <span style=color:#ff7b72>bool</span> shouldRepaint(covariant CustomPainter oldDelegate) <span style=color:#ff7b72;font-weight:700>=&gt;</span> <span style=color:#79c0ff>false</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></td></tr></table></div></div><h2 id=æ€§èƒ½ä¼˜åŒ–æŠ€å·§>æ€§èƒ½ä¼˜åŒ–æŠ€å·§<a hidden class=anchor aria-hidden=true href=#æ€§èƒ½ä¼˜åŒ–æŠ€å·§>#</a></h2><h3 id=åŠ¨ç”»æ€§èƒ½ç›‘æ§>åŠ¨ç”»æ€§èƒ½ç›‘æ§<a hidden class=anchor aria-hidden=true href=#åŠ¨ç”»æ€§èƒ½ç›‘æ§>#</a></h3><div class=highlight><div style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:2;-o-tab-size:2;tab-size:2><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 56
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 57
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 58
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 59
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 60
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 61
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 62
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 63
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 64
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 65
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 66
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 67
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 68
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 69
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 70
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 71
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 72
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 73
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 74
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 75
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 76
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 77
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 78
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 79
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 80
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 81
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 82
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 83
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 84
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 85
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 86
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 87
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 88
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 89
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 90
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 91
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 92
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 93
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 94
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 95
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 96
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 97
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 98
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 99
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">100
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">101
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">102
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">103
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">104
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">105
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">106
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">107
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">108
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">109
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">110
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">111
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">112
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">113
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">114
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">115
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">116
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">117
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">118
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">119
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">120
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">121
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">122
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">123
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">124
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">125
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">126
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">127
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">128
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">129
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">130
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">131
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">132
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">133
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">134
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">135
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">136
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">137
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">138
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">139
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">140
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">141
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">142
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">143
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">144
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">145
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">146
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">147
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">148
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">149
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">150
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">151
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">152
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">153
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">154
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">155
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">156
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">157
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-dart data-lang=dart><span style=display:flex><span><span style=color:#8b949e;font-style:italic>// åŠ¨ç”»æ€§èƒ½ç›‘æ§å™¨
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span><span style=color:#ff7b72>class</span> <span style=color:#f0883e;font-weight:700>AnimationPerformanceMonitor</span> {
</span></span><span style=display:flex><span>  <span style=color:#ff7b72>static</span> <span style=color:#ff7b72>final</span> AnimationPerformanceMonitor _instance <span style=color:#ff7b72;font-weight:700>=</span> AnimationPerformanceMonitor._internal();
</span></span><span style=display:flex><span>  <span style=color:#ff7b72>factory</span> AnimationPerformanceMonitor() <span style=color:#ff7b72;font-weight:700>=&gt;</span> _instance;
</span></span><span style=display:flex><span>  AnimationPerformanceMonitor._internal();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#ff7b72>final</span> List<span style=color:#ff7b72;font-weight:700>&lt;</span>PerformanceMetric<span style=color:#ff7b72;font-weight:700>&gt;</span> _metrics <span style=color:#ff7b72;font-weight:700>=</span> [];
</span></span><span style=display:flex><span>  <span style=color:#ff7b72>bool</span> _isMonitoring <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#79c0ff>false</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#ff7b72>void</span> startMonitoring() {
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>if</span> (_isMonitoring) <span style=color:#ff7b72>return</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    _isMonitoring <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#79c0ff>true</span>;
</span></span><span style=display:flex><span>    WidgetsBinding.instance.addPostFrameCallback(_onFrame);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#ff7b72>void</span> stopMonitoring() {
</span></span><span style=display:flex><span>    _isMonitoring <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#79c0ff>false</span>;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#ff7b72>void</span> _onFrame(Duration timestamp) {
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>if</span> (<span style=color:#ff7b72;font-weight:700>!</span>_isMonitoring) <span style=color:#ff7b72>return</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>final</span> renderer <span style=color:#ff7b72;font-weight:700>=</span> WidgetsBinding.instance.renderObject;
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>final</span> frameTime <span style=color:#ff7b72;font-weight:700>=</span> timestamp.inMicroseconds <span style=color:#ff7b72;font-weight:700>/</span> <span style=color:#a5d6ff>1000</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic>// è®°å½•æ€§èƒ½æŒ‡æ ‡
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    <span style=color:#ff7b72>final</span> metric <span style=color:#ff7b72;font-weight:700>=</span> PerformanceMetric(
</span></span><span style=display:flex><span>      <span style=color:#79c0ff;font-weight:700>timestamp:</span> timestamp,
</span></span><span style=display:flex><span>      <span style=color:#79c0ff;font-weight:700>frameTime:</span> frameTime,
</span></span><span style=display:flex><span>      <span style=color:#79c0ff;font-weight:700>fps:</span> <span style=color:#a5d6ff>1000</span> <span style=color:#ff7b72;font-weight:700>/</span> frameTime,
</span></span><span style=display:flex><span>      <span style=color:#79c0ff;font-weight:700>cpuUsage:</span> _getCpuUsage(),
</span></span><span style=display:flex><span>      <span style=color:#79c0ff;font-weight:700>memoryUsage:</span> _getMemoryUsage(),
</span></span><span style=display:flex><span>    );
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    _metrics.add(metric);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic>// ä¿æŒæœ€è¿‘1000å¸§çš„æŒ‡æ ‡
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    <span style=color:#ff7b72>if</span> (_metrics.length <span style=color:#ff7b72;font-weight:700>&gt;</span> <span style=color:#a5d6ff>1000</span>) {
</span></span><span style=display:flex><span>      _metrics.removeAt(<span style=color:#a5d6ff>0</span>);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic>// å¦‚æœæ€§èƒ½ä½äºé˜ˆå€¼ï¼Œå‘å‡ºè­¦å‘Š
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    <span style=color:#ff7b72>if</span> (metric.fps <span style=color:#ff7b72;font-weight:700>&lt;</span> <span style=color:#a5d6ff>30</span>) {
</span></span><span style=display:flex><span>      print(<span style=color:#a5d6ff>&#39;âš ï¸ Low FPS detected: </span><span style=color:#a5d6ff>${</span>metric.fps.toStringAsFixed(<span style=color:#a5d6ff>1</span>)<span style=color:#a5d6ff>}</span><span style=color:#a5d6ff>&#39;</span>);
</span></span><span style=display:flex><span>      _analyzePerformanceIssue(metric);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    WidgetsBinding.instance.addPostFrameCallback(_onFrame);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#ff7b72>void</span> _analyzePerformanceIssue(PerformanceMetric metric) {
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic>// åˆ†ææ€§èƒ½é—®é¢˜
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    <span style=color:#ff7b72>if</span> (metric.memoryUsage <span style=color:#ff7b72;font-weight:700>&gt;</span> <span style=color:#a5d6ff>100</span> <span style=color:#ff7b72;font-weight:700>*</span> <span style=color:#a5d6ff>1024</span> <span style=color:#ff7b72;font-weight:700>*</span> <span style=color:#a5d6ff>1024</span>) { <span style=color:#8b949e;font-style:italic>// 100MB
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>      print(<span style=color:#a5d6ff>&#39;ğŸ’¾ High memory usage detected&#39;</span>);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>if</span> (metric.cpuUsage <span style=color:#ff7b72;font-weight:700>&gt;</span> <span style=color:#a5d6ff>80</span>) {
</span></span><span style=display:flex><span>      print(<span style=color:#a5d6ff>&#39;ğŸ”¥ High CPU usage detected&#39;</span>);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#ff7b72>double</span> _getCpuUsage() {
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic>// æ¨¡æ‹ŸCPUä½¿ç”¨ç‡
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    <span style=color:#ff7b72>return</span> <span style=color:#a5d6ff>30</span> <span style=color:#ff7b72;font-weight:700>+</span> (math.Random().nextDouble() <span style=color:#ff7b72;font-weight:700>*</span> <span style=color:#a5d6ff>40</span>);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#ff7b72>double</span> _getMemoryUsage() {
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic>// æ¨¡æ‹Ÿå†…å­˜ä½¿ç”¨
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    <span style=color:#ff7b72>return</span> <span style=color:#a5d6ff>50</span> <span style=color:#ff7b72;font-weight:700>*</span> <span style=color:#a5d6ff>1024</span> <span style=color:#ff7b72;font-weight:700>*</span> <span style=color:#a5d6ff>1024</span> <span style=color:#ff7b72;font-weight:700>+</span> (math.Random().nextDouble() <span style=color:#ff7b72;font-weight:700>*</span> <span style=color:#a5d6ff>50</span> <span style=color:#ff7b72;font-weight:700>*</span> <span style=color:#a5d6ff>1024</span> <span style=color:#ff7b72;font-weight:700>*</span> <span style=color:#a5d6ff>1024</span>);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  PerformanceReport generateReport() {
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>if</span> (_metrics.isEmpty) {
</span></span><span style=display:flex><span>      <span style=color:#ff7b72>return</span> PerformanceReport.empty();
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>final</span> avgFPS <span style=color:#ff7b72;font-weight:700>=</span> _metrics.fold(<span style=color:#a5d6ff>0.0</span>, (sum, m) <span style=color:#ff7b72;font-weight:700>=&gt;</span> sum <span style=color:#ff7b72;font-weight:700>+</span> m.fps) <span style=color:#ff7b72;font-weight:700>/</span> _metrics.length;
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>final</span> minFPS <span style=color:#ff7b72;font-weight:700>=</span> _metrics.map((m) <span style=color:#ff7b72;font-weight:700>=&gt;</span> m.fps).reduce((a, b) <span style=color:#ff7b72;font-weight:700>=&gt;</span> a <span style=color:#ff7b72;font-weight:700>&lt;</span> b <span style=color:#ff7b72;font-weight:700>?</span> a <span style=color:#ff7b72;font-weight:700>:</span> b);
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>final</span> maxFPS <span style=color:#ff7b72;font-weight:700>=</span> _metrics.map((m) <span style=color:#ff7b72;font-weight:700>=&gt;</span> m.fps).reduce((a, b) <span style=color:#ff7b72;font-weight:700>=&gt;</span> a <span style=color:#ff7b72;font-weight:700>&gt;</span> b <span style=color:#ff7b72;font-weight:700>?</span> a <span style=color:#ff7b72;font-weight:700>:</span> b);
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>final</span> avgMemory <span style=color:#ff7b72;font-weight:700>=</span> _metrics.fold(<span style=color:#a5d6ff>0.0</span>, (sum, m) <span style=color:#ff7b72;font-weight:700>=&gt;</span> sum <span style=color:#ff7b72;font-weight:700>+</span> m.memoryUsage) <span style=color:#ff7b72;font-weight:700>/</span> _metrics.length;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>return</span> PerformanceReport(
</span></span><span style=display:flex><span>      <span style=color:#79c0ff;font-weight:700>avgFPS:</span> avgFPS,
</span></span><span style=display:flex><span>      <span style=color:#79c0ff;font-weight:700>minFPS:</span> minFPS,
</span></span><span style=display:flex><span>      <span style=color:#79c0ff;font-weight:700>maxFPS:</span> maxFPS,
</span></span><span style=display:flex><span>      <span style=color:#79c0ff;font-weight:700>avgMemory:</span> avgMemory,
</span></span><span style=display:flex><span>      <span style=color:#79c0ff;font-weight:700>frameCount:</span> _metrics.length,
</span></span><span style=display:flex><span>      <span style=color:#79c0ff;font-weight:700>lowFPSFrames:</span> _metrics.where((m) <span style=color:#ff7b72;font-weight:700>=&gt;</span> m.fps <span style=color:#ff7b72;font-weight:700>&lt;</span> <span style=color:#a5d6ff>30</span>).length,
</span></span><span style=display:flex><span>    );
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#ff7b72>void</span> logReport() {
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>final</span> report <span style=color:#ff7b72;font-weight:700>=</span> generateReport();
</span></span><span style=display:flex><span>    print(<span style=color:#a5d6ff>&#39;ğŸ“Š Animation Performance Report:&#39;</span>);
</span></span><span style=display:flex><span>    print(<span style=color:#a5d6ff>&#39;   Average FPS: </span><span style=color:#a5d6ff>${</span>report.avgFPS.toStringAsFixed(<span style=color:#a5d6ff>1</span>)<span style=color:#a5d6ff>}</span><span style=color:#a5d6ff>&#39;</span>);
</span></span><span style=display:flex><span>    print(<span style=color:#a5d6ff>&#39;   Min FPS: </span><span style=color:#a5d6ff>${</span>report.minFPS.toStringAsFixed(<span style=color:#a5d6ff>1</span>)<span style=color:#a5d6ff>}</span><span style=color:#a5d6ff>&#39;</span>);
</span></span><span style=display:flex><span>    print(<span style=color:#a5d6ff>&#39;   Max FPS: </span><span style=color:#a5d6ff>${</span>report.maxFPS.toStringAsFixed(<span style=color:#a5d6ff>1</span>)<span style=color:#a5d6ff>}</span><span style=color:#a5d6ff>&#39;</span>);
</span></span><span style=display:flex><span>    print(<span style=color:#a5d6ff>&#39;   Low FPS Frames: </span><span style=color:#a5d6ff>${</span>report.lowFPSFrames<span style=color:#a5d6ff>}</span><span style=color:#a5d6ff>&#39;</span>);
</span></span><span style=display:flex><span>    print(<span style=color:#a5d6ff>&#39;   Average Memory: </span><span style=color:#a5d6ff>${</span>(report.avgMemory <span style=color:#ff7b72;font-weight:700>/</span> <span style=color:#a5d6ff>1024</span> <span style=color:#ff7b72;font-weight:700>/</span> <span style=color:#a5d6ff>1024</span>).toStringAsFixed(<span style=color:#a5d6ff>1</span>)<span style=color:#a5d6ff>}</span><span style=color:#a5d6ff> MB&#39;</span>);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic>// æ€§èƒ½æŒ‡æ ‡ç±»
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span><span style=color:#ff7b72>class</span> <span style=color:#f0883e;font-weight:700>PerformanceMetric</span> {
</span></span><span style=display:flex><span>  <span style=color:#ff7b72>final</span> DateTime timestamp;
</span></span><span style=display:flex><span>  <span style=color:#ff7b72>final</span> <span style=color:#ff7b72>double</span> frameTime;
</span></span><span style=display:flex><span>  <span style=color:#ff7b72>final</span> <span style=color:#ff7b72>double</span> fps;
</span></span><span style=display:flex><span>  <span style=color:#ff7b72>final</span> <span style=color:#ff7b72>double</span> cpuUsage;
</span></span><span style=display:flex><span>  <span style=color:#ff7b72>final</span> <span style=color:#ff7b72>double</span> memoryUsage;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  PerformanceMetric({
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>required</span> <span style=color:#ff7b72>this</span>.timestamp,
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>required</span> <span style=color:#ff7b72>this</span>.frameTime,
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>required</span> <span style=color:#ff7b72>this</span>.fps,
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>required</span> <span style=color:#ff7b72>this</span>.cpuUsage,
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>required</span> <span style=color:#ff7b72>this</span>.memoryUsage,
</span></span><span style=display:flex><span>  });
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic>// æ€§èƒ½æŠ¥å‘Šç±»
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span><span style=color:#ff7b72>class</span> <span style=color:#f0883e;font-weight:700>PerformanceReport</span> {
</span></span><span style=display:flex><span>  <span style=color:#ff7b72>final</span> <span style=color:#ff7b72>double</span> avgFPS;
</span></span><span style=display:flex><span>  <span style=color:#ff7b72>final</span> <span style=color:#ff7b72>double</span> minFPS;
</span></span><span style=display:flex><span>  <span style=color:#ff7b72>final</span> <span style=color:#ff7b72>double</span> maxFPS;
</span></span><span style=display:flex><span>  <span style=color:#ff7b72>final</span> <span style=color:#ff7b72>double</span> avgMemory;
</span></span><span style=display:flex><span>  <span style=color:#ff7b72>final</span> <span style=color:#ff7b72>int</span> frameCount;
</span></span><span style=display:flex><span>  <span style=color:#ff7b72>final</span> <span style=color:#ff7b72>int</span> lowFPSFrames;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  PerformanceReport({
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>required</span> <span style=color:#ff7b72>this</span>.avgFPS,
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>required</span> <span style=color:#ff7b72>this</span>.minFPS,
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>required</span> <span style=color:#ff7b72>this</span>.maxFPS,
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>required</span> <span style=color:#ff7b72>this</span>.avgMemory,
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>required</span> <span style=color:#ff7b72>this</span>.frameCount,
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>required</span> <span style=color:#ff7b72>this</span>.lowFPSFrames,
</span></span><span style=display:flex><span>  });
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#ff7b72>factory</span> PerformanceReport.empty() {
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>return</span> PerformanceReport(
</span></span><span style=display:flex><span>      <span style=color:#79c0ff;font-weight:700>avgFPS:</span> <span style=color:#a5d6ff>0</span>,
</span></span><span style=display:flex><span>      <span style=color:#79c0ff;font-weight:700>minFPS:</span> <span style=color:#a5d6ff>0</span>,
</span></span><span style=display:flex><span>      <span style=color:#79c0ff;font-weight:700>maxFPS:</span> <span style=color:#a5d6ff>0</span>,
</span></span><span style=display:flex><span>      <span style=color:#79c0ff;font-weight:700>avgMemory:</span> <span style=color:#a5d6ff>0</span>,
</span></span><span style=display:flex><span>      <span style=color:#79c0ff;font-weight:700>frameCount:</span> <span style=color:#a5d6ff>0</span>,
</span></span><span style=display:flex><span>      <span style=color:#79c0ff;font-weight:700>lowFPSFrames:</span> <span style=color:#a5d6ff>0</span>,
</span></span><span style=display:flex><span>    );
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#ff7b72>bool</span> <span style=color:#ff7b72>get</span> isPerformant <span style=color:#ff7b72;font-weight:700>=&gt;</span> avgFPS <span style=color:#ff7b72;font-weight:700>&gt;=</span> <span style=color:#a5d6ff>55</span> <span style=color:#ff7b72;font-weight:700>&amp;&amp;</span> lowFPSFrames <span style=color:#ff7b72;font-weight:700>&lt;</span> frameCount <span style=color:#ff7b72;font-weight:700>*</span> <span style=color:#a5d6ff>0.05</span>;
</span></span><span style=display:flex><span>  <span style=color:#ff7b72>String</span> <span style=color:#ff7b72>get</span> performanceRating {
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>if</span> (avgFPS <span style=color:#ff7b72;font-weight:700>&gt;=</span> <span style=color:#a5d6ff>58</span>) <span style=color:#ff7b72>return</span> <span style=color:#a5d6ff>&#39;Excellent&#39;</span>;
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>if</span> (avgFPS <span style=color:#ff7b72;font-weight:700>&gt;=</span> <span style=color:#a5d6ff>55</span>) <span style=color:#ff7b72>return</span> <span style=color:#a5d6ff>&#39;Good&#39;</span>;
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>if</span> (avgFPS <span style=color:#ff7b72;font-weight:700>&gt;=</span> <span style=color:#a5d6ff>45</span>) <span style=color:#ff7b72>return</span> <span style=color:#a5d6ff>&#39;Fair&#39;</span>;
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>return</span> <span style=color:#a5d6ff>&#39;Poor&#39;</span>;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span></code></pre></td></tr></table></div></div><h3 id=ä¼˜åŒ–çš„åŠ¨ç”»å®ç°>ä¼˜åŒ–çš„åŠ¨ç”»å®ç°<a hidden class=anchor aria-hidden=true href=#ä¼˜åŒ–çš„åŠ¨ç”»å®ç°>#</a></h3><div class=highlight><div style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:2;-o-tab-size:2;tab-size:2><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 56
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 57
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 58
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 59
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 60
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 61
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 62
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 63
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 64
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 65
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 66
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 67
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 68
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 69
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 70
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 71
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 72
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 73
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 74
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 75
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 76
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 77
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 78
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 79
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 80
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 81
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 82
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 83
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 84
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 85
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 86
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 87
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 88
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 89
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 90
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 91
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 92
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 93
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 94
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 95
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 96
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 97
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 98
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 99
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">100
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">101
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">102
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">103
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">104
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">105
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">106
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">107
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">108
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">109
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">110
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">111
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">112
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">113
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">114
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">115
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">116
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">117
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">118
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">119
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">120
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">121
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">122
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">123
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">124
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">125
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">126
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">127
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">128
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">129
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">130
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">131
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">132
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">133
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">134
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">135
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">136
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">137
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">138
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">139
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">140
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">141
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">142
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">143
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">144
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">145
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">146
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">147
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">148
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">149
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">150
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">151
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">152
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">153
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">154
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">155
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">156
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">157
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">158
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">159
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">160
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">161
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">162
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">163
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">164
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">165
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">166
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">167
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">168
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">169
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">170
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">171
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">172
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">173
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">174
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">175
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">176
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">177
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">178
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">179
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">180
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">181
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">182
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">183
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">184
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">185
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">186
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">187
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">188
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">189
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">190
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">191
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">192
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">193
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">194
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">195
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">196
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">197
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">198
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">199
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">200
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">201
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">202
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">203
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">204
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">205
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">206
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">207
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">208
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">209
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">210
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">211
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">212
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">213
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">214
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">215
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">216
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">217
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">218
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">219
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">220
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">221
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">222
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">223
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">224
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">225
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">226
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">227
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">228
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">229
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">230
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">231
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">232
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">233
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">234
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">235
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">236
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">237
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">238
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">239
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">240
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">241
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">242
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">243
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">244
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">245
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">246
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">247
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">248
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">249
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">250
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">251
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">252
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">253
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">254
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">255
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">256
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">257
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">258
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">259
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">260
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">261
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">262
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">263
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">264
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">265
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">266
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">267
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">268
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">269
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">270
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">271
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">272
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">273
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">274
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">275
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">276
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">277
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">278
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">279
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">280
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-dart data-lang=dart><span style=display:flex><span><span style=color:#8b949e;font-style:italic>// é«˜æ€§èƒ½åŠ¨ç”»ç»„ä»¶
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span><span style=color:#ff7b72>class</span> <span style=color:#f0883e;font-weight:700>OptimizedAnimatedWidget</span> <span style=color:#ff7b72>extends</span> StatefulWidget {
</span></span><span style=display:flex><span>  <span style=color:#ff7b72>final</span> Widget child;
</span></span><span style=display:flex><span>  <span style=color:#ff7b72>final</span> Animation<span style=color:#ff7b72;font-weight:700>&lt;</span><span style=color:#ff7b72>double</span><span style=color:#ff7b72;font-weight:700>&gt;</span> animation;
</span></span><span style=display:flex><span>  <span style=color:#ff7b72>final</span> <span style=color:#ff7b72>bool</span> enableCache;
</span></span><span style=display:flex><span>  <span style=color:#ff7b72>final</span> Duration cacheDuration;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#ff7b72>const</span> OptimizedAnimatedWidget({
</span></span><span style=display:flex><span>    Key<span style=color:#ff7b72;font-weight:700>?</span> key,
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>required</span> <span style=color:#ff7b72>this</span>.child,
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>required</span> <span style=color:#ff7b72>this</span>.animation,
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>this</span>.enableCache <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#79c0ff>true</span>,
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>this</span>.cacheDuration <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#ff7b72>const</span> Duration(<span style=color:#79c0ff;font-weight:700>milliseconds:</span> <span style=color:#a5d6ff>100</span>),
</span></span><span style=display:flex><span>  }) <span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#ff7b72>super</span>(<span style=color:#79c0ff;font-weight:700>key:</span> key);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#f85149>@</span>override
</span></span><span style=display:flex><span>  _OptimizedAnimatedWidgetState createState() <span style=color:#ff7b72;font-weight:700>=&gt;</span> _OptimizedAnimatedWidgetState();
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ff7b72>class</span> <span style=color:#f0883e;font-weight:700>_OptimizedAnimatedWidgetState</span> <span style=color:#ff7b72>extends</span> State<span style=color:#ff7b72;font-weight:700>&lt;</span>OptimizedAnimatedWidget<span style=color:#ff7b72;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>with</span> AutomaticKeepAliveClientMixin {
</span></span><span style=display:flex><span>  Widget<span style=color:#ff7b72;font-weight:700>?</span> _cachedChild;
</span></span><span style=display:flex><span>  DateTime<span style=color:#ff7b72;font-weight:700>?</span> _lastCacheTime;
</span></span><span style=display:flex><span>  <span style=color:#ff7b72>double</span> _lastAnimationValue <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#ff7b72;font-weight:700>-</span><span style=color:#a5d6ff>1</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#f85149>@</span>override
</span></span><span style=display:flex><span>  <span style=color:#ff7b72>bool</span> <span style=color:#ff7b72>get</span> wantKeepAlive <span style=color:#ff7b72;font-weight:700>=&gt;</span> <span style=color:#79c0ff>true</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#f85149>@</span>override
</span></span><span style=display:flex><span>  <span style=color:#ff7b72>void</span> didUpdateWidget(OptimizedAnimatedWidget oldWidget) {
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>super</span>.didUpdateWidget(oldWidget);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic>// å¦‚æœåŠ¨ç”»å˜åŒ–ï¼Œæ¸…é™¤ç¼“å­˜
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    <span style=color:#ff7b72>if</span> (widget.animation <span style=color:#ff7b72;font-weight:700>!=</span> oldWidget.animation) {
</span></span><span style=display:flex><span>      _cachedChild <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#79c0ff>null</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#f85149>@</span>override
</span></span><span style=display:flex><span>  Widget build(BuildContext context) {
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>super</span>.build(context);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>final</span> animationValue <span style=color:#ff7b72;font-weight:700>=</span> widget.animation.value;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic>// æ£€æŸ¥æ˜¯å¦å¯ä»¥ä½¿ç”¨ç¼“å­˜çš„å­ç»„ä»¶
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    <span style=color:#ff7b72>if</span> (widget.enableCache <span style=color:#ff7b72;font-weight:700>&amp;&amp;</span>
</span></span><span style=display:flex><span>        _cachedChild <span style=color:#ff7b72;font-weight:700>!=</span> <span style=color:#79c0ff>null</span> <span style=color:#ff7b72;font-weight:700>&amp;&amp;</span>
</span></span><span style=display:flex><span>        _lastCacheTime <span style=color:#ff7b72;font-weight:700>!=</span> <span style=color:#79c0ff>null</span> <span style=color:#ff7b72;font-weight:700>&amp;&amp;</span>
</span></span><span style=display:flex><span>        DateTime.now().difference(_lastCacheTime<span style=color:#ff7b72;font-weight:700>!</span>) <span style=color:#ff7b72;font-weight:700>&lt;</span> widget.cacheDuration <span style=color:#ff7b72;font-weight:700>&amp;&amp;</span>
</span></span><span style=display:flex><span>        (animationValue <span style=color:#ff7b72;font-weight:700>-</span> _lastAnimationValue).abs() <span style=color:#ff7b72;font-weight:700>&lt;</span> <span style=color:#a5d6ff>0.01</span>) {
</span></span><span style=display:flex><span>      <span style=color:#ff7b72>return</span> _cachedChild<span style=color:#ff7b72;font-weight:700>!</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic>// ä½¿ç”¨RepaintBoundaryé™åˆ¶é‡ç»˜èŒƒå›´
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    <span style=color:#ff7b72>return</span> RepaintBoundary(
</span></span><span style=display:flex><span>      <span style=color:#79c0ff;font-weight:700>child:</span> AnimatedBuilder(
</span></span><span style=display:flex><span>        <span style=color:#79c0ff;font-weight:700>animation:</span> widget.animation,
</span></span><span style=display:flex><span>        <span style=color:#79c0ff;font-weight:700>builder:</span> (context, child) {
</span></span><span style=display:flex><span>          <span style=color:#8b949e;font-style:italic>// æ„å»ºä¼˜åŒ–åçš„ç»„ä»¶
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>          <span style=color:#ff7b72>final</span> optimizedChild <span style=color:#ff7b72;font-weight:700>=</span> Transform.scale(
</span></span><span style=display:flex><span>            <span style=color:#79c0ff;font-weight:700>scale:</span> animationValue,
</span></span><span style=display:flex><span>            <span style=color:#79c0ff;font-weight:700>alignment:</span> Alignment.center,
</span></span><span style=display:flex><span>            <span style=color:#79c0ff;font-weight:700>child:</span> FadeTransition(
</span></span><span style=display:flex><span>              <span style=color:#79c0ff;font-weight:700>opacity:</span> widget.animation,
</span></span><span style=display:flex><span>              <span style=color:#79c0ff;font-weight:700>child:</span> widget.child,
</span></span><span style=display:flex><span>            ),
</span></span><span style=display:flex><span>          );
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>          <span style=color:#8b949e;font-style:italic>// ç¼“å­˜æ„å»ºç»“æœ
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>          <span style=color:#ff7b72>if</span> (widget.enableCache) {
</span></span><span style=display:flex><span>            _cachedChild <span style=color:#ff7b72;font-weight:700>=</span> optimizedChild;
</span></span><span style=display:flex><span>            _lastCacheTime <span style=color:#ff7b72;font-weight:700>=</span> DateTime.now();
</span></span><span style=display:flex><span>            _lastAnimationValue <span style=color:#ff7b72;font-weight:700>=</span> animationValue;
</span></span><span style=display:flex><span>          }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>          <span style=color:#ff7b72>return</span> optimizedChild;
</span></span><span style=display:flex><span>        },
</span></span><span style=display:flex><span>      ),
</span></span><span style=display:flex><span>    );
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic>// æ‰¹é‡åŠ¨ç”»ç®¡ç†å™¨
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span><span style=color:#ff7b72>class</span> <span style=color:#f0883e;font-weight:700>BatchAnimationManager</span> {
</span></span><span style=display:flex><span>  <span style=color:#ff7b72>final</span> Map<span style=color:#ff7b72;font-weight:700>&lt;</span><span style=color:#ff7b72>String</span>, AnimationController<span style=color:#ff7b72;font-weight:700>&gt;</span> _controllers <span style=color:#ff7b72;font-weight:700>=</span> {};
</span></span><span style=display:flex><span>  <span style=color:#ff7b72>final</span> Map<span style=color:#ff7b72;font-weight:700>&lt;</span><span style=color:#ff7b72>String</span>, TickerProvider<span style=color:#ff7b72;font-weight:700>&gt;</span> _tickers <span style=color:#ff7b72;font-weight:700>=</span> {};
</span></span><span style=display:flex><span>  Timer<span style=color:#ff7b72;font-weight:700>?</span> _batchTimer;
</span></span><span style=display:flex><span>  <span style=color:#ff7b72>final</span> List<span style=color:#ff7b72;font-weight:700>&lt;</span>VoidCallback<span style=color:#ff7b72;font-weight:700>&gt;</span> _pendingAnimations <span style=color:#ff7b72;font-weight:700>=</span> [];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#8b949e;font-style:italic>// æ³¨å†ŒåŠ¨ç”»æ§åˆ¶å™¨
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>  <span style=color:#ff7b72>void</span> registerController(
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>String</span> id,
</span></span><span style=display:flex><span>    AnimationController controller,
</span></span><span style=display:flex><span>    TickerProvider vsync,
</span></span><span style=display:flex><span>  ) {
</span></span><span style=display:flex><span>    _controllers[id] <span style=color:#ff7b72;font-weight:700>=</span> controller;
</span></span><span style=display:flex><span>    _tickers[id] <span style=color:#ff7b72;font-weight:700>=</span> vsync;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#8b949e;font-style:italic>// æ‰¹é‡å¯åŠ¨åŠ¨ç”»
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>  <span style=color:#ff7b72>void</span> batchStartAnimations(List<span style=color:#ff7b72;font-weight:700>&lt;</span><span style=color:#ff7b72>String</span><span style=color:#ff7b72;font-weight:700>&gt;</span> controllerIds) {
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>for</span> (<span style=color:#ff7b72>final</span> id <span style=color:#ff7b72>in</span> controllerIds) {
</span></span><span style=display:flex><span>      <span style=color:#ff7b72>final</span> controller <span style=color:#ff7b72;font-weight:700>=</span> _controllers[id];
</span></span><span style=display:flex><span>      <span style=color:#ff7b72>if</span> (controller <span style=color:#ff7b72;font-weight:700>!=</span> <span style=color:#79c0ff>null</span> <span style=color:#ff7b72;font-weight:700>&amp;&amp;</span> <span style=color:#ff7b72;font-weight:700>!</span>controller.isAnimating) {
</span></span><span style=display:flex><span>        _pendingAnimations.add(() <span style=color:#ff7b72;font-weight:700>=&gt;</span> controller.forward());
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    _scheduleBatch();
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#8b949e;font-style:italic>// æ‰¹é‡åœæ­¢åŠ¨ç”»
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>  <span style=color:#ff7b72>void</span> batchStopAnimations(List<span style=color:#ff7b72;font-weight:700>&lt;</span><span style=color:#ff7b72>String</span><span style=color:#ff7b72;font-weight:700>&gt;</span> controllerIds) {
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>for</span> (<span style=color:#ff7b72>final</span> id <span style=color:#ff7b72>in</span> controllerIds) {
</span></span><span style=display:flex><span>      <span style=color:#ff7b72>final</span> controller <span style=color:#ff7b72;font-weight:700>=</span> _controllers[id];
</span></span><span style=display:flex><span>      <span style=color:#ff7b72>if</span> (controller <span style=color:#ff7b72;font-weight:700>!=</span> <span style=color:#79c0ff>null</span> <span style=color:#ff7b72;font-weight:700>&amp;&amp;</span> controller.isAnimating) {
</span></span><span style=display:flex><span>        _pendingAnimations.add(() <span style=color:#ff7b72;font-weight:700>=&gt;</span> controller.stop());
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    _scheduleBatch();
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#ff7b72>void</span> _scheduleBatch() {
</span></span><span style=display:flex><span>    _batchTimer<span style=color:#ff7b72;font-weight:700>?</span>.cancel();
</span></span><span style=display:flex><span>    _batchTimer <span style=color:#ff7b72;font-weight:700>=</span> Timer(<span style=color:#ff7b72>const</span> Duration(<span style=color:#79c0ff;font-weight:700>milliseconds:</span> <span style=color:#a5d6ff>16</span>), () {
</span></span><span style=display:flex><span>      <span style=color:#8b949e;font-style:italic>// åœ¨ä¸‹ä¸€å¸§æ‰§è¡Œæ‰€æœ‰åŠ¨ç”»
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>      <span style=color:#ff7b72>for</span> (<span style=color:#ff7b72>final</span> animation <span style=color:#ff7b72>in</span> _pendingAnimations) {
</span></span><span style=display:flex><span>        animation();
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>      _pendingAnimations.clear();
</span></span><span style=display:flex><span>      _batchTimer <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#79c0ff>null</span>;
</span></span><span style=display:flex><span>    });
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#8b949e;font-style:italic>// é”€æ¯æŒ‡å®šæ§åˆ¶å™¨
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>  <span style=color:#ff7b72>void</span> disposeController(<span style=color:#ff7b72>String</span> id) {
</span></span><span style=display:flex><span>    _controllers[id]<span style=color:#ff7b72;font-weight:700>?</span>.dispose();
</span></span><span style=display:flex><span>    _controllers.remove(id);
</span></span><span style=display:flex><span>    _tickers.remove(id);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#8b949e;font-style:italic>// é”€æ¯æ‰€æœ‰æ§åˆ¶å™¨
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>  <span style=color:#ff7b72>void</span> disposeAll() {
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>for</span> (<span style=color:#ff7b72>final</span> controller <span style=color:#ff7b72>in</span> _controllers.values) {
</span></span><span style=display:flex><span>      controller.dispose();
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    _controllers.clear();
</span></span><span style=display:flex><span>    _tickers.clear();
</span></span><span style=display:flex><span>    _batchTimer<span style=color:#ff7b72;font-weight:700>?</span>.cancel();
</span></span><span style=display:flex><span>    _pendingAnimations.clear();
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic>// ä½¿ç”¨ç¤ºä¾‹
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span><span style=color:#ff7b72>class</span> <span style=color:#f0883e;font-weight:700>AdvancedAnimationExample</span> <span style=color:#ff7b72>extends</span> StatefulWidget {
</span></span><span style=display:flex><span>  <span style=color:#ff7b72>const</span> AdvancedAnimationExample({Key<span style=color:#ff7b72;font-weight:700>?</span> key}) <span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#ff7b72>super</span>(<span style=color:#79c0ff;font-weight:700>key:</span> key);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#f85149>@</span>override
</span></span><span style=display:flex><span>  _AdvancedAnimationExampleState createState() <span style=color:#ff7b72;font-weight:700>=&gt;</span> _AdvancedAnimationExampleState();
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ff7b72>class</span> <span style=color:#f0883e;font-weight:700>_AdvancedAnimationExampleState</span> <span style=color:#ff7b72>extends</span> State<span style=color:#ff7b72;font-weight:700>&lt;</span>AdvancedAnimationExample<span style=color:#ff7b72;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>with</span> TickerProviderStateMixin {
</span></span><span style=display:flex><span>  late AnimationController _mainController;
</span></span><span style=display:flex><span>  late AnimationController _secondaryController;
</span></span><span style=display:flex><span>  <span style=color:#ff7b72>final</span> BatchAnimationManager _batchManager <span style=color:#ff7b72;font-weight:700>=</span> BatchAnimationManager();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#f85149>@</span>override
</span></span><span style=display:flex><span>  <span style=color:#ff7b72>void</span> initState() {
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>super</span>.initState();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    _mainController <span style=color:#ff7b72;font-weight:700>=</span> AnimationController(
</span></span><span style=display:flex><span>      <span style=color:#79c0ff;font-weight:700>duration:</span> <span style=color:#ff7b72>const</span> Duration(<span style=color:#79c0ff;font-weight:700>seconds:</span> <span style=color:#a5d6ff>2</span>),
</span></span><span style=display:flex><span>      <span style=color:#79c0ff;font-weight:700>vsync:</span> <span style=color:#ff7b72>this</span>,
</span></span><span style=display:flex><span>    );
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    _secondaryController <span style=color:#ff7b72;font-weight:700>=</span> AnimationController(
</span></span><span style=display:flex><span>      <span style=color:#79c0ff;font-weight:700>duration:</span> <span style=color:#ff7b72>const</span> Duration(<span style=color:#79c0ff;font-weight:700>milliseconds:</span> <span style=color:#a5d6ff>800</span>),
</span></span><span style=display:flex><span>      <span style=color:#79c0ff;font-weight:700>vsync:</span> <span style=color:#ff7b72>this</span>,
</span></span><span style=display:flex><span>    );
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic>// æ³¨å†Œåˆ°æ‰¹é‡ç®¡ç†å™¨
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    _batchManager.registerController(<span style=color:#a5d6ff>&#39;main&#39;</span>, _mainController, <span style=color:#ff7b72>this</span>);
</span></span><span style=display:flex><span>    _batchManager.registerController(<span style=color:#a5d6ff>&#39;secondary&#39;</span>, _secondaryController, <span style=color:#ff7b72>this</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic>// å¯åŠ¨æ€§èƒ½ç›‘æ§
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    AnimationPerformanceMonitor().startMonitoring();
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#f85149>@</span>override
</span></span><span style=display:flex><span>  <span style=color:#ff7b72>void</span> dispose() {
</span></span><span style=display:flex><span>    _mainController.dispose();
</span></span><span style=display:flex><span>    _secondaryController.dispose();
</span></span><span style=display:flex><span>    _batchManager.disposeAll();
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>super</span>.dispose();
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#ff7b72>void</span> _startBatchAnimation() {
</span></span><span style=display:flex><span>    _batchManager.batchStartAnimations([<span style=color:#a5d6ff>&#39;main&#39;</span>, <span style=color:#a5d6ff>&#39;secondary&#39;</span>]);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#ff7b72>void</span> _logPerformance() {
</span></span><span style=display:flex><span>    AnimationPerformanceMonitor().logReport();
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#f85149>@</span>override
</span></span><span style=display:flex><span>  Widget build(BuildContext context) {
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>return</span> Scaffold(
</span></span><span style=display:flex><span>      <span style=color:#79c0ff;font-weight:700>appBar:</span> AppBar(
</span></span><span style=display:flex><span>        <span style=color:#79c0ff;font-weight:700>title:</span> <span style=color:#ff7b72>const</span> Text(<span style=color:#a5d6ff>&#39;Advanced Animation&#39;</span>),
</span></span><span style=display:flex><span>        <span style=color:#79c0ff;font-weight:700>actions:</span> [
</span></span><span style=display:flex><span>          IconButton(
</span></span><span style=display:flex><span>            <span style=color:#79c0ff;font-weight:700>onPressed:</span> _startBatchAnimation,
</span></span><span style=display:flex><span>            <span style=color:#79c0ff;font-weight:700>icon:</span> <span style=color:#ff7b72>const</span> Icon(Icons.play_arrow),
</span></span><span style=display:flex><span>          ),
</span></span><span style=display:flex><span>          IconButton(
</span></span><span style=display:flex><span>            <span style=color:#79c0ff;font-weight:700>onPressed:</span> _logPerformance,
</span></span><span style=display:flex><span>            <span style=color:#79c0ff;font-weight:700>icon:</span> <span style=color:#ff7b72>const</span> Icon(Icons.analytics),
</span></span><span style=display:flex><span>          ),
</span></span><span style=display:flex><span>        ],
</span></span><span style=display:flex><span>      ),
</span></span><span style=display:flex><span>      <span style=color:#79c0ff;font-weight:700>body:</span> Center(
</span></span><span style=display:flex><span>        <span style=color:#79c0ff;font-weight:700>child:</span> Column(
</span></span><span style=display:flex><span>          <span style=color:#79c0ff;font-weight:700>mainAxisAlignment:</span> MainAxisAlignment.center,
</span></span><span style=display:flex><span>          <span style=color:#79c0ff;font-weight:700>children:</span> [
</span></span><span style=display:flex><span>            OptimizedAnimatedWidget(
</span></span><span style=display:flex><span>              <span style=color:#79c0ff;font-weight:700>animation:</span> _mainController,
</span></span><span style=display:flex><span>              <span style=color:#79c0ff;font-weight:700>enableCache:</span> <span style=color:#79c0ff>true</span>,
</span></span><span style=display:flex><span>              <span style=color:#79c0ff;font-weight:700>child:</span> Container(
</span></span><span style=display:flex><span>                <span style=color:#79c0ff;font-weight:700>width:</span> <span style=color:#a5d6ff>200</span>,
</span></span><span style=display:flex><span>                <span style=color:#79c0ff;font-weight:700>height:</span> <span style=color:#a5d6ff>200</span>,
</span></span><span style=display:flex><span>                <span style=color:#79c0ff;font-weight:700>decoration:</span> BoxDecoration(
</span></span><span style=display:flex><span>                  <span style=color:#79c0ff;font-weight:700>gradient:</span> LinearGradient(
</span></span><span style=display:flex><span>                    <span style=color:#79c0ff;font-weight:700>colors:</span> [Colors.blue, Colors.purple],
</span></span><span style=display:flex><span>                    <span style=color:#79c0ff;font-weight:700>begin:</span> Alignment.topLeft,
</span></span><span style=display:flex><span>                    <span style=color:#79c0ff;font-weight:700>end:</span> Alignment.bottomRight,
</span></span><span style=display:flex><span>                  ),
</span></span><span style=display:flex><span>                  <span style=color:#79c0ff;font-weight:700>borderRadius:</span> BorderRadius.circular(<span style=color:#a5d6ff>20</span>),
</span></span><span style=display:flex><span>                ),
</span></span><span style=display:flex><span>                <span style=color:#79c0ff;font-weight:700>child:</span> <span style=color:#ff7b72>const</span> Center(
</span></span><span style=display:flex><span>                  <span style=color:#79c0ff;font-weight:700>child:</span> Text(
</span></span><span style=display:flex><span>                    <span style=color:#a5d6ff>&#39;Optimized&#39;</span>,
</span></span><span style=display:flex><span>                    <span style=color:#79c0ff;font-weight:700>style:</span> TextStyle(
</span></span><span style=display:flex><span>                      <span style=color:#79c0ff;font-weight:700>color:</span> Colors.white,
</span></span><span style=display:flex><span>                      <span style=color:#79c0ff;font-weight:700>fontSize:</span> <span style=color:#a5d6ff>24</span>,
</span></span><span style=display:flex><span>                      <span style=color:#79c0ff;font-weight:700>fontWeight:</span> FontWeight.bold,
</span></span><span style=display:flex><span>                    ),
</span></span><span style=display:flex><span>                  ),
</span></span><span style=display:flex><span>                ),
</span></span><span style=display:flex><span>              ),
</span></span><span style=display:flex><span>            ),
</span></span><span style=display:flex><span>            <span style=color:#ff7b72>const</span> SizedBox(<span style=color:#79c0ff;font-weight:700>height:</span> <span style=color:#a5d6ff>40</span>),
</span></span><span style=display:flex><span>            OptimizedAnimatedWidget(
</span></span><span style=display:flex><span>              <span style=color:#79c0ff;font-weight:700>animation:</span> _secondaryController,
</span></span><span style=display:flex><span>              <span style=color:#79c0ff;font-weight:700>child:</span> Container(
</span></span><span style=display:flex><span>                <span style=color:#79c0ff;font-weight:700>width:</span> <span style=color:#a5d6ff>150</span>,
</span></span><span style=display:flex><span>                <span style=color:#79c0ff;font-weight:700>height:</span> <span style=color:#a5d6ff>150</span>,
</span></span><span style=display:flex><span>                <span style=color:#79c0ff;font-weight:700>decoration:</span> BoxDecoration(
</span></span><span style=display:flex><span>                  <span style=color:#79c0ff;font-weight:700>color:</span> Colors.orange,
</span></span><span style=display:flex><span>                  <span style=color:#79c0ff;font-weight:700>borderRadius:</span> BorderRadius.circular(<span style=color:#a5d6ff>15</span>),
</span></span><span style=display:flex><span>                ),
</span></span><span style=display:flex><span>                <span style=color:#79c0ff;font-weight:700>child:</span> <span style=color:#ff7b72>const</span> Center(
</span></span><span style=display:flex><span>                  <span style=color:#79c0ff;font-weight:700>child:</span> Text(
</span></span><span style=display:flex><span>                    <span style=color:#a5d6ff>&#39;Cached&#39;</span>,
</span></span><span style=display:flex><span>                    <span style=color:#79c0ff;font-weight:700>style:</span> TextStyle(
</span></span><span style=display:flex><span>                      <span style=color:#79c0ff;font-weight:700>color:</span> Colors.white,
</span></span><span style=display:flex><span>                      <span style=color:#79c0ff;font-weight:700>fontSize:</span> <span style=color:#a5d6ff>20</span>,
</span></span><span style=display:flex><span>                      <span style=color:#79c0ff;font-weight:700>fontWeight:</span> FontWeight.bold,
</span></span><span style=display:flex><span>                    ),
</span></span><span style=display:flex><span>                  ),
</span></span><span style=display:flex><span>                ),
</span></span><span style=display:flex><span>              ),
</span></span><span style=display:flex><span>            ),
</span></span><span style=display:flex><span>          ],
</span></span><span style=display:flex><span>        ),
</span></span><span style=display:flex><span>      ),
</span></span><span style=display:flex><span>    );
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span></code></pre></td></tr></table></div></div><h2 id=æ€»ç»“>æ€»ç»“<a hidden class=anchor aria-hidden=true href=#æ€»ç»“>#</a></h2><p>FlutteråŠ¨ç”»ç³»ç»Ÿçš„å¼ºå¤§ä¹‹å¤„åœ¨äºï¼š</p><p><strong>æ ¸å¿ƒç‰¹æ€§ï¼š</strong></p><ol><li>çµæ´»çš„AnimationControllerå’ŒTweenç³»ç»Ÿ</li><li>ä¸°å¯Œçš„åŠ¨ç”»æ›²çº¿é€‰æ‹©</li><li>è‡ªå®šä¹‰ç»˜åˆ¶èƒ½åŠ›</li><li>ç¡¬ä»¶åŠ é€Ÿæ”¯æŒ</li></ol><p><strong>é«˜çº§æŠ€å·§ï¼š</strong></p><ol><li>å¤æ‚åŠ¨ç”»ç¼–æ’å’Œç»„åˆ</li><li>ç‰©ç†æ¨¡æ‹Ÿå’ŒçœŸå®æ„Ÿæ•ˆæœ</li><li>æ‰‹åŠ¿é©±åŠ¨çš„äº¤äº’åŠ¨ç”»</li><li>æ€§èƒ½ç›‘æ§å’Œä¼˜åŒ–ç­–ç•¥</li></ol><p><strong>æ€§èƒ½ä¼˜åŒ–ï¼š</strong></p><ol><li>ä½¿ç”¨AnimatedBuilderé¿å…ä¸å¿…è¦çš„é‡å»º</li><li>å®ç°ç¼“å­˜æœºåˆ¶å‡å°‘è®¡ç®—å¼€é”€</li><li>åˆç†ä½¿ç”¨RepaintBoundary</li><li>æ‰¹é‡ç®¡ç†åŠ¨ç”»æ§åˆ¶å™¨</li></ol><p><strong>æœ€ä½³å®è·µï¼š</strong></p><ol><li>ä¿æŒåŠ¨ç”»åœ¨60FPS</li><li>é¿å…åœ¨åŠ¨ç”»ä¸­è¿›è¡Œå¤æ‚è®¡ç®—</li><li>ä½¿ç”¨ç¡¬ä»¶åŠ é€Ÿçš„å±æ€§</li><li>åˆç†è®¾ç½®åŠ¨ç”»æŒç»­æ—¶é—´å’Œæ›²çº¿</li></ol><p>æŒæ¡è¿™äº›é«˜çº§åŠ¨ç”»æŠ€å·§ï¼Œå°†è®©ä½ èƒ½å¤Ÿåˆ›é€ å‡ºä»¤äººæƒŠå¹çš„ Flutter åº”ç”¨ä½“éªŒã€‚</p><hr><p><strong>ç›¸å…³èµ„æºï¼š</strong></p><ul><li><a href=https://flutter.dev/docs/development/ui/animations>FlutteråŠ¨ç”»å®˜æ–¹æ–‡æ¡£</a></li><li><a href=https://github.com/skeletonxd/flutter_animation_exercises>FlutteråŠ¨ç”»æ¡ˆä¾‹åº“</a></li><li><a href=https://flutter.dev/docs/perf>æ€§èƒ½ä¼˜åŒ–æŒ‡å—</a></li><li><a href=https://api.flutter.dev/flutter/rendering/CustomPainter-class.html>CustomPainterä½¿ç”¨æŒ‡å—</a></li></ul></div><footer class=post-footer-modern><div class=post-tags-modern><span class=tags-label>ğŸ·ï¸ æ ‡ç­¾</span><div class=tags-list><a href=/blog/tags/flutter/ class=tag-pill>Flutter
</a><a href=/blog/tags/%E5%8A%A8%E7%94%BB/ class=tag-pill>åŠ¨ç”»
</a><a href=/blog/tags/ui%E8%AE%BE%E8%AE%A1/ class=tag-pill>UIè®¾è®¡
</a><a href=/blog/tags/%E7%A7%BB%E5%8A%A8%E5%BC%80%E5%8F%91/ class=tag-pill>ç§»åŠ¨å¼€å‘
</a><a href=/blog/tags/%E7%94%A8%E6%88%B7%E4%BD%93%E9%AA%8C/ class=tag-pill>ç”¨æˆ·ä½“éªŒ</a></div></div><style>.post-footer-modern{margin-top:3rem;padding-top:2rem;border-top:1px solid var(--border,#333333)}.post-tags-modern{display:flex;align-items:center;gap:1rem;margin-bottom:2rem;flex-wrap:wrap}.tags-label{font-size:.875rem;font-weight:600;color:var(--secondary,#999999) !important;white-space:nowrap}.tags-list{display:flex;flex-wrap:wrap;gap:.5rem;flex:1}.tag-pill{display:inline-block;padding:.25rem .75rem;background:rgba(255,255,255,5%);border:1px solid var(--border,#333333);border-radius:0;color:var(--secondary,#cccccc) !important;text-decoration:none;font-size:.8rem;font-weight:500;transition:all .2s ease}.tag-pill:hover{background:var(--primary,#ffffff);color:var(--background,#000000) !important;border-color:var(--primary,#ffffff);transform:translateY(-1px)}.post-nav-modern{margin-top:2rem}.nav-grid{display:grid;grid-template-columns:1fr 1fr;gap:1rem}.nav-card{display:flex;align-items:center;gap:1rem;padding:1.25rem;background:rgba(255,255,255,2%);border:1px solid var(--border,#333333);border-radius:12px;text-decoration:none;transition:all .2s ease;min-height:80px}.nav-card:hover{background:rgba(255,255,255,5%);border-color:var(--primary,#ffffff);transform:translateY(-2px)}.nav-card.nav-prev{justify-content:flex-start}.nav-card.nav-next{justify-content:flex-end;text-align:right}.nav-card.nav-next .nav-content{text-align:right}.nav-empty{display:flex;align-items:center;justify-content:center;background:rgba(255,255,255,1%);border:1px dashed var(--border,#333333);color:var(--secondary,#666666)}.nav-arrow{font-size:1.5rem;color:var(--primary,#ffffff);font-weight:300}.nav-content{flex:1}.nav-title{font-size:.95rem;font-weight:600;color:var(--primary,#ffffff) !important;line-height:1.4;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}[data-theme=light] .post-footer-modern{border-color:var(--border-light,#dee2e6)}[data-theme=light] .tags-label{color:var(--secondary-light,#6c757d) !important}[data-theme=light] .tag-pill{background:rgba(0,0,0,5%);border-color:var(--border-light,#dee2e6);color:var(--secondary-light,#495057) !important}[data-theme=light] .tag-pill:hover{background:var(--primary-light,#0066cc);color:var(--background-light,#ffffff) !important;border-color:var(--primary-light,#0066cc)}[data-theme=light] .nav-card{background:rgba(0,0,0,2%);border-color:var(--border-light,#dee2e6)}[data-theme=light] .nav-card:hover{background:rgba(0,102,204,5%);border-color:var(--primary-light,#0066cc)}[data-theme=light] .nav-empty{background:rgba(0,0,0,1%);border-color:var(--border-light,#dee2e6);color:var(--secondary-light,#6c757d)}[data-theme=light] .nav-arrow{color:var(--primary-light,#0066cc)}[data-theme=light] .nav-title{color:var(--primary-light,#212529) !important}@media(max-width:768px){.nav-grid{grid-template-columns:1fr;gap:.75rem}.nav-card{padding:1rem;min-height:70px}.nav-card.nav-next{text-align:left}.nav-card.nav-next .nav-content{text-align:left}.nav-title{font-size:.875rem}.post-tags-modern{flex-direction:column;gap:.75rem}}@media(max-width:480px){.nav-arrow{font-size:1.25rem}.nav-card{padding:.875rem}.nav-title{font-size:.8rem;-webkit-line-clamp:1}}</style><nav class=post-nav-modern><div class=nav-grid><a href=/blog/articles/react-native-performance-optimization/ class="nav-card nav-prev"><div class=nav-arrow>â†</div><div class=nav-content><div class=nav-title>React Nativeæ€§èƒ½ä¼˜åŒ–å®æˆ˜ï¼šæ‰“é€ 60FPSæµç•…ä½“éªŒçš„ç»ˆææŒ‡å—</div></div></a><a href=/blog/articles/wechat-mini-program-ecosystem/ class="nav-card nav-next"><div class=nav-content><div class=nav-title>å¾®ä¿¡å°ç¨‹åºç”Ÿæ€æ·±åº¦è§£æï¼šä»æµé‡åˆ°å˜ç°çš„å•†ä¸šé€»è¾‘</div></div><div class=nav-arrow>â†’</div></a></div></nav></footer></main><aside class=post-sidebar><div class=sidebar-toc id=sidebar-toc><div class=toc-header><div class=toc-title>ç›®å½•</div><button class=toc-toggle id=toc-toggle aria-label="Toggle TOC">
<svg class="toc-toggle-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M18 6 6 18M6 6l12 12"/></svg></button></div><div class=toc-content id=toc-content><ul class=toc-list><li class="toc-item toc-h2"><a href=#h2-0 class=toc-item-link><span class=toc-item-text>å¼•è¨€</span></a></li><li class="toc-item toc-h2"><a href=#h2-1 class=toc-item-link><span class=toc-item-text>FlutteråŠ¨ç”»ç³»ç»Ÿæ¶æ„</span></a></li><li class="toc-item toc-h2"><a href=#h2-2 class=toc-item-link><span class=toc-item-text>ç‰©ç†æ¨¡æ‹ŸåŠ¨ç”»</span></a></li><li class="toc-item toc-h2"><a href=#h2-3 class=toc-item-link><span class=toc-item-text>é«˜çº§åŠ¨ç”»æ•ˆæœ</span></a></li><li class="toc-item toc-h2"><a href=#h2-4 class=toc-item-link><span class=toc-item-text>æ‰‹åŠ¿é©±åŠ¨åŠ¨ç”»</span></a></li><li class="toc-item toc-h2"><a href=#h2-5 class=toc-item-link><span class=toc-item-text>æ€§èƒ½ä¼˜åŒ–æŠ€å·§</span></a></li><li class="toc-item toc-h2"><a href=#h2-6 class=toc-item-link><span class=toc-item-text>æ€»ç»“</span></a></li></ul></div></div><script>document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("sidebar-toc"),t=document.getElementById("toc-toggle"),o=document.getElementById("toc-content"),i=t?.querySelector(".toc-toggle-icon");if(!e)return;let n=!1;t&&t.addEventListener("click",function(){n=!n,n?(o.style.display="none",e.style.width="auto",i.innerHTML='<path d="M9 18l6-6-6-6"/>'):(o.style.display="block",e.style.width="200px",i.innerHTML='<path d="M18 6L6 18M6 6l12 12"/>')});const s=document.querySelector(".post-content");if(s){const e=s.querySelectorAll("h1");e.forEach((e,t)=>{e.id=`h1-${t}`});const t=s.querySelectorAll("h2");t.forEach((e,t)=>{e.id=`h2-${t}`})}const a=document.querySelectorAll(".toc-item-link");a.forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();const n=this.getAttribute("href").substring(1),t=document.getElementById(n);if(t){const e=document.querySelector(".post-header-main")?.offsetHeight||0,n=t.offsetTop-e-20;window.scrollTo({top:n,behavior:"smooth"})}})})})</script><style>.sidebar-toc{position:sticky;top:2rem;width:200px;background:#fff;border:1px solid #e5e7eb;border-radius:4px;overflow:hidden;box-shadow:0 1px 3px rgba(0,0,0,.1);z-index:100}.sidebar-toc.hidden{display:none}.toc-header{padding:12px 16px;border-bottom:1px solid #e5e7eb;background:#fafbfc;display:flex;align-items:center;justify-content:space-between}.toc-title{margin:0;font-size:13px;font-weight:500;color:#374151 !important;font-family:-apple-system,BlinkMacSystemFont,segoe ui,Roboto,sans-serif;text-transform:uppercase;letter-spacing:1px}.toc-toggle{background:0 0;border:none;cursor:pointer;padding:4px;border-radius:4px;display:flex;align-items:center;justify-content:center;transition:all .2s ease;color:#6b7280}.toc-toggle:hover{background:#e5e7eb;color:#374151}.toc-toggle-icon{transition:transform .2s ease}.toc-content{padding:12px 0}.toc-list{list-style:none;margin:0;padding:0}.toc-item{margin-bottom:4px;display:block !important;visibility:visible !important}.toc-h1,.toc-h2{display:block !important}.toc-h2{margin-left:0}.toc-item-link{display:flex;align-items:center;gap:8px;padding:8px 12px;color:#374151 !important;text-decoration:none;font-size:13px;line-height:1.4;border-radius:3px;transition:all .2s ease;font-weight:400}.toc-item-link:hover{background:#f8fafc;color:#1f2937 !important}.toc-item-link.active{background:#e0f2fe;color:#01579b !important;font-weight:500}.toc-dot{width:8px;height:8px;border-radius:50%;flex-shrink:0}.dot-red{background:#ef4444}.dot-blue{background:#2196f3}.toc-item-text{color:#1f2937 !important;font-weight:400;flex:1;display:inline !important;visibility:visible !important;opacity:1 !important;font-size:13px !important;line-height:1.4 !important}.toc-item-link .toc-item-text{color:#1f2937 !important;display:inline !important;visibility:visible !important;opacity:1 !important}.toc-item.active .dot-red{background:#d32f2f}.toc-item.active .dot-blue{background:#1976d2}[data-theme=dark] .sidebar-toc{background:#1f2937;border-color:#374151;box-shadow:0 1px 3px rgba(0,0,0,.3)}[data-theme=dark] .toc-header{background:#111827;border-color:#374151}[data-theme=dark] .toc-title{color:#f3f4f6 !important}[data-theme=dark] .toc-toggle{color:#9ca3af}[data-theme=dark] .toc-toggle:hover{background:#374151;color:#f3f4f6}[data-theme=dark] .toc-item-link{color:#e5e7eb !important}[data-theme=dark] .toc-item-link:hover{background:#374151;color:#f9fafb !important}[data-theme=dark] .toc-item-link.active{background:#0d47a1;color:#fff !important}[data-theme=dark] .toc-item-text{color:#f9fafb !important;display:inline !important;visibility:visible !important;opacity:1 !important}[data-theme=dark] .toc-item-link .toc-item-text{color:#f9fafb !important;display:inline !important;visibility:visible !important;opacity:1 !important}@media(max-width:1024px){.sidebar-toc{display:none}.post-content-wrapper{grid-template-columns:1fr !important;padding:0 1rem !important}}</style><style>.post-content-wrapper{display:grid;grid-template-columns:1fr 200px;gap:2rem;padding:0 2rem;max-width:100%}.post-content-main{min-width:0}.post-sidebar{position:sticky;top:2rem;height:fit-content;min-width:0}.post-header-main{margin-bottom:2rem;padding-bottom:1rem;border-bottom:1px solid var(--border,#333333)}.post-header-main .post-title{color:var(--primary,#ffffff) !important;font-size:2.5rem;font-weight:700;line-height:1.2;margin-bottom:1rem}.post-header-main .post-description{color:var(--secondary,#cccccc) !important;font-size:1.1rem;line-height:1.6;margin-bottom:1rem}.post-header-main .post-meta{margin-bottom:0}@media(max-width:1024px){.post-content-wrapper{grid-template-columns:1fr !important;gap:1rem;padding:0 1rem !important}.post-sidebar{display:none}}@media(max-width:768px){.post-header-main .post-title{font-size:2rem}.post-header-main .post-description{font-size:1rem}}</style></aside></div></article></main><footer class=footer><span>Â© 2024-2025 æœ‰æ¡å·¥å…·æŠ€æœ¯åšå®¢</span> Â·</footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");if(menu){const e=localStorage.getItem("menu-scroll-position");e&&(menu.scrollLeft=parseInt(e,10)),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}}document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{const e=document.querySelector("html");e.dataset.theme==="dark"?(e.dataset.theme="light",localStorage.setItem("pref-theme","light")):(e.dataset.theme="dark",localStorage.setItem("pref-theme","dark"))})</script></body></html>