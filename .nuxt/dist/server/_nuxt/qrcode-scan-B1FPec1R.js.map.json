{"file":"qrcode-scan-B1FPec1R.js","mappings":"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","names":["_ssrRenderAttrs","_mergeProps","_ssrRenderComponent","_unref","_ssrRenderList","_ssrInterpolate","_ssrRenderAttr","_push","_parent","_createVNode"],"sources":["../../../../src/pages/tools/qrcode-scan.vue"],"sourcesContent":["<template>\n  <div class=\"max-w-8xl mx-auto\">\n    <!-- 面包屑导航 -->\n    <!-- <Breadcrumb :category=\"category\" /> -->\n\n    <!-- 工具标题 -->\n    <div class=\"mt-4 mb-8\">\n      <h1 class=\"text-3xl font-bold mb-3\">二维码识别</h1>\n      <p class=\"text-muted-foreground\">识别二维码内容，支持图片上传和摄像头扫描</p>\n    </div>\n\n    <!-- 主要功能区域 -->\n    <div class=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n      <!-- 左侧：上传/扫描 -->\n      <div class=\"space-y-4\">\n        <div class=\"bg-card   rounded-lg p-6\">\n          <h2 class=\"text-lg font-semibold mb-4\">上传二维码图片</h2>\n\n          <!-- 拖拽上传 -->\n          <div\n            class=\"border-2 border-dashed rounded-lg p-8 text-center hover:border-primary transition-colors cursor-pointer\"\n            @drop=\"handleDrop\"\n            @dragover.prevent\n            @dragleave=\"handleDragLeave\"\n            @click=\"triggerFileInput\"\n          >\n            <input\n              ref=\"fileInput\"\n              type=\"file\"\n              class=\"hidden\"\n              accept=\"image/*\"\n              @change=\"handleFileSelect\"\n            />\n            <QrCode class=\"w-12 h-12 mx-auto text-muted-foreground mb-4\" />\n            <p class=\"text-lg font-medium mb-2\">拖拽图片到这里</p>\n            <p class=\"text-sm text-muted-foreground\">或者点击选择文件</p>\n          </div>\n\n          <!-- 图片预览 -->\n          <div v-if=\"selectedImage\" class=\"mt-4 space-y-4\">\n            <div class=\"relative\">\n              <img\n                :src=\"selectedImage.url\"\n                :alt=\"selectedImage.name\"\n                class=\"w-full rounded-lg\"\n              />\n              <button\n                @click=\"clearImage\"\n                class=\"absolute top-2 right-2 p-2 bg-white rounded-full shadow-md hover:shadow-lg transition-shadow\"\n              >\n                <X class=\"w-4 h-4\" />\n              </button>\n            </div>\n            <button\n              @click=\"scanImage\"\n              :disabled=\"isScanning\"\n              class=\"w-full px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90 transition-colors disabled:opacity-50\"\n            >\n              {{ isScanning ? '识别中...' : '识别二维码' }}\n            </button>\n          </div>\n\n          <!-- 示例图片 -->\n          <div class=\"mt-6\">\n            <h3 class=\"text-sm font-medium mb-3\">或尝试示例图片</h3>\n            <div class=\"grid grid-cols-3 gap-2\">\n              <button\n                v-for=\"sample in sampleImages\"\n                :key=\"sample.id\"\n                @click=\"loadSampleImage(sample)\"\n                class=\"aspect-square rounded-lg overflow-hidden hover:ring-2 hover:ring-primary transition-all\"\n              >\n                <img :src=\"sample.url\" :alt=\"sample.name\" class=\"w-full h-full object-cover\" />\n              </button>\n            </div>\n          </div>\n        </div>\n\n        <!-- 摄像头扫描 -->\n        <div class=\"bg-card   rounded-lg p-6\">\n          <h2 class=\"text-lg font-semibold mb-4\">摄像头扫描</h2>\n\n          <div class=\"space-y-4\">\n            <div v-if=\"!cameraStarted\" class=\"text-center py-8\">\n              <Camera class=\"w-12 h-12 mx-auto text-muted-foreground mb-4\" />\n              <button\n                @click=\"startCamera\"\n                class=\"px-6 py-3 bg-primary text-primary-foreground rounded-md hover:bg-primary/90 transition-colors\"\n              >\n                启动摄像头\n              </button>\n            </div>\n\n            <div v-else class=\"space-y-4\">\n              <div class=\"relative\">\n                <video\n                  ref=\"videoElement\"\n                  class=\"w-full rounded-lg\"\n                  autoplay\n                ></video>\n                <div\n                  v-show=\"showScannerOverlay\"\n                  class=\"absolute inset-0 pointer-events-none\"\n                >\n                  <div class=\"absolute inset-4 border-2 border-primary rounded\"></div>\n                  <div class=\"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-48 h-48\">\n                    <div class=\"absolute top-0 left-0 w-full h-0.5 bg-primary\"></div>\n                    <div class=\"absolute top-0 left-0 w-0.5 h-full bg-primary\"></div>\n                    <div class=\"absolute top-0 right-0 w-0.5 h-full bg-primary\"></div>\n                    <div class=\"absolute bottom-0 left-0 w-full h-0.5 bg-primary\"></div>\n                  </div>\n                </div>\n              </div>\n\n              <div class=\"flex gap-2\">\n                <button\n                  @click=\"stopCamera\"\n                  class=\"flex-1 px-4 py-2 border border-destructive text-destructive rounded-md hover:bg-destructive/5 transition-colors\"\n                >\n                  停止扫描\n                </button>\n                <button\n                  v-if=\"cameraActive\"\n                  @click=\"captureFrame\"\n                  class=\"flex-1 px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90 transition-colors\"\n                >\n                  拍照识别\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- 右侧：识别结果 -->\n      <div class=\"space-y-4\">\n        <!-- 识别结果 -->\n        <div class=\"bg-card   rounded-lg p-6\">\n          <h2 class=\"text-lg font-semibold mb-4\">识别结果</h2>\n\n          <div v-if=\"scanResult\" class=\"space-y-4\">\n            <!-- 成功状态 -->\n            <div v-if=\"scanResult.success\" class=\"space-y-4\">\n              <div class=\"flex items-center gap-2 text-green-600\">\n                <CheckCircle class=\"w-5 h-5\" />\n                <span class=\"font-medium\">识别成功</span>\n              </div>\n\n              <!-- 内容类型 -->\n              <div class=\"p-4 bg-green-50 border border-green-200 rounded-lg\">\n                <div class=\"text-sm text-green-800 mb-2\">内容类型</div>\n                <div class=\"font-medium text-green-900\">{{ scanResult.type }}</div>\n              </div>\n\n              <!-- 内容 -->\n              <div>\n                <label class=\"text-sm font-medium\">识别内容</label>\n                <div class=\"mt-2 p-4 bg-muted rounded-lg\">\n                  <template v-if=\"scanResult.type === 'URL'\">\n                    <a\n                      :href=\"scanResult.content\"\n                      target=\"_blank\"\n                      class=\"text-primary hover:underline break-all\"\n                    >\n                      {{ scanResult.content }}\n                    </a>\n                  </template>\n                  <template v-else-if=\"scanResult.type === 'Email'\">\n                    <a\n                      :href=\"`mailto:${scanResult.content}`\"\n                      class=\"text-primary hover:underline break-all\"\n                    >\n                      {{ scanResult.content }}\n                    </a>\n                  </template>\n                  <template v-else-if=\"scanResult.type === 'Phone'\">\n                    <a\n                      :href=\"`tel:${scanResult.content}`\"\n                      class=\"text-primary hover:underline\"\n                    >\n                      {{ scanResult.content }}\n                    </a>\n                  </template>\n                  <template v-else-if=\"scanResult.type === 'SMS'\">\n                    <div class=\"space-y-2\">\n                      <div class=\"text-sm text-muted-foreground\">电话号码</div>\n                      <a\n                        :href=\"`sms:${scanResult.content.phone}`\"\n                        class=\"text-primary hover:underline\"\n                      >\n                        {{ scanResult.content.phone }}\n                      </a>\n                      <div class=\"text-sm text-muted-foreground\">短信内容</div>\n                      <div class=\"break-all\">{{ scanResult.content.message }}</div>\n                    </div>\n                  </template>\n                  <template v-else-if=\"scanResult.type === 'WiFi'\">\n                    <div class=\"space-y-2 text-sm\">\n                      <div class=\"flex justify-between\">\n                        <span class=\"text-muted-foreground\">网络名称</span>\n                        <span class=\"font-medium\">{{ scanResult.content.ssid }}</span>\n                      </div>\n                      <div class=\"flex justify-between\">\n                        <span class=\"text-muted-foreground\">加密类型</span>\n                        <span class=\"font-medium\">{{ scanResult.content.encryption }}</span>\n                      </div>\n                      <div v-if=\"scanResult.content.password\" class=\"flex justify-between\">\n                        <span class=\"text-muted-foreground\">密码</span>\n                        <span class=\"font-medium\">{{ scanResult.content.password }}</span>\n                      </div>\n                    </div>\n                  </template>\n                  <template v-else-if=\"scanResult.type === 'vCard'\">\n                    <div class=\"space-y-2 text-sm\">\n                      <div class=\"flex justify-between\">\n                        <span class=\"text-muted-foreground\">姓名</span>\n                        <span class=\"font-medium\">{{ scanResult.content.name }}</span>\n                      </div>\n                      <div v-if=\"scanResult.content.phone\" class=\"flex justify-between\">\n                        <span class=\"text-muted-foreground\">电话</span>\n                        <span class=\"font-medium\">{{ scanResult.content.phone }}</span>\n                      </div>\n                      <div v-if=\"scanResult.content.email\" class=\"flex justify-between\">\n                        <span class=\"text-muted-foreground\">邮箱</span>\n                        <span class=\"font-medium\">{{ scanResult.content.email }}</span>\n                      </div>\n                    </div>\n                  </template>\n                  <template v-else-if=\"scanResult.type === 'vEvent'\">\n                    <div class=\"space-y-2 text-sm\">\n                      <div class=\"flex justify-between\">\n                        <span class=\"text-muted-foreground\">事件</span>\n                        <span class=\"font-medium\">{{ scanResult.content.summary }}</span>\n                      </div>\n                      <div class=\"flex justify-between\">\n                        <span class=\"text-muted-foreground\">开始时间</span>\n                        <span class=\"font-medium\">{{ scanResult.content.start }}</span>\n                      </div>\n                      <div class=\"flex justify-between\">\n                        <span class=\"text-muted-foreground\">结束时间</span>\n                        <span class=\"font-medium\">{{ scanResult.content.end }}</span>\n                      </div>\n                    </div>\n                  </template>\n                  <template v-else>\n                    <pre class=\"whitespace-pre-wrap break-all\">{{ scanResult.content }}</pre>\n                  </template>\n                </div>\n              </div>\n\n              <!-- 操作按钮 -->\n              <div class=\"flex gap-2\">\n                <button\n                  @click=\"copyResult\"\n                  class=\"flex-1 px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90 transition-colors flex items-center justify-center gap-2\"\n                >\n                  <Copy class=\"w-4 h-4\" />\n                  {{ copied ? '已复制' : '复制内容' }}\n                </button>\n                <button\n                  v-if=\"scanResult.type === 'URL'\"\n                  @click=\"openLink\"\n                  class=\"px-4 py-2 border border-primary text-primary rounded-md hover:bg-primary/5 transition-colors flex items-center gap-2\"\n                >\n                  <ExternalLink class=\"w-4 h-4\" />\n                  打开链接\n                </button>\n              </div>\n            </div>\n\n            <!-- 失败状态 -->\n            <div v-else class=\"space-y-4\">\n              <div class=\"flex items-center gap-2 text-destructive\">\n                <XCircle class=\"w-5 h-5\" />\n                <span class=\"font-medium\">识别失败</span>\n              </div>\n              <p class=\"text-sm text-muted-foreground\">\n                {{ scanResult.error || '未检测到二维码' }}\n              </p>\n              <div class=\"p-4 bg-yellow-50 border border-yellow-200 rounded-lg text-sm\">\n                <p class=\"text-yellow-800\">建议：</p>\n                <ul class=\"list-disc list-inside text-yellow-700 mt-2\">\n                  <li>确保图片清晰，二维码完整可见</li>\n                  <li>调整图片角度，避免倾斜</li>\n                  <li>增加图片亮度和对比度</li>\n                </ul>\n              </div>\n            </div>\n          </div>\n\n          <!-- 空状态 -->\n          <div v-else class=\"text-center py-12 text-muted-foreground\">\n            <QrCode class=\"w-16 h-16 mx-auto mb-4\" />\n            <p>上传或扫描二维码开始识别</p>\n          </div>\n        </div>\n\n        <!-- 历史记录 -->\n        <div class=\"bg-card   rounded-lg p-6\">\n          <div class=\"flex justify-between items-center mb-4\">\n            <h2 class=\"text-lg font-semibold\">历史记录</h2>\n            <button\n              @click=\"clearHistory\"\n              class=\"px-3 py-1 text-sm text-destructive hover:text-destructive/80 transition-colors\"\n            >\n              清空\n            </button>\n          </div>\n\n          <div v-if=\"scanHistory.length === 0\" class=\"text-center py-8 text-muted-foreground\">\n            暂无历史记录\n          </div>\n\n          <div v-else class=\"space-y-3 max-h-64 overflow-y-auto\">\n            <div\n              v-for=\"(item, index) in scanHistory\"\n              :key=\"index\"\n              class=\"p-3 bg-muted rounded-lg hover:bg-muted/80 transition-colors cursor-pointer\"\n              @click=\"loadHistoryItem(item)\"\n            >\n              <div class=\"flex justify-between items-start mb-2\">\n                <span class=\"font-medium text-sm\">{{ item.type }}</span>\n                <span class=\"text-xs text-muted-foreground\">{{ item.time }}</span>\n              </div>\n              <p class=\"text-sm text-muted-foreground truncate\">{{ item.content }}</p>\n            </div>\n          </div>\n        </div>\n\n        <!-- 使用说明 -->\n        <div class=\"bg-card   rounded-lg p-6\">\n          <h2 class=\"text-lg font-semibold mb-4\">支持的二维码类型</h2>\n          <div class=\"grid grid-cols-2 gap-3 text-sm\">\n            <div class=\"flex items-center gap-2\">\n              <Link class=\"w-4 h-4 text-primary\" />\n              <span>网址 (URL)</span>\n            </div>\n            <div class=\"flex items-center gap-2\">\n              <Mail class=\"w-4 h-4 text-primary\" />\n              <span>邮箱地址</span>\n            </div>\n            <div class=\"flex items-center gap-2\">\n              <Phone class=\"w-4 h-4 text-primary\" />\n              <span>电话号码</span>\n            </div>\n            <div class=\"flex items-center gap-2\">\n              <MessageSquare class=\"w-4 h-4 text-primary\" />\n              <span>短信 (SMS)</span>\n            </div>\n            <div class=\"flex items-center gap-2\">\n              <Wifi class=\"w-4 h-4 text-primary\" />\n              <span>WiFi 网络信息</span>\n            </div>\n            <div class=\"flex items-center gap-2\">\n              <Contact class=\"w-4 h-4 text-primary\" />\n              <span>名片 (vCard)</span>\n            </div>\n            <div class=\"flex items-center gap-2\">\n              <Calendar class=\"w-4 h-4 text-primary\" />\n              <span>日历事件 (vEvent)</span>\n            </div>\n            <div class=\"flex items-center gap-2\">\n              <Type class=\"w-4 h-4 text-primary\" />\n              <span>纯文本</span>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- 使用说明 -->\n    <div class=\"mt-12 space-y-6\">\n      <div class=\"bg-card   rounded-lg p-6\">\n        <h3 class=\"text-lg font-semibold mb-4 flex items-center gap-2\">\n          <Info class=\"w-5 h-5 text-primary\" />\n          使用说明\n        </h3>\n        <div class=\"space-y-4 text-sm text-muted-foreground\">\n          <div>\n            <h4 class=\"font-medium text-foreground mb-2\">使用方法</h4>\n            <ul class=\"list-disc list-inside space-y-1 ml-4\">\n              <li>上传包含二维码的图片文件</li>\n              <li>使用摄像头实时扫描二维码</li>\n              <li>系统会自动识别并解析二维码内容</li>\n              <li>支持多种二维码格式和内容类型</li>\n            </ul>\n          </div>\n          <div>\n            <h4 class=\"font-medium text-foreground mb-2\">注意事项</h4>\n            <ul class=\"list-disc list-inside space-y-1 ml-4\">\n              <li>确保二维码清晰完整，无遮挡</li>\n              <li>良好的光线条件有助于识别</li>\n              <li>摄像头扫描需要授权访问权限</li>\n              <li>不会保存上传的图片数据</li>\n            </ul>\n          </div>\n        </div>\n      </div>\n\n      <!-- 相关工具 -->\n      <div class=\"bg-card   rounded-lg p-6\">\n        <h3 class=\"text-lg font-semibold mb-4\">相关工具</h3>\n        <div class=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n          <NuxtLink\n            to=\"/tools/qrcode-generate\"\n            class=\"flex items-center gap-3 p-3 bg-muted rounded-lg hover:bg-muted/80 transition-colors group\"\n          >\n            <QrCode class=\"w-5 h-5 text-primary\" />\n            <div>\n              <p class=\"font-medium group-hover:text-primary\">二维码生成器</p>\n              <p class=\"text-xs text-muted-foreground\">在线生成二维码</p>\n            </div>\n            <ArrowRight class=\"w-4 h-4 ml-auto text-muted-foreground group-hover:text-primary\" />\n          </NuxtLink>\n          <NuxtLink\n            to=\"/tools/base64-image\"\n            class=\"flex items-center gap-3 p-3 bg-muted rounded-lg hover:bg-muted/80 transition-colors group\"\n          >\n            <Hash class=\"w-5 h-5 text-primary\" />\n            <div>\n              <p class=\"font-medium group-hover:text-primary\">Base64图片</p>\n              <p class=\"text-xs text-muted-foreground\">图片与Base64互转</p>\n            </div>\n            <ArrowRight class=\"w-4 h-4 ml-auto text-muted-foreground group-hover:text-primary\" />\n          </NuxtLink>\n          <NuxtLink\n            to=\"/tools/url-encode\"\n            class=\"flex items-center gap-3 p-3 bg-muted rounded-lg hover:bg-muted/80 transition-colors group\"\n          >\n            <Link2 class=\"w-5 h-5 text-primary\" />\n            <div>\n              <p class=\"font-medium group-hover:text-primary\">URL编码</p>\n              <p class=\"text-xs text-muted-foreground\">URL编码解码</p>\n            </div>\n            <ArrowRight class=\"w-4 h-4 ml-auto text-muted-foreground group-hover:text-primary\" />\n          </NuxtLink>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, onMounted, onUnmounted } from 'vue'\nimport { QrCode, X, CheckCircle, XCircle, Copy, ExternalLink, Camera, Link, Mail, Phone, MessageSquare, Wifi, Contact, Calendar, Type, ArrowRight, Info, Hash, Link2 } from 'lucide-vue-next'\nimport Breadcrumb from '~/components/Breadcrumb.vue'\n\n// 分类信息\nconst category = { id: 'image', name: '图片处理', description: '图片处理工具集合' }\n\n// 状态管理\nconst selectedImage = ref(null)\nconst scanResult = ref(null)\nconst isScanning = ref(false)\nconst fileInput = ref(null)\nconst videoElement = ref(null)\nconst cameraStarted = ref(false)\nconst cameraActive = ref(false)\nconst showScannerOverlay = ref(false)\nconst copied = ref(false)\nconst scanHistory = ref([])\n\n// 示例图片\nconst sampleImages = [\n  { id: 1, name: 'URL示例', url: 'https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=https://example.com' },\n  { id: 2, name: '文本示例', url: 'https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=Hello%20World' },\n  { id: 3, name: '邮箱示例', url: 'https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=mailto:example@email.com' }\n]\n\n// 处理文件选择\nconst handleFileSelect = (e) => {\n  const file = e.target.files[0]\n  if (file && file.type.startsWith('image/')) {\n    processImageFile(file)\n  }\n}\n\n// 处理拖拽\nconst handleDrop = (e) => {\n  e.preventDefault()\n  const file = e.dataTransfer.files[0]\n  if (file && file.type.startsWith('image/')) {\n    processImageFile(file)\n  }\n}\n\n// 处理拖拽离开\nconst handleDragLeave = () => {\n  // 可以添加视觉反馈，例如恢复边框颜色\n}\n\n// 处理图片文件\nconst processImageFile = (file) => {\n  const reader = new FileReader()\n  reader.onload = (e) => {\n    selectedImage.value = {\n      name: file.name,\n      url: e.target.result\n    }\n    scanResult.value = null\n  }\n  reader.readAsDataURL(file)\n}\n\n// 加载示例图片\nconst loadSampleImage = async (sample) => {\n  try {\n    const response = await fetch(sample.url)\n    const blob = await response.blob()\n    const file = new File([blob], `${sample.name}.png`, { type: 'image/png' })\n    processImageFile(file)\n  } catch (error) {\n    console.error('加载示例图片失败:', error)\n  }\n}\n\n// 清空图片\nconst clearImage = () => {\n  selectedImage.value = null\n  scanResult.value = null\n}\n\n// 扫描图片\nconst scanImage = async () => {\n  if (!selectedImage.value) return\n\n  isScanning.value = true\n\n  try {\n    // 这里使用模拟的识别结果\n    // 实际应用中需要集成 QR 码识别库，如 jsQR\n    await new Promise(resolve => setTimeout(resolve, 1000))\n\n    // 模拟识别结果\n    const mockResults = [\n      {\n        success: true,\n        type: 'URL',\n        content: 'https://example.com'\n      },\n      {\n        success: true,\n        type: 'Text',\n        content: 'Hello World! This is a sample QR code content.'\n      },\n      {\n        success: true,\n        type: 'Email',\n        content: 'example@email.com'\n      },\n      {\n        success: true,\n        type: 'WiFi',\n        content: {\n          ssid: 'MyWiFi',\n          encryption: 'WPA2',\n          password: 'password123'\n        }\n      }\n    ]\n\n    scanResult.value = mockResults[Math.floor(Math.random() * mockResults.length)]\n\n    if (scanResult.value.success) {\n      addToHistory(scanResult.value)\n    }\n  } catch (error) {\n    scanResult.value = {\n      success: false,\n      error: '识别失败：' + error.message\n    }\n  } finally {\n    isScanning.value = false\n  }\n}\n\n// 启动摄像头\nconst startCamera = async () => {\n  try {\n    const stream = await navigator.mediaDevices.getUserMedia({\n      video: { facingMode: 'environment' }\n    })\n\n    if (videoElement.value) {\n      videoElement.value.srcObject = stream\n      cameraStarted.value = true\n      cameraActive.value = true\n      showScannerOverlay.value = true\n    }\n  } catch (error) {\n    console.error('摄像头启动失败:', error)\n    alert('无法访问摄像头，请检查权限设置')\n  }\n}\n\n// 停止摄像头\nconst stopCamera = () => {\n  if (videoElement.value && videoElement.value.srcObject) {\n    const stream = videoElement.value.srcObject\n    stream.getTracks().forEach(track => track.stop())\n    videoElement.value.srcObject = null\n  }\n  cameraStarted.value = false\n  cameraActive.value = false\n  showScannerOverlay.value = false\n}\n\n// 拍照识别\nconst captureFrame = () => {\n  if (!videoElement.value || !cameraActive.value) return\n\n  const canvas = document.createElement('canvas')\n  canvas.width = videoElement.value.videoWidth\n  canvas.height = videoElement.value.videoHeight\n  const ctx = canvas.getContext('2d')\n  ctx.drawImage(videoElement.value, 0, 0)\n\n  canvas.toBlob((blob) => {\n    const url = URL.createObjectURL(blob)\n    selectedImage.value = {\n      name: 'camera_capture.jpg',\n      url: url\n    }\n    scanImage()\n  }, 'image/jpeg')\n}\n\n// 复制结果\nconst copyResult = async () => {\n  if (!scanResult.value?.success) return\n\n  let content = scanResult.value.content\n  if (typeof content === 'object') {\n    content = JSON.stringify(content, null, 2)\n  }\n\n  try {\n    await navigator.clipboard.writeText(content)\n    copied.value = true\n    setTimeout(() => {\n      copied.value = false\n    }, 2000)\n  } catch (error) {\n    console.error('复制失败:', error)\n  }\n}\n\n// 打开链接\nconst openLink = () => {\n  if (scanResult.value?.type === 'URL' && scanResult.value.content) {\n    window.open(scanResult.value.content, '_blank')\n  }\n}\n\n// 添加到历史记录\nconst addToHistory = (result) => {\n  const historyItem = {\n    type: result.type,\n    content: typeof result.content === 'object' ? JSON.stringify(result.content) : result.content,\n    time: new Date().toLocaleTimeString('zh-CN'),\n    result: result\n  }\n\n  scanHistory.value.unshift(historyItem)\n  if (scanHistory.value.length > 20) {\n    scanHistory.value = scanHistory.value.slice(0, 20)\n  }\n}\n\n// 加载历史项目\nconst loadHistoryItem = (item) => {\n  scanResult.value = item.result\n}\n\n// 清空历史记录\nconst clearHistory = () => {\n  scanHistory.value = []\n}\n\n// 触发文件输入\nconst triggerFileInput = () => {\n  fileInput.value.click()\n}\n\n// 清理\nonUnmounted(() => {\n  stopCamera()\n})\n\n// SEO配置\nuseSeoMeta({\n  title: '二维码识别 - 在线二维码扫描工具',\n  description: '免费在线二维码识别工具，支持图片上传和摄像头扫描，识别各种类型二维码内容。',\n  keywords: ['二维码识别', 'QR码扫描', '二维码读取', '在线扫描', 'QR码解析']\n})\n\ndefinePageMeta({\n  layout: 'default'\n})\n</script>"],"version":3}