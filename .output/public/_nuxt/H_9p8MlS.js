import{_ as H}from"./D4g1_bQ7.js";import{r as c,q as Y,c as l,a as e,y as p,E as j,h,v as _,t as a,F as C,k as A,b as m,j as f,x as G,d as K,w as J,o as r}from"./DEsTSaKd.js";import{X}from"./DJb2aM7w.js";import{I as Q}from"./MvNwXCJb.js";import{F as W}from"./CRvidJJ3.js";import{A as N}from"./Bluep4Ee.js";import{G as Z}from"./B8QRyNMs.js";import{C as ee}from"./vEvaw0F6.js";import"./wERbHxDK.js";const te={class:"max-w-7xl mx-auto"},se={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},oe={class:"lg:col-span-1 space-y-4"},le={class:"bg-card rounded-lg p-6"},re={class:"space-y-3"},ne={key:0,class:"bg-card rounded-lg p-6"},ae={class:"space-y-3"},ie=["disabled"],de={key:1,class:"bg-card rounded-lg p-6"},ue=["disabled"],ce={class:"lg:col-span-2 space-y-4"},pe={key:0,class:"bg-card rounded-lg p-6"},me={class:"flex items-start justify-between mb-4"},ge={class:"text-2xl font-bold mb-2"},ve={class:"text-muted-foreground mb-2"},xe={class:"flex gap-4 text-sm text-muted-foreground"},fe={key:0},ye={key:0,class:"text-right"},be={class:"font-mono text-sm"},he={key:0,class:"mt-4 p-4 bg-muted/50 rounded-lg"},_e={class:"flex flex-wrap gap-2"},we={key:1,class:"bg-card rounded-lg p-6"},Se={class:"space-y-4"},ke={class:"bg-muted/50 px-4 py-3"},Pe={class:"font-mono"},Ue={class:"divide-y"},Ce=["onClick"],Ae={class:"flex items-center gap-3 mb-2"},Ie={class:"font-medium"},Oe={class:"text-sm text-muted-foreground"},je={key:2,class:"bg-card rounded-lg p-6"},Te={class:"flex items-center justify-between mb-4"},Je={class:"space-y-4"},Ne={class:"mt-2 flex gap-2"},Ve=["disabled"],qe={key:0},Le={class:"mt-2 grid grid-cols-2 gap-2"},De={class:"text-sm font-mono"},Ee=["onUpdate:modelValue","placeholder"],Re={key:1},$e={class:"mt-2 space-y-2"},Me={class:"text-sm font-mono w-24"},Be=["onUpdate:modelValue","placeholder"],Fe={class:"text-xs text-muted-foreground"},ze={key:2},He={class:"mt-2"},Ye={key:3,class:"space-y-2"},Ge={class:"flex items-center gap-2"},Ke={class:"border rounded-lg p-4 bg-muted/30 max-h-64 overflow-auto"},Xe={class:"text-sm whitespace-pre-wrap font-mono"},Qe={class:"mt-12 space-y-6"},We={class:"bg-card rounded-lg p-6"},Ze={class:"text-lg font-semibold mb-4 flex items-center gap-2"},et={class:"bg-card rounded-lg p-6"},tt={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},pt={__name:"swagger-viewer",setup(st){const b=c("url"),w=c(""),v=c(""),n=c(null),x=c(!1),S=c(null),g=c(null),I=c(""),k=c([]),P=c([]),O=c(null),U=c("{}"),V={openapi:"3.0.0",info:{title:"示例 API",version:"1.0.0",description:"这是一个示例 API 文档"},servers:[{url:"https://api.example.com/v1"}],paths:{"/users":{get:{summary:"获取用户列表",description:"获取所有用户的列表",parameters:[{name:"page",in:"query",description:"页码",schema:{type:"integer",default:1}},{name:"limit",in:"query",description:"每页数量",schema:{type:"integer",default:10}}],responses:{200:{description:"成功",content:{"application/json":{schema:{type:"object",properties:{data:{type:"array",items:{$ref:"#/components/schemas/User"}}}}}}}}},post:{summary:"创建用户",description:"创建新用户",requestBody:{content:{"application/json":{schema:{$ref:"#/components/schemas/User"}}}},responses:{201:{description:"创建成功",content:{"application/json":{schema:{$ref:"#/components/schemas/User"}}}}}}},"/users/{id}":{get:{summary:"获取用户详情",description:"根据 ID 获取用户信息",parameters:[{name:"id",in:"path",required:!0,description:"用户 ID",schema:{type:"integer"}}],responses:{200:{description:"成功",content:{"application/json":{schema:{$ref:"#/components/schemas/User"}}}}}}}},components:{schemas:{User:{type:"object",properties:{id:{type:"integer"},name:{type:"string"},email:{type:"string"}}}}}},L=o=>({get:"bg-green-100 text-green-800",post:"bg-blue-100 text-blue-800",put:"bg-yellow-100 text-yellow-800",delete:"bg-red-100 text-red-800",patch:"bg-purple-100 text-purple-800"})[o]||"bg-gray-100 text-gray-800",D=async()=>{if(w.value){x.value=!0;try{const t=await(await fetch(w.value)).json();n.value=t}catch(o){console.error("加载失败",o),alert("加载文档失败："+o.message)}finally{x.value=!1}}},E=()=>{try{const o=JSON.parse(v.value);n.value=o}catch(o){console.error("解析失败",o),alert("解析文档失败："+o.message)}},R=()=>{try{const o=JSON.parse(v.value);v.value=JSON.stringify(o,null,2)}catch(o){console.error("格式化失败",o)}},$=()=>{v.value="",n.value=null},M=()=>{n.value=V,v.value=JSON.stringify(V,null,2)},B=(o,t,d)=>{S.value={path:o,method:t,...d};const s=n.value.servers?.[0]?.url||"";I.value=`${s}${o}`,k.value=[];const u=o.match(/\{(\w+)\}/g);if(u&&u.forEach(i=>{const y=i.slice(1,-1),T=d.parameters?.find(q=>q.name===y&&q.in==="path");k.value.push({name:y,value:"",type:T?.schema?.type||"string",example:T?.example})}),P.value=[],d.parameters&&d.parameters.forEach(i=>{i.in==="query"&&P.value.push({name:i.name,value:"",type:i.schema?.type||"string",description:i.description,example:i.example||i.schema?.default})}),O.value=d.requestBody,O.value?.content?.["application/json"]?.schema){const i=O.value.content["application/json"].schema;i.example&&(U.value=JSON.stringify(i.example,null,2))}g.value=null},F=()=>{S.value=null,g.value=null},z=async()=>{x.value=!0,g.value=null;try{let o=I.value;k.value.forEach(s=>{s.value&&(o=o.replace(`{${s.name}}`,s.value))});const t=new URLSearchParams;P.value.forEach(s=>{s.value&&t.append(s.name,s.value)}),t.toString()&&(o+=(o.includes("?")?"&":"?")+t.toString());const d={method:S.value.method.toUpperCase(),headers:{"Content-Type":"application/json"}};["POST","PUT","PATCH"].includes(S.value.method.toUpperCase())&&U.value&&(d.body=U.value),console.log("模拟请求:",{url:o,options:d}),await new Promise(s=>setTimeout(s,1e3)),g.value={status:200,statusText:"OK",data:JSON.stringify({message:"这是一个模拟响应（实际请求可能因 CORS 限制失败）",url:o,method:d.method,timestamp:new Date().toISOString()},null,2)}}catch(o){g.value={status:500,statusText:"Error",data:JSON.stringify({error:o.message,message:"请求失败，可能是由于 CORS 限制或网络错误"},null,2)}}finally{x.value=!1}};return Y({title:"Swagger 查看器 - 在线 API 文档查看测试工具",description:"免费的在线 Swagger/OpenAPI 文档查看和测试工具，支持 API 接口调试、参数配置和响应查看。",keywords:["swagger","openapi","api","文档查看","接口测试","api调试","rest api"]}),(o,t)=>{const d=H;return r(),l("div",te,[t[27]||(t[27]=e("div",{class:"mt-4 mb-8"},[e("h1",{class:"text-3xl font-bold mb-3"},"Swagger 查看器"),e("p",{class:"text-muted-foreground"},"在线查看和测试 Swagger/OpenAPI 文档，支持 API 调试和接口测试")],-1)),e("div",se,[e("div",oe,[e("div",le,[t[9]||(t[9]=e("h2",{class:"text-lg font-semibold mb-4"},"文档来源",-1)),e("div",re,[e("button",{onClick:t[0]||(t[0]=s=>b.value="url"),class:j(["w-full px-4 py-3 rounded-md transition-colors text-left",b.value==="url"?"bg-primary text-primary-foreground":"bg-muted hover:bg-muted/80"])},[...t[6]||(t[6]=[e("div",{class:"font-medium"},"URL 导入",-1),e("div",{class:"text-xs opacity-80"},"从 URL 加载 Swagger 文档",-1)])],2),e("button",{onClick:t[1]||(t[1]=s=>b.value="json"),class:j(["w-full px-4 py-3 rounded-md transition-colors text-left",b.value==="json"?"bg-primary text-primary-foreground":"bg-muted hover:bg-muted/80"])},[...t[7]||(t[7]=[e("div",{class:"font-medium"},"JSON 输入",-1),e("div",{class:"text-xs opacity-80"},"直接输入 JSON/YAML 内容",-1)])],2),e("button",{onClick:M,class:"w-full px-4 py-3 bg-muted rounded-md hover:bg-muted/80 transition-colors text-left"},[...t[8]||(t[8]=[e("div",{class:"font-medium"},"加载示例",-1),e("div",{class:"text-xs opacity-80"},"查看示例 API 文档",-1)])])])]),b.value==="url"?(r(),l("div",ne,[t[10]||(t[10]=e("h2",{class:"text-lg font-semibold mb-4"},"Swagger URL",-1)),e("div",ae,[h(e("input",{"onUpdate:modelValue":t[2]||(t[2]=s=>w.value=s),type:"url",placeholder:"https://api.example.com/swagger.json",class:"w-full px-3 py-2 border rounded-md text-sm"},null,512),[[_,w.value]]),e("button",{onClick:D,disabled:!w.value||x.value,class:"w-full px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed"},a(x.value?"加载中...":"加载文档"),9,ie)])])):p("",!0),b.value==="json"?(r(),l("div",de,[e("div",{class:"flex justify-between items-center mb-4"},[t[11]||(t[11]=e("h2",{class:"text-lg font-semibold"},"文档内容",-1)),e("div",{class:"flex gap-2"},[e("button",{onClick:R,class:"text-sm text-primary hover:text-primary/80 transition-colors"}," 格式化 "),e("button",{onClick:$,class:"text-sm text-muted-foreground hover:text-foreground transition-colors"}," 清空 ")])]),h(e("textarea",{"onUpdate:modelValue":t[3]||(t[3]=s=>v.value=s),placeholder:"粘贴 JSON/YAML 格式的 Swagger 文档...",class:"w-full h-64 px-3 py-2 border rounded-md font-mono text-sm resize-none focus:outline-none focus:ring-2 focus:ring-primary"},null,512),[[_,v.value]]),e("button",{onClick:E,disabled:!v.value,class:"w-full mt-3 px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed"}," 解析文档 ",8,ue)])):p("",!0)]),e("div",ce,[n.value?(r(),l("div",pe,[e("div",me,[e("div",null,[e("h2",ge,a(n.value.info?.title||"API Documentation"),1),e("p",ve,a(n.value.info?.description),1),e("div",xe,[e("span",null,"版本："+a(n.value.info?.version),1),n.value.info?.contact?(r(),l("span",fe,"联系："+a(n.value.info.contact.email||n.value.info.contact.name),1)):p("",!0)])]),n.value.servers&&n.value.servers.length>0?(r(),l("div",ye,[t[12]||(t[12]=e("div",{class:"text-sm text-muted-foreground mb-1"},"服务器地址",-1)),e("div",be,a(n.value.servers[0].url),1)])):p("",!0)]),n.value.components?.securitySchemes?(r(),l("div",he,[t[13]||(t[13]=e("h3",{class:"font-medium mb-2"},"认证方式",-1)),e("div",_e,[(r(!0),l(C,null,A(n.value.components.securitySchemes,(s,u)=>(r(),l("span",{key:u,class:"px-3 py-1 bg-primary/10 text-primary rounded-full text-sm"},a(s.type)+" ("+a(u)+") ",1))),128))])])):p("",!0)])):p("",!0),n.value?(r(),l("div",we,[t[14]||(t[14]=e("h2",{class:"text-lg font-semibold mb-4"},"API 接口",-1)),e("div",Se,[(r(!0),l(C,null,A(n.value.paths,(s,u)=>(r(),l("div",{key:u,class:"border rounded-lg overflow-hidden"},[e("div",ke,[e("code",Pe,a(u),1)]),e("div",Ue,[(r(!0),l(C,null,A(s,(i,y)=>(r(),l("div",{key:y,class:"p-4 hover:bg-muted/30 transition-colors cursor-pointer",onClick:T=>B(u,y,i)},[e("div",Ae,[e("span",{class:j(["px-2 py-1 text-xs font-medium rounded",L(y)])},a(y.toUpperCase()),3),e("span",Ie,a(i.summary||i.operationId),1)]),e("p",Oe,a(i.description),1)],8,Ce))),128))])]))),128))])])):p("",!0),S.value?(r(),l("div",je,[e("div",Te,[t[15]||(t[15]=e("h2",{class:"text-lg font-semibold"},"测试 API",-1)),e("button",{onClick:F,class:"text-muted-foreground hover:text-foreground transition-colors"},[m(f(X),{class:"w-5 h-5"})])]),e("div",Je,[e("div",null,[t[16]||(t[16]=e("label",{class:"text-sm font-medium"},"请求 URL",-1)),e("div",Ne,[h(e("input",{"onUpdate:modelValue":t[4]||(t[4]=s=>I.value=s),type:"text",readonly:"",class:"flex-1 px-3 py-2 border rounded-md bg-muted font-mono text-sm"},null,512),[[_,I.value]]),e("button",{onClick:z,disabled:x.value,class:"px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90 transition-colors disabled:opacity-50"},a(x.value?"发送中...":"发送请求"),9,Ve)])]),k.value.length>0?(r(),l("div",qe,[t[17]||(t[17]=e("label",{class:"text-sm font-medium"},"路径参数",-1)),e("div",Le,[(r(!0),l(C,null,A(k.value,s=>(r(),l("div",{key:s.name,class:"flex gap-2 items-center"},[e("span",De,a(s.name),1),h(e("input",{"onUpdate:modelValue":u=>s.value=u,type:"text",placeholder:s.example||"输入值",class:"flex-1 px-2 py-1 border rounded text-sm"},null,8,Ee),[[_,s.value]])]))),128))])])):p("",!0),P.value.length>0?(r(),l("div",Re,[t[18]||(t[18]=e("label",{class:"text-sm font-medium"},"查询参数",-1)),e("div",$e,[(r(!0),l(C,null,A(P.value,s=>(r(),l("div",{key:s.name,class:"flex gap-2 items-center"},[e("span",Me,a(s.name),1),h(e("input",{"onUpdate:modelValue":u=>s.value=u,type:"text",placeholder:s.example||s.description||"输入值",class:"flex-1 px-2 py-1 border rounded text-sm"},null,8,Be),[[_,s.value]]),e("span",Fe,a(s.type),1)]))),128))])])):p("",!0),O.value?(r(),l("div",ze,[t[19]||(t[19]=e("label",{class:"text-sm font-medium"},"请求体",-1)),e("div",He,[h(e("textarea",{"onUpdate:modelValue":t[5]||(t[5]=s=>U.value=s),placeholder:'{"key": "value"}',class:"w-full h-32 px-3 py-2 border rounded-md font-mono text-sm resize-none"},null,512),[[_,U.value]])])])):p("",!0),g.value?(r(),l("div",Ye,[e("div",Ge,[t[20]||(t[20]=e("label",{class:"text-sm font-medium"},"响应结果",-1)),e("span",{class:j(["px-2 py-1 text-xs rounded",g.value.status<400?"bg-green-100 text-green-800":"bg-red-100 text-red-800"])},a(g.value.status),3)]),e("div",Ke,[e("pre",Xe,a(g.value.data),1)])])):p("",!0)])])):p("",!0)])]),e("div",Qe,[e("div",We,[e("h3",Ze,[m(f(Q),{class:"w-5 h-5 text-primary"}),t[21]||(t[21]=K(" 使用说明 ",-1))]),t[22]||(t[22]=G('<div class="space-y-4 text-sm text-muted-foreground"><div><h4 class="font-medium text-foreground mb-2">1. 加载文档</h4><p>支持通过 URL 或直接粘贴 JSON/YAML 内容的方式加载 Swagger/OpenAPI 文档。</p></div><div><h4 class="font-medium text-foreground mb-2">2. 查看接口</h4><p>浏览所有 API 接口，查看请求方法、路径、参数和响应格式。</p></div><div><h4 class="font-medium text-foreground mb-2">3. 测试接口</h4><p>直接在线测试 API 接口，支持参数配置和查看响应结果。</p></div><div><h4 class="font-medium text-foreground mb-2">支持的版本</h4><p>支持 Swagger 2.0 和 OpenAPI 3.0/3.1 规范。</p></div></div>',1))]),e("div",et,[t[26]||(t[26]=e("h3",{class:"text-lg font-semibold mb-4"},"相关工具",-1)),e("div",tt,[m(d,{to:"/tools/api-doc",class:"flex items-center gap-3 p-3 bg-muted rounded-lg hover:bg-muted/80 transition-colors group"},{default:J(()=>[m(f(W),{class:"w-5 h-5 text-primary"}),t[23]||(t[23]=e("div",null,[e("p",{class:"font-medium group-hover:text-primary"},"API 文档生成"),e("p",{class:"text-xs text-muted-foreground"},"生成 API 文档")],-1)),m(f(N),{class:"w-4 h-4 ml-auto text-muted-foreground group-hover:text-primary"})]),_:1}),m(d,{to:"/tools/http-client",class:"flex items-center gap-3 p-3 bg-muted rounded-lg hover:bg-muted/80 transition-colors group"},{default:J(()=>[m(f(Z),{class:"w-5 h-5 text-primary"}),t[24]||(t[24]=e("div",null,[e("p",{class:"font-medium group-hover:text-primary"},"HTTP 客户端"),e("p",{class:"text-xs text-muted-foreground"},"发送 HTTP 请求")],-1)),m(f(N),{class:"w-4 h-4 ml-auto text-muted-foreground group-hover:text-primary"})]),_:1}),m(d,{to:"/tools/json-formatter",class:"flex items-center gap-3 p-3 bg-muted rounded-lg hover:bg-muted/80 transition-colors group"},{default:J(()=>[m(f(ee),{class:"w-5 h-5 text-primary"}),t[25]||(t[25]=e("div",null,[e("p",{class:"font-medium group-hover:text-primary"},"JSON 格式化"),e("p",{class:"text-xs text-muted-foreground"},"格式化 JSON 数据")],-1)),m(f(N),{class:"w-4 h-4 ml-auto text-muted-foreground group-hover:text-primary"})]),_:1})])])])])}}};export{pt as default};
