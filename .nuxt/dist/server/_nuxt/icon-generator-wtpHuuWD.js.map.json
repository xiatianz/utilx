{"file":"icon-generator-wtpHuuWD.js","mappings":"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","names":["_ssrRenderAttrs","_mergeProps","_ssrRenderComponent","_unref","_ssrInterpolate","_ssrRenderList","_ssrRenderAttr","_ssrIncludeBooleanAttr","_ssrRenderStyle","_push","_parent","_createVNode"],"sources":["../../../../src/pages/tools/icon-generator.vue"],"sourcesContent":["<template>\n  <div class=\"max-w-8xl mx-auto\">\n    <!-- 面包屑导航 -->\n    <!-- <Breadcrumb :category=\"category\" /> -->\n\n    <!-- 工具标题 -->\n    <div class=\"mt-4 mb-8\">\n      <h1 class=\"text-3xl font-bold mb-3\">图标生成器</h1>\n      <p class=\"text-muted-foreground\">生成 favicon 等图标，支持多种尺寸和格式</p>\n    </div>\n\n    <!-- 主要功能区域 -->\n    <div class=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n      <!-- 左侧：输入和设置 -->\n      <div class=\"space-y-4\">\n        <div class=\"bg-card border border-border  rounded-lg p-6\">\n          <h2 class=\"text-lg font-semibold mb-4\">上传图片</h2>\n\n          <!-- 拖拽上传 -->\n          <div\n            class=\"border-2 border-dashed rounded-lg p-8 text-center hover:border-primary transition-colors cursor-pointer\"\n            @drop=\"handleDrop\"\n            @dragover.prevent\n            @dragleave.prevent\n            @click=\"triggerFileInput\"\n          >\n            <input\n              ref=\"fileInput\"\n              type=\"file\"\n              class=\"hidden\"\n              accept=\"image/*\"\n              @change=\"handleFileSelect\"\n            />\n            <ImageIcon class=\"w-12 h-12 mx-auto text-muted-foreground mb-4\" />\n            <p class=\"text-lg font-medium mb-2\">拖拽图片到这里</p>\n            <p class=\"text-sm text-muted-foreground\">支持 JPG、PNG、GIF 等格式</p>\n          </div>\n\n          <!-- 图片预览 -->\n          <div v-if=\"uploadedImage\" class=\"mt-4 space-y-4\">\n            <div class=\"relative\">\n              <img\n                :src=\"uploadedImage.url\"\n                :alt=\"uploadedImage.name\"\n                class=\"w-full rounded-lg\"\n              />\n              <button\n                @click=\"clearImage\"\n                class=\"absolute top-2 right-2 p-2 bg-white rounded-full shadow-md hover:shadow-lg transition-shadow\"\n              >\n                <X class=\"w-4 h-4\" />\n              </button>\n            </div>\n            <div class=\"text-sm text-muted-foreground\">\n              <p>文件名：{{ uploadedImage.name }}</p>\n              <p>原始尺寸：{{ uploadedImage.width }} × {{ uploadedImage.height }} px</p>\n            </div>\n          </div>\n        </div>\n\n        <!-- 生成设置 -->\n        <div class=\"bg-card border border-border  rounded-lg p-6\">\n          <h2 class=\"text-lg font-semibold mb-4\">生成设置</h2>\n\n          <div class=\"space-y-4\">\n            <!-- 图标类型 -->\n            <div>\n              <label class=\"text-sm font-medium\">图标类型</label>\n              <div class=\"mt-2 grid grid-cols-2 gap-2\">\n                <button\n                  v-for=\"type in iconTypes\"\n                  :key=\"type.value\"\n                  @click=\"iconType = type.value\"\n                  :class=\"[\n                    'px-3 py-2 rounded-md transition-colors text-sm',\n                    iconType === type.value\n                      ? 'bg-primary text-primary-foreground'\n                      : 'bg-muted hover:bg-muted/80'\n                  ]\"\n                >\n                  {{ type.name }}\n                </button>\n              </div>\n            </div>\n\n            <!-- 尺寸预设 -->\n            <div>\n              <label class=\"text-sm font-medium\">尺寸预设</label>\n              <div class=\"mt-2 grid grid-cols-2 gap-2\">\n                <button\n                  v-for=\"preset in sizePresets\"\n                  :key=\"preset.name\"\n                  @click=\"applySizePreset(preset)\"\n                  class=\"px-3 py-2 bg-muted hover:bg-muted/80 rounded-md transition-colors text-sm\"\n                >\n                  {{ preset.name }}\n                </button>\n              </div>\n            </div>\n\n            <!-- 自定义尺寸 -->\n            <div>\n              <label class=\"text-sm font-medium\">自定义尺寸</label>\n              <div class=\"mt-2 grid grid-cols-4 gap-2\">\n                <div\n                  v-for=\"(size, index) in customSizes\"\n                  :key=\"index\"\n                  class=\"flex items-center gap-2\"\n                >\n                  <input\n                    v-model.number=\"size.width\"\n                    type=\"number\"\n                    min=\"16\"\n                    max=\"1024\"\n                    class=\"w-20 px-2 py-1 border rounded text-sm\"\n                    @input=\"generateIcons\"\n                  />\n                  <span class=\"text-xs text-muted-foreground\">×</span>\n                  <input\n                    v-model.number=\"size.height\"\n                    type=\"number\"\n                    min=\"16\"\n                    max=\"1024\"\n                    class=\"w-20 px-2 py-1 border rounded text-sm\"\n                    @input=\"generateIcons\"\n                  />\n                  <button\n                    @click=\"removeCustomSize(index)\"\n                    class=\"p-1 text-destructive hover:text-destructive/80\"\n                    v-if=\"customSizes.length > 1\"\n                  >\n                    <X class=\"w-4 h-4\" />\n                  </button>\n                </div>\n              </div>\n              <button\n                @click=\"addCustomSize\"\n                class=\"mt-2 w-full px-3 py-2 bg-muted hover:bg-muted/80 rounded-md transition-colors text-sm\"\n              >\n                添加尺寸\n              </button>\n            </div>\n\n            <!-- 输出格式 -->\n            <div>\n              <label class=\"text-sm font-medium\">输出格式</label>\n              <div class=\"mt-2 grid grid-cols-3 gap-2\">\n                <button\n                  v-for=\"format in outputFormats\"\n                  :key=\"format.value\"\n                  @click=\"outputFormat = format.value\"\n                  :class=\"[\n                    'px-3 py-2 rounded-md transition-colors text-sm',\n                    outputFormat === format.value\n                      ? 'bg-primary text-primary-foreground'\n                      : 'bg-muted hover:bg-muted/80'\n                  ]\"\n                >\n                  {{ format.name }}\n                </button>\n              </div>\n            </div>\n\n            <!-- 背景色（ICO格式） -->\n            <div v-if=\"outputFormat === 'ico'\">\n              <label class=\"flex items-center gap-2\">\n                <input\n                  v-model=\"transparentBackground\"\n                  type=\"checkbox\"\n                  class=\"rounded\"\n                />\n                <span class=\"text-sm\">透明背景</span>\n              </label>\n            </div>\n\n            <!-- 高级选项 -->\n            <details class=\"mt-4\">\n              <summary class=\"text-sm font-medium cursor-pointer\">高级选项</summary>\n              <div class=\"mt-3 space-y-3\">\n                <label class=\"flex items-center gap-2\">\n                  <input\n                    v-model=\"maintainAspectRatio\"\n                    type=\"checkbox\"\n                    class=\"rounded\"\n                    checked\n                  />\n                  <span class=\"text-sm\">保持宽高比</span>\n                </label>\n                <label class=\"flex items-center gap-2\">\n                  <input\n                    v-model=\"autoOptimize\"\n                    type=\"checkbox\"\n                    class=\"rounded\"\n                    checked\n                  />\n                  <span class=\"text-sm\">自动优化</span>\n                </label>\n              </div>\n            </details>\n          </div>\n        </div>\n\n        <!-- 生成按钮 -->\n        <div class=\"space-y-2\">\n          <button\n            @click=\"generateIcons\"\n            :disabled=\"!uploadedImage || isGenerating\"\n            class=\"w-full px-6 py-3 bg-primary text-primary-foreground rounded-md hover:bg-primary/90 transition-colors disabled:opacity-50 flex items-center justify-center gap-2\"\n          >\n            <Settings v-if=\"isGenerating\" class=\"w-4 h-4 animate-spin\" />\n            {{ isGenerating ? '生成中...' : '生成图标' }}\n          </button>\n          <button\n            v-if=\"generatedIcons.length > 0\"\n            @click=\"downloadAll\"\n            class=\"w-full px-4 py-2 border border-primary text-primary rounded-md hover:bg-primary/5 transition-colors flex items-center justify-center gap-2\"\n          >\n            <Download class=\"w-4 h-4\" />\n            下载所有图标\n          </button>\n        </div>\n      </div>\n\n      <!-- 右侧：预览和结果 -->\n      <div class=\"space-y-4\">\n        <!-- 预览 -->\n        <div class=\"bg-card border border-border  rounded-lg p-6\">\n          <h2 class=\"text-lg font-semibold mb-4\">图标预览</h2>\n\n          <div v-if=\"generatedIcons.length === 0\" class=\"text-center py-12 text-muted-foreground\">\n            <ImageIcon class=\"w-16 h-16 mx-auto mb-4\" />\n            <p>上传图片并点击生成按钮查看预览</p>\n          </div>\n\n          <div v-else class=\"space-y-4\">\n            <!-- 预览模式切换 -->\n            <div class=\"flex gap-2\">\n              <button\n                v-for=\"mode in previewModes\"\n                :key=\"mode.value\"\n                @click=\"previewMode = mode.value\"\n                :class=\"[\n                  'px-3 py-1 rounded-md transition-colors text-sm',\n                  previewMode === mode.value\n                    ? 'bg-primary text-primary-foreground'\n                    : 'bg-muted hover:bg-muted/80'\n                ]\"\n              >\n                {{ mode.name }}\n              </button>\n            </div>\n\n            <!-- 预览网格 -->\n            <div v-if=\"previewMode === 'grid'\" class=\"grid grid-cols-4 gap-4\">\n              <div\n                v-for=\"icon in generatedIcons\"\n                :key=\"icon.size\"\n                class=\"space-y-2\"\n              >\n                <div class=\"aspect-square bg-checkered rounded-lg p-2 flex items-center justify-center\">\n                  <img\n                    :src=\"icon.url\"\n                    :alt=\"`${icon.size}x${icon.size}`\"\n                    :style=\"{ width: icon.size + 'px', height: icon.size + 'px' }\"\n                    class=\"max-w-full max-h-full\"\n                  />\n                </div>\n                <div class=\"text-center\">\n                  <p class=\"text-sm font-medium\">{{ icon.size }}px</p>\n                  <button\n                    @click=\"downloadIcon(icon)\"\n                    class=\"mt-1 text-xs text-primary hover:text-primary/80\"\n                  >\n                    下载\n                  </button>\n                </div>\n              </div>\n            </div>\n\n            <!-- 列表预览 -->\n            <div v-else class=\"space-y-3 max-h-96 overflow-y-auto\">\n              <div\n                v-for=\"icon in generatedIcons\"\n                :key=\"icon.size\"\n                class=\"flex items-center justify-between p-4 bg-muted rounded-lg hover:bg-muted/80 transition-colors\"\n              >\n                <div class=\"flex items-center gap-3\">\n                  <div class=\"w-12 h-12 bg-checkered rounded p-1 flex items-center justify-center\">\n                    <img\n                      :src=\"icon.url\"\n                      :alt=\"`${icon.size}x${icon.size}`\"\n                      class=\"max-w-full max-h-full\"\n                    />\n                  </div>\n                  <div>\n                    <p class=\"font-medium\">{{ icon.size }} × {{ icon.size }} px</p>\n                    <p class=\"text-sm text-muted-foreground\">{{ formatFileSize(icon.size) }}</p>\n                  </div>\n                </div>\n                <button\n                  @click=\"downloadIcon(icon)\"\n                  class=\"px-3 py-1 text-sm bg-primary text-primary-foreground rounded-md hover:bg-primary/90 transition-colors\"\n                >\n                  下载\n                </button>\n              </div>\n            </div>\n\n            <!-- 实时预览 -->\n            <div v-if=\"previewMode === 'realtime'\" class=\"space-y-4\">\n              <div>\n                <label class=\"text-sm font-medium\">网站预览</label>\n                <div class=\"mt-2 p-4 bg-muted rounded-lg\">\n                  <div class=\"flex items-center gap-4\">\n                    <div class=\"w-16 h-16 bg-checkered rounded flex items-center justify-center\">\n                      <img\n                        :src=\"generatedIcons[0]?.url\"\n                        alt=\"favicon\"\n                        class=\"w-full h-full\"\n                      />\n                    </div>\n                    <div class=\"flex-1\">\n                      <p class=\"font-medium\">网站标签页图标</p>\n                      <p class=\"text-sm text-muted-foreground\">16x16, 32x32, 48x48</p>\n                    </div>\n                  </div>\n                </div>\n              </div>\n\n              <div>\n                <label class=\"text-sm font-medium\">移动应用图标</label>\n                <div class=\"mt-2 p-4 bg-muted rounded-lg\">\n                  <div class=\"flex items-center gap-4\">\n                    <div class=\"w-16 h-16 bg-checkered rounded flex items-center justify-center\">\n                      <img\n                        :src=\"generatedIcons.find(i => i.size === 57)?.url\"\n                        alt=\"ios icon\"\n                        class=\"w-full h-full\"\n                      />\n                    </div>\n                    <div class=\"flex-1\">\n                      <p class=\"font-medium\">iOS 应用图标</p>\n                      <p class=\"text-sm text-muted-foreground\">57x57, 60x60, 72x72</p>\n                    </div>\n                  </div>\n                  <div class=\"flex items-center gap-4 mt-2\">\n                    <div class=\"w-16 h-16 bg-checkered rounded flex items-center justify-center\">\n                      <img\n                        :src=\"generatedIcons.find(i => i.size === 72)?.url\"\n                        alt=\"android icon\"\n                        class=\"w-full h-full\"\n                      />\n                    </div>\n                    <div class=\"flex-1\">\n                      <p class=\"font-medium\">Android 应用图标</p>\n                      <p class=\"text-sm text-muted-foreground\">72x72, 96x96, 144x144</p>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <!-- 下载格式说明 -->\n        <div class=\"bg-card border border-border  rounded-lg p-6\">\n          <h2 class=\"text-lg font-semibold mb-4\">格式说明</h2>\n          <div class=\"space-y-4 text-sm\">\n            <div v-for=\"format in formatDescriptions\" :key=\"format.type\" class=\"p-4 bg-muted rounded-lg\">\n              <h3 class=\"font-medium mb-2\">{{ format.name }} ({{ format.ext }})</h3>\n              <p class=\"text-muted-foreground\">{{ format.description }}</p>\n              <p class=\"text-xs text-muted-foreground mt-2\">\n                用途：{{ format.uses }}\n              </p>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- 使用说明 -->\n    <div class=\"mt-12 space-y-6\">\n      <div class=\"bg-card border border-border  rounded-lg p-6\">\n        <h3 class=\"text-lg font-semibold mb-4 flex items-center gap-2\">\n          <Info class=\"w-5 h-5 text-primary\" />\n          使用说明\n        </h3>\n        <div class=\"space-y-4 text-sm text-muted-foreground\">\n          <div>\n            <h4 class=\"font-medium text-foreground mb-2\">支持的尺寸</h4>\n            <ul class=\"list-disc list-inside space-y-1 ml-4\">\n              <li><strong>Favicon</strong>：16x16, 32x32, 48x48, 64x64 px</li>\n              <li><strong>iOS</strong>：57x57, 60x60, 72x72, 114x114, 120x120, 144x144, 152x152, 167x167, 180x180, 1024x1024 px</li>\n              <li><strong>Android</strong>：36x36, 48x48, 72x72, 96x96, 144x144, 192x192, 512x512 px</li>\n              <li><strong>Windows</strong>：16x16, 24x24, 32x32, 48x48, 64x64, 128x128, 256x256 px</li>\n              <li><strong>Web App</strong>：192x192, 512x512 px</li>\n            </ul>\n          </div>\n          <div>\n            <h4 class=\"font-medium text-foreground mb-2\">格式特点</h4>\n            <ul class=\"list-disc list-inside space-y-1 ml-4\">\n              <li><strong>ICO</strong>：包含多个尺寸的单个文件，Windows 原生支持</li>\n              <li><strong>PNG</strong>：支持透明背景，质量高但文件较大</li>\n              <li><strong>JPG</strong>：不支持透明，文件较小，适合照片</li>\n              <li><strong>WebP</strong>：新一代格式，支持透明且文件小</li>\n            </ul>\n          </div>\n        </div>\n      </div>\n\n      <!-- 相关工具 -->\n      <div class=\"bg-card border border-border  rounded-lg p-6\">\n        <h3 class=\"text-lg font-semibold mb-4\">相关工具</h3>\n        <div class=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n          <NuxtLink\n            to=\"/tools/image-resize\"\n            class=\"flex items-center gap-3 p-3 bg-muted rounded-lg hover:bg-muted/80 transition-colors group\"\n          >\n            <Maximize2 class=\"w-5 h-5 text-primary\" />\n            <div>\n              <p class=\"font-medium group-hover:text-primary\">图片尺寸调整</p>\n              <p class=\"text-xs text-muted-foreground\">调整图片尺寸</p>\n            </div>\n            <ArrowRight class=\"w-4 h-4 ml-auto text-muted-foreground group-hover:text-primary\" />\n          </NuxtLink>\n          <NuxtLink\n            to=\"/tools/image-convert\"\n            class=\"flex items-center gap-3 p-3 bg-muted rounded-lg hover:bg-muted/80 transition-colors group\"\n          >\n            <RefreshCw class=\"w-5 h-5 text-primary\" />\n            <div>\n              <p class=\"font-medium group-hover:text-primary\">图片格式转换</p>\n              <p class=\"text-xs text-muted-foreground\">转换图片格式</p>\n            </div>\n            <ArrowRight class=\"w-4 h-4 ml-auto text-muted-foreground group-hover:text-primary\" />\n          </NuxtLink>\n          <NuxtLink\n            to=\"/tools/image-compress\"\n            class=\"flex items-center gap-3 p-3 bg-muted rounded-lg hover:bg-muted/80 transition-colors group\"\n          >\n            <Zap class=\"w-5 h-5 text-primary\" />\n            <div>\n              <p class=\"font-medium group-hover:text-primary\">图片压缩</p>\n              <p class=\"text-xs text-muted-foreground\">在线压缩图片</p>\n            </div>\n            <ArrowRight class=\"w-4 h-4 ml-auto text-muted-foreground group-hover:text-primary\" />\n          </NuxtLink>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, computed } from 'vue'\nimport { Info, ImageIcon, X, Settings, Download, Maximize2, RefreshCw, Zap, ArrowRight } from 'lucide-vue-next'\nimport Breadcrumb from '~/components/Breadcrumb.vue'\nimport JSZip from 'jszip'\n\n// 分类信息\nconst category = { id: 'image', name: '图片处理', description: '图片处理工具集合' }\n\n// 状态管理\nconst uploadedImage = ref(null)\nconst iconType = ref('favicon')\nconst outputFormat = ref('png')\nconst transparentBackground = ref(true)\nconst maintainAspectRatio = ref(true)\nconst autoOptimize = ref(true)\nconst isGenerating = ref(false)\nconst generatedIcons = ref([])\nconst previewMode = ref('grid')\nconst fileInput = ref(null)\n\n// 自定义尺寸\nconst customSizes = ref([\n  { width: 16, height: 16 },\n  { width: 32, height: 32 },\n  { width: 48, height: 48 },\n  { width: 64, height: 64 }\n])\n\n// 图标类型\nconst iconTypes = [\n  { value: 'favicon', name: 'Favicon' },\n  { value: 'ios', name: 'iOS' },\n  { value: 'android', name: 'Android' },\n  { value: 'windows', name: 'Windows' },\n  { value: 'webapp', name: 'Web App' }\n]\n\n// 尺寸预设\nconst sizePresets = [\n  { name: '标准网站', sizes: [16, 32, 48, 64] },\n  { name: 'iOS 应用', sizes: [57, 60, 72, 114, 120, 144, 152, 167, 180, 1024] },\n  { name: 'Android 应用', sizes: [36, 48, 72, 96, 144, 192, 512] },\n  { name: 'Windows 应用', sizes: [16, 24, 32, 48, 64, 128, 256] },\n  { name: 'Web App', sizes: [192, 512] }\n]\n\n// 输出格式\nconst outputFormats = [\n  { value: 'png', name: 'PNG' },\n  { value: 'jpg', name: 'JPG' },\n  { value: 'ico', name: 'ICO' },\n  { value: 'webp', name: 'WebP' }\n]\n\n// 预览模式\nconst previewModes = [\n  { value: 'grid', name: '网格预览' },\n  { value: 'list', name: '列表预览' },\n  { value: 'realtime', name: '实时预览' }\n]\n\n// 格式说明\nconst formatDescriptions = [\n  {\n    type: 'ico',\n    name: 'ICO',\n    ext: '.ico',\n    description: 'Windows 图标格式，可包含多个尺寸',\n    uses: 'Windows 网站favicon'\n  },\n  {\n    type: 'png',\n    name: 'PNG',\n    ext: '.png',\n    description: '支持透明通道的便携式网络图形格式',\n    uses: '网站favicon, 移动应用图标'\n  },\n  {\n    type: 'jpg',\n    name: 'JPG',\n    ext: '.jpg',\n    description: '有损压缩格式，文件小但无透明通道',\n    uses: '一般图片预览'\n  },\n  {\n    type: 'webp',\n    name: 'WebP',\n    ext: '.webp',\n    description: 'Google 开发的新一代图像格式',\n    uses: '现代网页图标'\n  }\n]\n\n// 处理文件选择\nconst handleFileSelect = (e) => {\n  const file = e.target.files[0]\n  if (file && file.type.startsWith('image/')) {\n    processImageFile(file)\n  }\n}\n\n// 处理拖拽\nconst handleDrop = (e) => {\n  e.preventDefault()\n  const file = e.dataTransfer.files[0]\n  if (file && file.type.startsWith('image/')) {\n    processImageFile(file)\n  }\n}\n\n// 处理图片文件\nconst processImageFile = (file) => {\n  const reader = new FileReader()\n  reader.onload = (e) => {\n    const img = new Image()\n    img.onload = () => {\n      uploadedImage.value = {\n        name: file.name,\n        url: e.target.result,\n        width: img.width,\n        height: img.height\n      }\n    }\n    img.src = e.target.result\n  }\n  reader.readAsDataURL(file)\n}\n\n// 清空图片\nconst clearImage = () => {\n  uploadedImage.value = null\n  generatedIcons.value = []\n}\n\n// 应用尺寸预设\nconst applySizePreset = (preset) => {\n  customSizes.value = preset.sizes.map(size => ({\n    width: size,\n    height: size\n  }))\n  if (uploadedImage.value) {\n    generateIcons()\n  }\n}\n\n// 添加自定义尺寸\nconst addCustomSize = () => {\n  customSizes.value.push({ width: 128, height: 128 })\n}\n\n// 移除自定义尺寸\nconst removeCustomSize = (index) => {\n  customSizes.value.splice(index, 1)\n}\n\n// 生成图标\nconst generateIcons = async () => {\n  if (!uploadedImage.value) return\n\n  isGenerating.value = true\n  generatedIcons.value = []\n\n  const canvas = document.createElement('canvas')\n  const ctx = canvas.getContext('2d')\n\n  for (const size of customSizes.value) {\n    canvas.width = size.width\n    canvas.height = size.height\n\n    // 清除画布\n    ctx.clearRect(0, 0, size.width, size.height)\n\n    // 如果需要透明背景，不填充背景\n    if (!transparentBackground.value && outputFormat.value !== 'ico') {\n      ctx.fillStyle = 'white'\n      ctx.fillRect(0, 0, size.width, size.height)\n    }\n\n    // 绘制图片\n    const img = new Image()\n    await new Promise((resolve) => {\n      img.onload = () => {\n        // 计算缩放和位置\n        let drawWidth = size.width\n        let drawHeight = size.height\n        let x = 0\n        let y = 0\n\n        if (maintainAspectRatio.value) {\n          const aspectRatio = uploadedImage.value.width / uploadedImage.value.height\n          const canvasRatio = size.width / size.height\n\n          if (aspectRatio > canvasRatio) {\n            drawHeight = size.width / aspectRatio\n            y = (size.height - drawHeight) / 2\n          } else {\n            drawWidth = size.height * aspectRatio\n            x = (size.width - drawWidth) / 2\n          }\n        }\n\n        ctx.drawImage(img, x, y, drawWidth, drawHeight)\n\n        // 转换为 Blob\n        canvas.toBlob((blob) => {\n          const url = URL.createObjectURL(blob)\n          generatedIcons.value.push({\n            size: size.width,\n            url: url,\n            blob: blob,\n            format: outputFormat.value\n          })\n        }, getMimeType())\n        resolve()\n      }\n      img.src = uploadedImage.value.url\n    })\n  }\n\n  isGenerating.value = false\n}\n\n// 获取 MIME 类型\nconst getMimeType = () => {\n  const mimeTypes = {\n    png: 'image/png',\n    jpg: 'image/jpeg',\n    ico: 'image/x-icon',\n    webp: 'image/webp'\n  }\n  return mimeTypes[outputFormat.value] || 'image/png'\n}\n\n// 下载单个图标\nconst downloadIcon = (icon) => {\n  const a = document.createElement('a')\n  a.href = icon.url\n  a.download = `icon_${icon.size}.${outputFormat.value}`\n  a.click()\n}\n\n// 下载所有图标\nconst downloadAll = async () => {\n  if (generatedIcons.value.length === 0) return\n\n  if (outputFormat.value === 'ico') {\n    // ICO 格式需要特殊处理\n    // 这里简化处理，实际应该使用专门的库\n    downloadIcon(generatedIcons.value[0])\n    return\n  }\n\n  // 其他格式打包成 ZIP\n  const zip = new JSZip()\n\n  generatedIcons.value.forEach(icon => {\n    zip.file(`icon_${icon.size}.${outputFormat.value}`, icon.blob)\n  })\n\n  const zipBlob = await zip.generateAsync({ type: 'blob' })\n  const url = URL.createObjectURL(zipBlob)\n\n  const a = document.createElement('a')\n  a.href = url\n  a.download = `icons_${outputFormat.value.toUpperCase()}.zip`\n  a.click()\n\n  URL.revokeObjectURL(url)\n}\n\n// 格式化文件大小\nconst formatFileSize = (size) => {\n  return `${size}×${size}px`\n}\n\n// 触发文件输入\nconst triggerFileInput = () => {\n  fileInput.value.click()\n}\n\n// SEO配置\nuseSeoMeta({\n  title: '图标生成器 - 在线生成 favicon 和应用图标',\n  description: '免费在线图标生成工具，支持 favicon、iOS、Android、Windows 等多种平台图标格式，批量生成不同尺寸。',\n  keywords: ['图标生成器', 'favicon生成', '应用图标', 'ico生成', '图标制作', '在线工具']\n})\n\ndefinePageMeta({\n  layout: 'default'\n})\n\n// 清理\nonUnmounted(() => {\n  generatedIcons.value.forEach(icon => {\n    if (icon.url) {\n      URL.revokeObjectURL(icon.url)\n    }\n  })\n})\n</script>\n\n<style scoped>\n.bg-checkered {\n  background-image:\n    linear-gradient(45deg, #f0f0f0 25%, transparent 25%),\n    linear-gradient(-45deg, #f0f0f0 25%, transparent 25%),\n    linear-gradient(45deg, transparent 75%, #f0f0f0 75%),\n    linear-gradient(-45deg, transparent 75%, #f0f0f0 75%);\n  background-size: 10px 10px;\n  background-position: 0 0, 0 5px, 5px 0, 5px -5px;\n}\n</style>"],"version":3}