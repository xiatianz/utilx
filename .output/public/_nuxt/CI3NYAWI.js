import{_ as z}from"./D4g1_bQ7.js";import{r as u,s as J,q as X,c as l,a as e,y as f,V as G,b as a,j as n,t as i,F as I,k as U,h as K,l as Y,x as q,d as w,w as k,o as r}from"./DEsTSaKd.js";import{Q as C}from"./Dw5Y31bD.js";import{X as Z}from"./DJb2aM7w.js";import{C as ee}from"./AUJSDaV8.js";import{C as te}from"./DgpKRUf-.js";import{C as se}from"./Bt5p-un4.js";import{E as oe}from"./BJDHZFrW.js";import{C as le}from"./DKw_i5g2.js";import{L as ae}from"./BP6Cft7q.js";import{M as re,P as ne,L as ie}from"./CFiHDJfE.js";import{M as de}from"./DUrx9CVo.js";import{W as ce}from"./BUYFD_dQ.js";import{c as ue}from"./wERbHxDK.js";import{C as me}from"./ByBUCkMP.js";import{T as pe}from"./Z_ZHHb8E.js";import{I as ve}from"./MvNwXCJb.js";import{A as j}from"./Bluep4Ee.js";import{H as fe}from"./ZC22Qqbx.js";const ge=ue("contact",[["path",{d:"M16 2v2",key:"scm5qe"}],["path",{d:"M7 22v-2a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2",key:"1waht3"}],["path",{d:"M8 2v2",key:"pbkmx"}],["circle",{cx:"12",cy:"11",r:"3",key:"itu57m"}],["rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",key:"12vinp"}]]),xe={class:"max-w-8xl mx-auto"},ye={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},he={class:"space-y-4"},be={class:"bg-card rounded-lg p-6"},_e={key:0,class:"mt-4 space-y-4"},we={class:"relative"},ke=["src","alt"],Ce=["disabled"],je={class:"mt-6"},Le={class:"grid grid-cols-3 gap-2"},Re=["onClick"],Se=["src","alt"],Me={class:"bg-card rounded-lg p-6"},Ie={class:"space-y-4"},Ue={key:0,class:"text-center py-8"},qe={key:1,class:"space-y-4"},Fe={class:"relative"},Te={class:"absolute inset-0 pointer-events-none"},We={class:"flex gap-2"},De={class:"space-y-4"},Ee={class:"bg-card rounded-lg p-6"},He={key:0,class:"space-y-4"},Ne={key:0,class:"space-y-4"},Oe={class:"flex items-center gap-2 text-green-600"},Be={class:"p-4 bg-green-50 border border-green-200 rounded-lg"},Ve={class:"font-medium text-green-900"},$e={class:"mt-2 p-4 bg-muted rounded-lg"},Ae=["href"],Pe=["href"],Qe=["href"],ze={key:3,class:"space-y-2"},Je=["href"],Xe={class:"break-all"},Ge={key:4,class:"space-y-2 text-sm"},Ke={class:"flex justify-between"},Ye={class:"font-medium"},Ze={class:"flex justify-between"},et={class:"font-medium"},tt={key:0,class:"flex justify-between"},st={class:"font-medium"},ot={key:5,class:"space-y-2 text-sm"},lt={class:"flex justify-between"},at={class:"font-medium"},rt={key:0,class:"flex justify-between"},nt={class:"font-medium"},it={key:1,class:"flex justify-between"},dt={class:"font-medium"},ct={key:6,class:"space-y-2 text-sm"},ut={class:"flex justify-between"},mt={class:"font-medium"},pt={class:"flex justify-between"},vt={class:"font-medium"},ft={class:"flex justify-between"},gt={class:"font-medium"},xt={key:7,class:"whitespace-pre-wrap break-all"},yt={class:"flex gap-2"},ht={key:1,class:"space-y-4"},bt={class:"flex items-center gap-2 text-destructive"},_t={class:"text-sm text-muted-foreground"},wt={key:1,class:"text-center py-12 text-muted-foreground"},kt={class:"bg-card rounded-lg p-6"},Ct={key:0,class:"text-center py-8 text-muted-foreground"},jt={key:1,class:"space-y-3 max-h-64 overflow-y-auto"},Lt=["onClick"],Rt={class:"flex justify-between items-start mb-2"},St={class:"font-medium text-sm"},Mt={class:"text-xs text-muted-foreground"},It={class:"text-sm text-muted-foreground truncate"},Ut={class:"bg-card rounded-lg p-6"},qt={class:"grid grid-cols-2 gap-3 text-sm"},Ft={class:"flex items-center gap-2"},Tt={class:"flex items-center gap-2"},Wt={class:"flex items-center gap-2"},Dt={class:"flex items-center gap-2"},Et={class:"flex items-center gap-2"},Ht={class:"flex items-center gap-2"},Nt={class:"flex items-center gap-2"},Ot={class:"flex items-center gap-2"},Bt={class:"mt-12 space-y-6"},Vt={class:"bg-card rounded-lg p-6"},$t={class:"text-lg font-semibold mb-4 flex items-center gap-2"},At={class:"bg-card rounded-lg p-6"},Pt={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},ps={__name:"qrcode-scan",setup(Qt){const p=u(null),s=u(null),g=u(!1),L=u(null),c=u(null),y=u(!1),x=u(!1),h=u(!1),b=u(!1),v=u([]),F=[{id:1,name:"URL示例",url:"https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=https://example.com"},{id:2,name:"文本示例",url:"https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=Hello%20World"},{id:3,name:"邮箱示例",url:"https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=mailto:example@email.com"}],T=o=>{const t=o.target.files[0];t&&t.type.startsWith("image/")&&_(t)},W=o=>{o.preventDefault();const t=o.dataTransfer.files[0];t&&t.type.startsWith("image/")&&_(t)},D=()=>{},_=o=>{const t=new FileReader;t.onload=m=>{p.value={name:o.name,url:m.target.result},s.value=null},t.readAsDataURL(o)},E=async o=>{try{const m=await(await fetch(o.url)).blob(),d=new File([m],`${o.name}.png`,{type:"image/png"});_(d)}catch(t){console.error("加载示例图片失败:",t)}},H=()=>{p.value=null,s.value=null},R=async()=>{if(p.value){g.value=!0;try{await new Promise(t=>setTimeout(t,1e3));const o=[{success:!0,type:"URL",content:"https://example.com"},{success:!0,type:"Text",content:"Hello World! This is a sample QR code content."},{success:!0,type:"Email",content:"example@email.com"},{success:!0,type:"WiFi",content:{ssid:"MyWiFi",encryption:"WPA2",password:"password123"}}];s.value=o[Math.floor(Math.random()*o.length)],s.value.success&&$(s.value)}catch(o){s.value={success:!1,error:"识别失败："+o.message}}finally{g.value=!1}}},N=async()=>{try{const o=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}});c.value&&(c.value.srcObject=o,y.value=!0,x.value=!0,h.value=!0)}catch(o){console.error("摄像头启动失败:",o),alert("无法访问摄像头，请检查权限设置")}},S=()=>{c.value&&c.value.srcObject&&(c.value.srcObject.getTracks().forEach(t=>t.stop()),c.value.srcObject=null),y.value=!1,x.value=!1,h.value=!1},O=()=>{if(!c.value||!x.value)return;const o=document.createElement("canvas");o.width=c.value.videoWidth,o.height=c.value.videoHeight,o.getContext("2d").drawImage(c.value,0,0),o.toBlob(m=>{const d=URL.createObjectURL(m);p.value={name:"camera_capture.jpg",url:d},R()},"image/jpeg")},B=async()=>{if(!s.value?.success)return;let o=s.value.content;typeof o=="object"&&(o=JSON.stringify(o,null,2));try{await navigator.clipboard.writeText(o),b.value=!0,setTimeout(()=>{b.value=!1},2e3)}catch(t){console.error("复制失败:",t)}},V=()=>{s.value?.type==="URL"&&s.value.content&&window.open(s.value.content,"_blank")},$=o=>{const t={type:o.type,content:typeof o.content=="object"?JSON.stringify(o.content):o.content,time:new Date().toLocaleTimeString("zh-CN"),result:o};v.value.unshift(t),v.value.length>20&&(v.value=v.value.slice(0,20))},A=o=>{s.value=o.result},P=()=>{v.value=[]},Q=()=>{L.value.click()};return J(()=>{S()}),X({title:"二维码识别 - 在线二维码扫描工具",description:"免费在线二维码识别工具，支持图片上传和摄像头扫描，识别各种类型二维码内容。",keywords:["二维码识别","QR码扫描","二维码读取","在线扫描","QR码解析"]}),(o,t)=>{const m=z;return r(),l("div",xe,[t[42]||(t[42]=e("div",{class:"mt-4 mb-8"},[e("h1",{class:"text-3xl font-bold mb-3"},"二维码识别"),e("p",{class:"text-muted-foreground"},"识别二维码内容，支持图片上传和摄像头扫描")],-1)),e("div",ye,[e("div",he,[e("div",be,[t[4]||(t[4]=e("h2",{class:"text-lg font-semibold mb-4"},"上传二维码图片",-1)),e("div",{class:"border-2 border-dashed rounded-lg p-8 text-center hover:border-primary transition-colors cursor-pointer",onDrop:W,onDragover:t[0]||(t[0]=G(()=>{},["prevent"])),onDragleave:D,onClick:Q},[e("input",{ref_key:"fileInput",ref:L,type:"file",class:"hidden",accept:"image/*",onChange:T},null,544),a(n(C),{class:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),t[1]||(t[1]=e("p",{class:"text-lg font-medium mb-2"},"拖拽图片到这里",-1)),t[2]||(t[2]=e("p",{class:"text-sm text-muted-foreground"},"或者点击选择文件",-1))],32),p.value?(r(),l("div",_e,[e("div",we,[e("img",{src:p.value.url,alt:p.value.name,class:"w-full rounded-lg"},null,8,ke),e("button",{onClick:H,class:"absolute top-2 right-2 p-2 bg-white rounded-full shadow-md hover:shadow-lg transition-shadow"},[a(n(Z),{class:"w-4 h-4"})])]),e("button",{onClick:R,disabled:g.value,class:"w-full px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90 transition-colors disabled:opacity-50"},i(g.value?"识别中...":"识别二维码"),9,Ce)])):f("",!0),e("div",je,[t[3]||(t[3]=e("h3",{class:"text-sm font-medium mb-3"},"或尝试示例图片",-1)),e("div",Le,[(r(),l(I,null,U(F,d=>e("button",{key:d.id,onClick:M=>E(d),class:"aspect-square rounded-lg overflow-hidden hover:ring-2 hover:ring-primary transition-all"},[e("img",{src:d.url,alt:d.name,class:"w-full h-full object-cover"},null,8,Se)],8,Re)),64))])])]),e("div",Me,[t[6]||(t[6]=e("h2",{class:"text-lg font-semibold mb-4"},"摄像头扫描",-1)),e("div",Ie,[y.value?(r(),l("div",qe,[e("div",Fe,[e("video",{ref_key:"videoElement",ref:c,class:"w-full rounded-lg",autoplay:""},null,512),K(e("div",Te,[...t[5]||(t[5]=[q('<div class="absolute inset-4 border-2 border-primary rounded"></div><div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-48 h-48"><div class="absolute top-0 left-0 w-full h-0.5 bg-primary"></div><div class="absolute top-0 left-0 w-0.5 h-full bg-primary"></div><div class="absolute top-0 right-0 w-0.5 h-full bg-primary"></div><div class="absolute bottom-0 left-0 w-full h-0.5 bg-primary"></div></div>',2)])],512),[[Y,h.value]])]),e("div",We,[e("button",{onClick:S,class:"flex-1 px-4 py-2 border border-destructive text-destructive rounded-md hover:bg-destructive/5 transition-colors"}," 停止扫描 "),x.value?(r(),l("button",{key:0,onClick:O,class:"flex-1 px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90 transition-colors"}," 拍照识别 ")):f("",!0)])])):(r(),l("div",Ue,[a(n(ee),{class:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),e("button",{onClick:N,class:"px-6 py-3 bg-primary text-primary-foreground rounded-md hover:bg-primary/90 transition-colors"}," 启动摄像头 ")]))])])]),e("div",De,[e("div",Ee,[t[25]||(t[25]=e("h2",{class:"text-lg font-semibold mb-4"},"识别结果",-1)),s.value?(r(),l("div",He,[s.value.success?(r(),l("div",Ne,[e("div",Oe,[a(n(te),{class:"w-5 h-5"}),t[7]||(t[7]=e("span",{class:"font-medium"},"识别成功",-1))]),e("div",Be,[t[8]||(t[8]=e("div",{class:"text-sm text-green-800 mb-2"},"内容类型",-1)),e("div",Ve,i(s.value.type),1)]),e("div",null,[t[20]||(t[20]=e("label",{class:"text-sm font-medium"},"识别内容",-1)),e("div",$e,[s.value.type==="URL"?(r(),l("a",{key:0,href:s.value.content,target:"_blank",class:"text-primary hover:underline break-all"},i(s.value.content),9,Ae)):s.value.type==="Email"?(r(),l("a",{key:1,href:`mailto:${s.value.content}`,class:"text-primary hover:underline break-all"},i(s.value.content),9,Pe)):s.value.type==="Phone"?(r(),l("a",{key:2,href:`tel:${s.value.content}`,class:"text-primary hover:underline"},i(s.value.content),9,Qe)):s.value.type==="SMS"?(r(),l("div",ze,[t[9]||(t[9]=e("div",{class:"text-sm text-muted-foreground"},"电话号码",-1)),e("a",{href:`sms:${s.value.content.phone}`,class:"text-primary hover:underline"},i(s.value.content.phone),9,Je),t[10]||(t[10]=e("div",{class:"text-sm text-muted-foreground"},"短信内容",-1)),e("div",Xe,i(s.value.content.message),1)])):s.value.type==="WiFi"?(r(),l("div",Ge,[e("div",Ke,[t[11]||(t[11]=e("span",{class:"text-muted-foreground"},"网络名称",-1)),e("span",Ye,i(s.value.content.ssid),1)]),e("div",Ze,[t[12]||(t[12]=e("span",{class:"text-muted-foreground"},"加密类型",-1)),e("span",et,i(s.value.content.encryption),1)]),s.value.content.password?(r(),l("div",tt,[t[13]||(t[13]=e("span",{class:"text-muted-foreground"},"密码",-1)),e("span",st,i(s.value.content.password),1)])):f("",!0)])):s.value.type==="vCard"?(r(),l("div",ot,[e("div",lt,[t[14]||(t[14]=e("span",{class:"text-muted-foreground"},"姓名",-1)),e("span",at,i(s.value.content.name),1)]),s.value.content.phone?(r(),l("div",rt,[t[15]||(t[15]=e("span",{class:"text-muted-foreground"},"电话",-1)),e("span",nt,i(s.value.content.phone),1)])):f("",!0),s.value.content.email?(r(),l("div",it,[t[16]||(t[16]=e("span",{class:"text-muted-foreground"},"邮箱",-1)),e("span",dt,i(s.value.content.email),1)])):f("",!0)])):s.value.type==="vEvent"?(r(),l("div",ct,[e("div",ut,[t[17]||(t[17]=e("span",{class:"text-muted-foreground"},"事件",-1)),e("span",mt,i(s.value.content.summary),1)]),e("div",pt,[t[18]||(t[18]=e("span",{class:"text-muted-foreground"},"开始时间",-1)),e("span",vt,i(s.value.content.start),1)]),e("div",ft,[t[19]||(t[19]=e("span",{class:"text-muted-foreground"},"结束时间",-1)),e("span",gt,i(s.value.content.end),1)])])):(r(),l("pre",xt,i(s.value.content),1))])]),e("div",yt,[e("button",{onClick:B,class:"flex-1 px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90 transition-colors flex items-center justify-center gap-2"},[a(n(se),{class:"w-4 h-4"}),w(" "+i(b.value?"已复制":"复制内容"),1)]),s.value.type==="URL"?(r(),l("button",{key:0,onClick:V,class:"px-4 py-2 border border-primary text-primary rounded-md hover:bg-primary/5 transition-colors flex items-center gap-2"},[a(n(oe),{class:"w-4 h-4"}),t[21]||(t[21]=w(" 打开链接 ",-1))])):f("",!0)])])):(r(),l("div",ht,[e("div",bt,[a(n(le),{class:"w-5 h-5"}),t[22]||(t[22]=e("span",{class:"font-medium"},"识别失败",-1))]),e("p",_t,i(s.value.error||"未检测到二维码"),1),t[23]||(t[23]=e("div",{class:"p-4 bg-yellow-50 border border-yellow-200 rounded-lg text-sm"},[e("p",{class:"text-yellow-800"},"建议："),e("ul",{class:"list-disc list-inside text-yellow-700 mt-2"},[e("li",null,"确保图片清晰，二维码完整可见"),e("li",null,"调整图片角度，避免倾斜"),e("li",null,"增加图片亮度和对比度")])],-1))]))])):(r(),l("div",wt,[a(n(C),{class:"w-16 h-16 mx-auto mb-4"}),t[24]||(t[24]=e("p",null,"上传或扫描二维码开始识别",-1))]))]),e("div",kt,[e("div",{class:"flex justify-between items-center mb-4"},[t[26]||(t[26]=e("h2",{class:"text-lg font-semibold"},"历史记录",-1)),e("button",{onClick:P,class:"px-3 py-1 text-sm text-destructive hover:text-destructive/80 transition-colors"}," 清空 ")]),v.value.length===0?(r(),l("div",Ct," 暂无历史记录 ")):(r(),l("div",jt,[(r(!0),l(I,null,U(v.value,(d,M)=>(r(),l("div",{key:M,class:"p-3 bg-muted rounded-lg hover:bg-muted/80 transition-colors cursor-pointer",onClick:zt=>A(d)},[e("div",Rt,[e("span",St,i(d.type),1),e("span",Mt,i(d.time),1)]),e("p",It,i(d.content),1)],8,Lt))),128))]))]),e("div",Ut,[t[35]||(t[35]=e("h2",{class:"text-lg font-semibold mb-4"},"支持的二维码类型",-1)),e("div",qt,[e("div",Ft,[a(n(ae),{class:"w-4 h-4 text-primary"}),t[27]||(t[27]=e("span",null,"网址 (URL)",-1))]),e("div",Tt,[a(n(re),{class:"w-4 h-4 text-primary"}),t[28]||(t[28]=e("span",null,"邮箱地址",-1))]),e("div",Wt,[a(n(ne),{class:"w-4 h-4 text-primary"}),t[29]||(t[29]=e("span",null,"电话号码",-1))]),e("div",Dt,[a(n(de),{class:"w-4 h-4 text-primary"}),t[30]||(t[30]=e("span",null,"短信 (SMS)",-1))]),e("div",Et,[a(n(ce),{class:"w-4 h-4 text-primary"}),t[31]||(t[31]=e("span",null,"WiFi 网络信息",-1))]),e("div",Ht,[a(n(ge),{class:"w-4 h-4 text-primary"}),t[32]||(t[32]=e("span",null,"名片 (vCard)",-1))]),e("div",Nt,[a(n(me),{class:"w-4 h-4 text-primary"}),t[33]||(t[33]=e("span",null,"日历事件 (vEvent)",-1))]),e("div",Ot,[a(n(pe),{class:"w-4 h-4 text-primary"}),t[34]||(t[34]=e("span",null,"纯文本",-1))])])])])]),e("div",Bt,[e("div",Vt,[e("h3",$t,[a(n(ve),{class:"w-5 h-5 text-primary"}),t[36]||(t[36]=w(" 使用说明 ",-1))]),t[37]||(t[37]=q('<div class="space-y-4 text-sm text-muted-foreground"><div><h4 class="font-medium text-foreground mb-2">使用方法</h4><ul class="list-disc list-inside space-y-1 ml-4"><li>上传包含二维码的图片文件</li><li>使用摄像头实时扫描二维码</li><li>系统会自动识别并解析二维码内容</li><li>支持多种二维码格式和内容类型</li></ul></div><div><h4 class="font-medium text-foreground mb-2">注意事项</h4><ul class="list-disc list-inside space-y-1 ml-4"><li>确保二维码清晰完整，无遮挡</li><li>良好的光线条件有助于识别</li><li>摄像头扫描需要授权访问权限</li><li>不会保存上传的图片数据</li></ul></div></div>',1))]),e("div",At,[t[41]||(t[41]=e("h3",{class:"text-lg font-semibold mb-4"},"相关工具",-1)),e("div",Pt,[a(m,{to:"/tools/qrcode-generate",class:"flex items-center gap-3 p-3 bg-muted rounded-lg hover:bg-muted/80 transition-colors group"},{default:k(()=>[a(n(C),{class:"w-5 h-5 text-primary"}),t[38]||(t[38]=e("div",null,[e("p",{class:"font-medium group-hover:text-primary"},"二维码生成器"),e("p",{class:"text-xs text-muted-foreground"},"在线生成二维码")],-1)),a(n(j),{class:"w-4 h-4 ml-auto text-muted-foreground group-hover:text-primary"})]),_:1}),a(m,{to:"/tools/base64-image",class:"flex items-center gap-3 p-3 bg-muted rounded-lg hover:bg-muted/80 transition-colors group"},{default:k(()=>[a(n(fe),{class:"w-5 h-5 text-primary"}),t[39]||(t[39]=e("div",null,[e("p",{class:"font-medium group-hover:text-primary"},"Base64图片"),e("p",{class:"text-xs text-muted-foreground"},"图片与Base64互转")],-1)),a(n(j),{class:"w-4 h-4 ml-auto text-muted-foreground group-hover:text-primary"})]),_:1}),a(m,{to:"/tools/url-encode",class:"flex items-center gap-3 p-3 bg-muted rounded-lg hover:bg-muted/80 transition-colors group"},{default:k(()=>[a(n(ie),{class:"w-5 h-5 text-primary"}),t[40]||(t[40]=e("div",null,[e("p",{class:"font-medium group-hover:text-primary"},"URL编码"),e("p",{class:"text-xs text-muted-foreground"},"URL编码解码")],-1)),a(n(j),{class:"w-4 h-4 ml-auto text-muted-foreground group-hover:text-primary"})]),_:1})])])])])}}};export{ps as default};
