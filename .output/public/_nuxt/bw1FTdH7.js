import{r as w,e as V,Q as B,q as M,c as a,a as t,y as c,F as x,k as f,h as n,v as r,R as b,P as N,x as h,t as m,b as g,j as y,d as O,o as d,E as R}from"./DEsTSaKd.js";import{X as C}from"./DJb2aM7w.js";import{P as z}from"./CQYC_IK1.js";import{I as G}from"./MvNwXCJb.js";import"./wERbHxDK.js";const I={class:"max-w-8xl mx-auto"},L={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},j={class:"space-y-4"},Q={class:"bg-card rounded-lg p-6"},q={class:"grid grid-cols-2 gap-3"},H=["onClick"],K={class:"font-medium"},W={class:"text-xs opacity-80"},X={key:0,class:"bg-card rounded-lg p-6"},Y={key:0,class:"space-y-4"},J={class:"mt-2 space-y-2"},Z=["onUpdate:modelValue"],_=["onUpdate:modelValue"],ee=["onClick"],te={class:"mt-2 space-y-2"},oe=["onUpdate:modelValue"],le=["onUpdate:modelValue"],se=["onClick"],ne={class:"flex items-center gap-3"},ae={class:"flex items-center gap-3"},de={key:1,class:"space-y-4"},re={class:"flex items-center gap-3"},ie={key:2,class:"space-y-4"},ue={key:3,class:"space-y-4"},me={class:"flex items-center gap-3"},pe={class:"space-y-4"},ce={class:"bg-card rounded-lg p-6"},ve={class:"flex justify-between items-center mb-4"},xe=["disabled"],fe={class:"bg-muted/30 rounded-lg p-4"},be={key:0,class:"text-sm whitespace-pre-wrap break-all"},ge={key:1,class:"text-center text-muted-foreground py-8"},ye={key:0,class:"bg-card rounded-lg p-6"},ke={class:"space-y-3 text-sm text-muted-foreground"},we={class:"bg-card rounded-lg p-6"},he={class:"space-y-3"},Ve={class:"font-medium text-sm mb-1"},Ne={class:"text-xs text-muted-foreground"},Ce={class:"mt-12 space-y-6"},Ue={class:"bg-card rounded-lg p-6"},De={class:"text-lg font-semibold mb-4 flex items-center gap-2"},Te={__name:"docker-command",setup($e){const i=w(""),k=w(!1),o=w({image:"",containerName:"",ports:[],volumes:[],environment:"",detach:!0,remove:!1,imageName:"",dockerfilePath:"./Dockerfile",context:".",buildArgs:"",noCache:!1,networkName:"",driver:"bridge",subnet:"",composeFile:"docker-compose.yml",composeAction:"up",services:"",daemon:!1}),U=[{value:"run",name:"运行容器",description:"创建并运行容器"},{value:"build",name:"构建镜像",description:"从 Dockerfile 构建镜像"},{value:"network",name:"网络管理",description:"创建和管理 Docker 网络"},{value:"compose",name:"Docker Compose",description:"多容器应用编排"}],v=V(()=>{if(!i.value)return"";let s="";switch(i.value){case"run":s="docker run",o.value.detach&&(s+=" -d"),o.value.remove&&(s+=" --rm"),o.value.containerName&&(s+=` --name ${o.value.containerName}`),o.value.ports.forEach(e=>{e.host&&e.container&&(s+=` -p ${e.host}:${e.container}`)}),o.value.volumes.forEach(e=>{e.host&&e.container&&(s+=` -v ${e.host}:${e.container}`)}),o.value.environment&&o.value.environment.split(`
`).filter(l=>l.trim()).forEach(l=>{s+=` -e ${l.trim()}`}),s+=` ${o.value.image||"<image-name>"}`;break;case"build":s="docker build",o.value.noCache&&(s+=" --no-cache"),o.value.imageName&&(s+=` -t ${o.value.imageName}`),o.value.dockerfilePath!=="./Dockerfile"&&(s+=` -f ${o.value.dockerfilePath}`),o.value.buildArgs&&o.value.buildArgs.split(`
`).filter(l=>l.trim()).forEach(l=>{s+=` --build-arg ${l.trim()}`}),s+=` ${o.value.context}`;break;case"network":s="docker network create",o.value.driver!=="bridge"&&(s+=` --driver ${o.value.driver}`),o.value.subnet&&(s+=` --subnet=${o.value.subnet}`),s+=` ${o.value.networkName||"<network-name>"}`;break;case"compose":s="docker-compose",o.value.composeFile!=="docker-compose.yml"&&(s+=` -f ${o.value.composeFile}`),s+=` ${o.value.composeAction}`,o.value.services&&(s+=` ${o.value.services}`),o.value.daemon&&["up"].includes(o.value.composeAction)&&(s+=" -d");break}return s}),D=V(()=>i.value?{run:["docker run 用于创建并启动一个新的容器","-d 参数让容器在后台运行","-p 用于端口映射，格式：主机端口:容器端口","-v 用于卷挂载，格式：主机路径:容器路径","-e 用于设置环境变量","--rm 让容器停止后自动删除"],build:["docker build 用于从 Dockerfile 构建镜像","-t 用于标记镜像名称和版本","-f 指定 Dockerfile 路径","--build-arg 传递构建参数","--no-cache 忽略缓存重新构建"],network:["docker network create 创建新的 Docker 网络","--driver 指定网络驱动类型","--subnet 配置子网范围","容器连接到同一网络后可以通过容器名互相访问"],compose:["docker-compose 用于管理多容器应用","-f 指定 compose 文件路径","up 创建并启动服务","down 停止并删除服务和网络","logs 查看服务日志"]}[i.value]||[]:[]),$=[{title:"运行 Nginx 服务器",command:"docker run -d -p 8080:80 --name web-server nginx:latest"},{title:"运行 PostgreSQL 数据库",command:"docker run -d -p 5432:5432 -e POSTGRES_PASSWORD=mysecretpassword postgres:13"},{title:"构建 Go 应用镜像",command:"docker build -t my-go-app:1.0 ."},{title:"查看运行中的容器",command:"docker ps -a"},{title:"清理未使用的资源",command:"docker system prune -a"},{title:"查看容器日志",command:"docker logs -f container-name"}],A=()=>{o.value.ports.push({host:"",container:""})},P=s=>{o.value.ports.splice(s,1)},E=()=>{o.value.volumes.push({host:"",container:""})},S=s=>{o.value.volumes.splice(s,1)},F=async()=>{try{await navigator.clipboard.writeText(v.value),k.value=!0,setTimeout(()=>{k.value=!1},2e3)}catch(s){console.error("复制失败",s)}},T=()=>{o.value={image:"",containerName:"",ports:[{host:"",container:""}],volumes:[],environment:"",detach:!0,remove:!1,imageName:"",dockerfilePath:"./Dockerfile",context:".",buildArgs:"",noCache:!1,networkName:"",driver:"bridge",subnet:"",composeFile:"docker-compose.yml",composeAction:"up",services:"",daemon:!1}};return B(i,()=>{T()}),M({title:"Docker 命令生成器 - 可视化 Docker 命令生成工具",description:"免费的在线 Docker 命令生成器，可视化配置生成 Docker 命令，支持容器运行、镜像构建、网络管理和 Docker Compose 编排。",keywords:["docker","容器","命令生成","docker-compose","容器化","dockerfile","虚拟化"]}),(s,e)=>(d(),a("div",I,[e[49]||(e[49]=t("div",{class:"mt-4 mb-8"},[t("h1",{class:"text-3xl font-bold mb-3"},"Docker 命令生成器"),t("p",{class:"text-muted-foreground"},"可视化生成 Docker 命令，支持容器管理、镜像操作和网络配置")],-1)),t("div",L,[t("div",j,[t("div",Q,[e[17]||(e[17]=t("h2",{class:"text-lg font-semibold mb-4"},"命令类型",-1)),t("div",q,[(d(),a(x,null,f(U,l=>t("button",{key:l.value,onClick:p=>i.value=l.value,class:R(["px-4 py-3 rounded-md transition-colors text-left",i.value===l.value?"bg-primary text-primary-foreground":"bg-muted hover:bg-muted/80"])},[t("div",K,m(l.name),1),t("div",W,m(l.description),1)],10,H)),64))])]),i.value?(d(),a("div",X,[e[41]||(e[41]=t("h2",{class:"text-lg font-semibold mb-4"},"配置选项",-1)),i.value==="run"?(d(),a("div",Y,[t("div",null,[e[18]||(e[18]=t("label",{class:"text-sm font-medium"},"镜像名称",-1)),n(t("input",{"onUpdate:modelValue":e[0]||(e[0]=l=>o.value.image=l),type:"text",placeholder:"nginx:latest",class:"mt-2 w-full px-3 py-2 border rounded-md text-sm"},null,512),[[r,o.value.image]])]),t("div",null,[e[19]||(e[19]=t("label",{class:"text-sm font-medium"},"容器名称",-1)),n(t("input",{"onUpdate:modelValue":e[1]||(e[1]=l=>o.value.containerName=l),type:"text",placeholder:"my-container",class:"mt-2 w-full px-3 py-2 border rounded-md text-sm"},null,512),[[r,o.value.containerName]])]),t("div",null,[e[21]||(e[21]=t("label",{class:"text-sm font-medium"},"端口映射",-1)),t("div",J,[(d(!0),a(x,null,f(o.value.ports,(l,p)=>(d(),a("div",{key:p,class:"flex gap-2"},[n(t("input",{"onUpdate:modelValue":u=>l.host=u,type:"text",placeholder:"8080",class:"flex-1 px-2 py-1 border rounded text-sm"},null,8,Z),[[r,l.host]]),e[20]||(e[20]=t("span",null,":",-1)),n(t("input",{"onUpdate:modelValue":u=>l.container=u,type:"text",placeholder:"80",class:"flex-1 px-2 py-1 border rounded text-sm"},null,8,_),[[r,l.container]]),t("button",{onClick:u=>P(p),class:"text-red-500 hover:text-red-700"},[g(y(C),{class:"w-4 h-4"})],8,ee)]))),128)),t("button",{onClick:A,class:"text-sm text-primary hover:text-primary/80"}," + 添加端口 ")])]),t("div",null,[e[23]||(e[23]=t("label",{class:"text-sm font-medium"},"卷挂载",-1)),t("div",te,[(d(!0),a(x,null,f(o.value.volumes,(l,p)=>(d(),a("div",{key:p,class:"flex gap-2"},[n(t("input",{"onUpdate:modelValue":u=>l.host=u,type:"text",placeholder:"/host/path",class:"flex-1 px-2 py-1 border rounded text-sm"},null,8,oe),[[r,l.host]]),e[22]||(e[22]=t("span",null,":",-1)),n(t("input",{"onUpdate:modelValue":u=>l.container=u,type:"text",placeholder:"/container/path",class:"flex-1 px-2 py-1 border rounded text-sm"},null,8,le),[[r,l.container]]),t("button",{onClick:u=>S(p),class:"text-red-500 hover:text-red-700"},[g(y(C),{class:"w-4 h-4"})],8,se)]))),128)),t("button",{onClick:E,class:"text-sm text-primary hover:text-primary/80"}," + 添加卷 ")])]),t("div",null,[e[24]||(e[24]=t("label",{class:"text-sm font-medium"},"环境变量",-1)),n(t("textarea",{"onUpdate:modelValue":e[2]||(e[2]=l=>o.value.environment=l),placeholder:`KEY=value
DEBUG=true`,class:"mt-2 w-full px-3 py-2 border rounded-md text-sm h-20 resize-none"},null,512),[[r,o.value.environment]])]),t("div",ne,[n(t("input",{"onUpdate:modelValue":e[3]||(e[3]=l=>o.value.detach=l),type:"checkbox",id:"detach",class:"rounded text-primary focus:ring-primary"},null,512),[[b,o.value.detach]]),e[25]||(e[25]=t("label",{for:"detach",class:"text-sm"},"后台运行",-1))]),t("div",ae,[n(t("input",{"onUpdate:modelValue":e[4]||(e[4]=l=>o.value.remove=l),type:"checkbox",id:"remove",class:"rounded text-primary focus:ring-primary"},null,512),[[b,o.value.remove]]),e[26]||(e[26]=t("label",{for:"remove",class:"text-sm"},"停止后自动删除",-1))])])):c("",!0),i.value==="build"?(d(),a("div",de,[t("div",null,[e[27]||(e[27]=t("label",{class:"text-sm font-medium"},"镜像名称",-1)),n(t("input",{"onUpdate:modelValue":e[5]||(e[5]=l=>o.value.imageName=l),type:"text",placeholder:"my-app:1.0.0",class:"mt-2 w-full px-3 py-2 border rounded-md text-sm"},null,512),[[r,o.value.imageName]])]),t("div",null,[e[28]||(e[28]=t("label",{class:"text-sm font-medium"},"Dockerfile 路径",-1)),n(t("input",{"onUpdate:modelValue":e[6]||(e[6]=l=>o.value.dockerfilePath=l),type:"text",placeholder:"./Dockerfile",class:"mt-2 w-full px-3 py-2 border rounded-md text-sm"},null,512),[[r,o.value.dockerfilePath]])]),t("div",null,[e[29]||(e[29]=t("label",{class:"text-sm font-medium"},"构建上下文",-1)),n(t("input",{"onUpdate:modelValue":e[7]||(e[7]=l=>o.value.context=l),type:"text",placeholder:".",class:"mt-2 w-full px-3 py-2 border rounded-md text-sm"},null,512),[[r,o.value.context]])]),t("div",null,[e[30]||(e[30]=t("label",{class:"text-sm font-medium"},"构建参数",-1)),n(t("textarea",{"onUpdate:modelValue":e[8]||(e[8]=l=>o.value.buildArgs=l),placeholder:`VERSION=1.0.0
ENV=production`,class:"mt-2 w-full px-3 py-2 border rounded-md text-sm h-20 resize-none"},null,512),[[r,o.value.buildArgs]])]),t("div",re,[n(t("input",{"onUpdate:modelValue":e[9]||(e[9]=l=>o.value.noCache=l),type:"checkbox",id:"noCache",class:"rounded text-primary focus:ring-primary"},null,512),[[b,o.value.noCache]]),e[31]||(e[31]=t("label",{for:"noCache",class:"text-sm"},"不使用缓存",-1))])])):c("",!0),i.value==="network"?(d(),a("div",ie,[t("div",null,[e[32]||(e[32]=t("label",{class:"text-sm font-medium"},"网络名称",-1)),n(t("input",{"onUpdate:modelValue":e[10]||(e[10]=l=>o.value.networkName=l),type:"text",placeholder:"my-network",class:"mt-2 w-full px-3 py-2 border rounded-md text-sm"},null,512),[[r,o.value.networkName]])]),t("div",null,[e[34]||(e[34]=t("label",{class:"text-sm font-medium"},"驱动类型",-1)),n(t("select",{"onUpdate:modelValue":e[11]||(e[11]=l=>o.value.driver=l),class:"mt-2 w-full px-3 py-2 border rounded-md text-sm"},[...e[33]||(e[33]=[h('<option value="bridge">Bridge</option><option value="host">Host</option><option value="overlay">Overlay</option><option value="macvlan">MACVLAN</option><option value="none">None</option>',5)])],512),[[N,o.value.driver]])]),t("div",null,[e[35]||(e[35]=t("label",{class:"text-sm font-medium"},"子网（可选）",-1)),n(t("input",{"onUpdate:modelValue":e[12]||(e[12]=l=>o.value.subnet=l),type:"text",placeholder:"172.20.0.0/16",class:"mt-2 w-full px-3 py-2 border rounded-md text-sm"},null,512),[[r,o.value.subnet]])])])):c("",!0),i.value==="compose"?(d(),a("div",ue,[t("div",null,[e[36]||(e[36]=t("label",{class:"text-sm font-medium"},"Compose 文件",-1)),n(t("input",{"onUpdate:modelValue":e[13]||(e[13]=l=>o.value.composeFile=l),type:"text",placeholder:"docker-compose.yml",class:"mt-2 w-full px-3 py-2 border rounded-md text-sm"},null,512),[[r,o.value.composeFile]])]),t("div",null,[e[38]||(e[38]=t("label",{class:"text-sm font-medium"},"操作",-1)),n(t("select",{"onUpdate:modelValue":e[14]||(e[14]=l=>o.value.composeAction=l),class:"mt-2 w-full px-3 py-2 border rounded-md text-sm"},[...e[37]||(e[37]=[h('<option value="up">启动服务</option><option value="down">停止并删除</option><option value="start">启动</option><option value="stop">停止</option><option value="restart">重启</option><option value="pull">拉取镜像</option><option value="logs">查看日志</option>',7)])],512),[[N,o.value.composeAction]])]),t("div",null,[e[39]||(e[39]=t("label",{class:"text-sm font-medium"},"指定服务（可选）",-1)),n(t("input",{"onUpdate:modelValue":e[15]||(e[15]=l=>o.value.services=l),type:"text",placeholder:"web db",class:"mt-2 w-full px-3 py-2 border rounded-md text-sm"},null,512),[[r,o.value.services]])]),t("div",me,[n(t("input",{"onUpdate:modelValue":e[16]||(e[16]=l=>o.value.daemon=l),type:"checkbox",id:"daemon",class:"rounded text-primary focus:ring-primary"},null,512),[[b,o.value.daemon]]),e[40]||(e[40]=t("label",{for:"daemon",class:"text-sm"},"后台运行",-1))])])):c("",!0)])):c("",!0)]),t("div",pe,[t("div",ce,[t("div",ve,[e[42]||(e[42]=t("h2",{class:"text-lg font-semibold"},"生成的命令",-1)),t("button",{onClick:F,disabled:!v.value,class:"px-3 py-1 text-sm border border-primary text-primary rounded-md hover:bg-primary/5 transition-colors disabled:opacity-50 disabled:cursor-not-allowed"},m(k.value?"已复制":"复制"),9,xe)]),t("div",fe,[v.value?(d(),a("code",be,m(v.value),1)):(d(),a("div",ge,[g(y(z),{class:"w-12 h-12 mx-auto mb-4 opacity-50"}),e[43]||(e[43]=t("p",null,"请选择命令类型并配置选项",-1))]))])]),v.value?(d(),a("div",ye,[e[45]||(e[45]=t("h2",{class:"text-lg font-semibold mb-4"},"命令说明",-1)),t("div",ke,[(d(!0),a(x,null,f(D.value,l=>(d(),a("div",{key:l,class:"flex gap-2"},[e[44]||(e[44]=t("span",{class:"text-primary"},"•",-1)),t("span",null,m(l),1)]))),128))])])):c("",!0),t("div",we,[e[46]||(e[46]=t("h2",{class:"text-lg font-semibold mb-4"},"常用命令示例",-1)),t("div",he,[(d(),a(x,null,f($,l=>t("div",{key:l.title,class:"p-3 bg-muted rounded-lg"},[t("h4",Ve,m(l.title),1),t("code",Ne,m(l.command),1)])),64))])])])]),t("div",Ce,[t("div",Ue,[t("h3",De,[g(y(G),{class:"w-5 h-5 text-primary"}),e[47]||(e[47]=O(" Docker 最佳实践 ",-1))]),e[48]||(e[48]=h('<div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div><h4 class="font-medium text-foreground mb-2">容器管理</h4><ul class="space-y-1 text-sm text-muted-foreground"><li>• 使用 .dockerignore 排除不必要的文件</li><li>• 为容器设置资源限制</li><li>• 使用健康检查确保容器正常</li><li>• 定期清理未使用的镜像和容器</li></ul></div><div><h4 class="font-medium text-foreground mb-2">镜像优化</h4><ul class="space-y-1 text-sm text-muted-foreground"><li>• 使用多阶段构建减小镜像体积</li><li>• 选择合适的基础镜像</li><li>• 合理利用缓存层</li><li>• 最小化镜像层数</li></ul></div></div>',1))])])]))}};export{Te as default};
