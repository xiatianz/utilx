{"file":"line-operations-BBjfA5yz.js","mappings":"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","names":["_ssrRenderAttrs","_mergeProps","_ssrRenderComponent","_unref","_ssrInterpolate","_push","_parent","_createVNode"],"sources":["../../../../src/pages/tools/line-operations.vue"],"sourcesContent":["<template>\n  <div class=\"max-w-8xl mx-auto\">\n    <!-- 面包屑导航 -->\n    <!-- <Breadcrumb :category=\"category\" /> -->\n\n    <!-- 工具标题 -->\n    <div class=\"mt-4 mb-8\">\n      <h1 class=\"text-3xl font-bold mb-3\">行操作工具</h1>\n      <p class=\"text-muted-foreground\">对文本行进行排序、去重、过滤等批量操作</p>\n    </div>\n\n    <!-- 主要功能区域 -->\n    <div class=\"space-y-6\">\n      <!-- 操作选项 -->\n      <div class=\"bg-card   rounded-lg p-6\">\n        <h2 class=\"text-lg font-semibold mb-4\">操作选项</h2>\n\n        <div class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n          <!-- 排序选项 -->\n          <div class=\"space-y-2\">\n            <h3 class=\"font-medium text-sm\">排序</h3>\n            <div class=\"space-y-1\">\n              <button\n                @click=\"sortLines('asc')\"\n                class=\"w-full px-3 py-2 text-sm bg-muted hover:bg-muted/80 rounded transition-colors text-left\"\n              >\n                <SortAsc class=\"w-4 h-4 inline mr-2\" />\n                升序排序\n              </button>\n              <button\n                @click=\"sortLines('desc')\"\n                class=\"w-full px-3 py-2 text-sm bg-muted hover:bg-muted/80 rounded transition-colors text-left\"\n              >\n                <SortDesc class=\"w-4 h-4 inline mr-2\" />\n                降序排序\n              </button>\n              <button\n                @click=\"sortLines('length')\"\n                class=\"w-full px-3 py-2 text-sm bg-muted hover:bg-muted/80 rounded transition-colors text-left\"\n              >\n                <ArrowUpDown class=\"w-4 h-4 inline mr-2\" />\n                按长度排序\n              </button>\n              <button\n                @click=\"sortLines('random')\"\n                class=\"w-full px-3 py-2 text-sm bg-muted hover:bg-muted/80 rounded transition-colors text-left\"\n              >\n                <Shuffle class=\"w-4 h-4 inline mr-2\" />\n                随机排序\n              </button>\n            </div>\n          </div>\n\n          <!-- 去重选项 -->\n          <div class=\"space-y-2\">\n            <h3 class=\"font-medium text-sm\">去重</h3>\n            <div class=\"space-y-1\">\n              <button\n                @click=\"dedupeLines()\"\n                class=\"w-full px-3 py-2 text-sm bg-muted hover:bg-muted/80 rounded transition-colors text-left\"\n              >\n                <Filter class=\"w-4 h-4 inline mr-2\" />\n                删除重复行\n              </button>\n              <button\n                @click=\"dedupeLines(true)\"\n                class=\"w-full px-3 py-2 text-sm bg-muted hover:bg-muted/80 rounded transition-colors text-left\"\n              >\n                <Filter class=\"w-4 h-4 inline mr-2\" />\n                忽略大小写去重\n              </button>\n              <button\n                @click=\"dedupeLines(false, true)\"\n                class=\"w-full px-3 py-2 text-sm bg-muted hover:bg-muted/80 rounded transition-colors text-left\"\n              >\n                <Filter class=\"w-4 h-4 inline mr-2\" />\n                去除空格后去重\n              </button>\n              <button\n                @click=\"keepUniqueLines()\"\n                class=\"w-full px-3 py-2 text-sm bg-muted hover:bg-muted/80 rounded transition-colors text-left\"\n              >\n                <Hash class=\"w-4 h-4 inline mr-2\" />\n                只保留唯一行\n              </button>\n            </div>\n          </div>\n\n          <!-- 过滤选项 -->\n          <div class=\"space-y-2\">\n            <h3 class=\"font-medium text-sm\">过滤</h3>\n            <div class=\"space-y-1\">\n              <button\n                @click=\"filterEmptyLines()\"\n                class=\"w-full px-3 py-2 text-sm bg-muted hover:bg-muted/80 rounded transition-colors text-left\"\n              >\n                <MinusCircle class=\"w-4 h-4 inline mr-2\" />\n                删除空行\n              </button>\n              <button\n                @click=\"filterWhitespaceLines()\"\n                class=\"w-full px-3 py-2 text-sm bg-muted hover:bg-muted/80 rounded transition-colors text-left\"\n              >\n                <MinusCircle class=\"w-4 h-4 inline mr-2\" />\n                删除空白行\n              </button>\n              <button\n                @click=\"showFilterDialog\"\n                class=\"w-full px-3 py-2 text-sm bg-muted hover:bg-muted/80 rounded transition-colors text-left\"\n              >\n                <Search class=\"w-4 h-4 inline mr-2\" />\n                按内容过滤\n              </button>\n              <button\n                @click=\"reverseLines()\"\n                class=\"w-full px-3 py-2 text-sm bg-muted hover:bg-muted/80 rounded transition-colors text-left\"\n              >\n                <ArrowUpDown class=\"w-4 h-4 inline mr-2\" />\n                反转行顺序\n              </button>\n            </div>\n          </div>\n        </div>\n\n        <!-- 其他操作 -->\n        <div class=\"mt-4 pt-4 border-t\">\n          <h3 class=\"font-medium text-sm mb-2\">其他操作</h3>\n          <div class=\"flex flex-wrap gap-2\">\n            <button\n              @click=\"addLineNumbers()\"\n              class=\"px-3 py-1.5 text-sm bg-muted hover:bg-muted/80 rounded transition-colors\"\n            >\n              添加行号\n            </button>\n            <button\n              @click=\"removeLineNumbers()\"\n              class=\"px-3 py-1.5 text-sm bg-muted hover:bg-muted/80 rounded transition-colors\"\n            >\n              移除行号\n            </button>\n            <button\n              @click=\"addPrefix()\"\n              class=\"px-3 py-1.5 text-sm bg-muted hover:bg-muted/80 rounded transition-colors\"\n            >\n              添加前缀\n            </button>\n            <button\n              @click=\"addSuffix()\"\n              class=\"px-3 py-1.5 text-sm bg-muted hover:bg-muted/80 rounded transition-colors\"\n            >\n              添加后缀\n            </button>\n            <button\n              @click=\"trimLines()\"\n              class=\"px-3 py-1.5 text-sm bg-muted hover:bg-muted/80 rounded transition-colors\"\n            >\n              去除首尾空格\n            </button>\n            <button\n              @click=\"joinLines()\"\n              class=\"px-3 py-1.5 text-sm bg-muted hover:bg-muted/80 rounded transition-colors\"\n            >\n              合并为一行\n            </button>\n          </div>\n        </div>\n      </div>\n\n      <!-- 输入输出区域 -->\n      <div class=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n        <!-- 输入区域 -->\n        <div class=\"space-y-4\">\n          <div class=\"flex items-center justify-between\">\n            <h2 class=\"text-lg font-semibold\">输入文本</h2>\n            <div class=\"flex gap-2\">\n              <button\n                @click=\"pasteFromClipboard\"\n                class=\"px-3 py-1 text-sm text-muted-foreground hover:text-foreground transition-colors\"\n              >\n                粘贴\n              </button>\n              <button\n                @click=\"clearInput\"\n                class=\"px-3 py-1 text-sm text-muted-foreground hover:text-foreground transition-colors\"\n              >\n                清空\n              </button>\n            </div>\n          </div>\n\n          <textarea\n            v-model=\"inputText\"\n            placeholder=\"请输入要处理的文本，每行一个条目...\"\n            class=\"w-full h-64 p-4 border rounded-lg resize-none focus:outline-none focus:ring-2 focus:ring-primary font-mono text-sm\"\n          ></textarea>\n\n          <div class=\"text-sm text-muted-foreground\">\n            <span>{{ lineCount }} 行</span>\n            <span class=\"mx-2\">·</span>\n            <span>{{ inputText.length }} 个字符</span>\n          </div>\n        </div>\n\n        <!-- 输出区域 -->\n        <div class=\"space-y-4\">\n          <div class=\"flex items-center justify-between\">\n            <h2 class=\"text-lg font-semibold\">输出结果</h2>\n            <div class=\"flex gap-2\">\n              <button\n                v-if=\"outputText\"\n                @click=\"copyOutput\"\n                class=\"px-3 py-1 text-sm text-muted-foreground hover:text-foreground transition-colors\"\n              >\n                {{ copied ? '已复制' : '复制' }}\n              </button>\n              <button\n                v-if=\"outputText\"\n                @click=\"downloadOutput\"\n                class=\"px-3 py-1 text-sm text-muted-foreground hover:text-foreground transition-colors\"\n              >\n                下载\n              </button>\n            </div>\n          </div>\n\n          <textarea\n            v-model=\"outputText\"\n            readonly\n            placeholder=\"处理结果将显示在这里...\"\n            class=\"w-full h-64 p-4 bg-muted rounded-lg resize-none font-mono text-sm\"\n          ></textarea>\n\n          <div class=\"text-sm text-muted-foreground\">\n            <span>{{ outputLineCount }} 行</span>\n            <span class=\"mx-2\">·</span>\n            <span>{{ outputText.length }} 个字符</span>\n            <span v-if=\"outputText && lineCount !== outputLineCount\" class=\"ml-2 text-primary\">\n              ({{ outputLineCount > lineCount ? '+' : '' }}{{ outputLineCount - lineCount }} 行)\n            </span>\n          </div>\n        </div>\n      </div>\n\n      <!-- 操作历史 -->\n      <div v-if=\"operationHistory.length > 0\" class=\"bg-card   rounded-lg p-6\">\n        <div class=\"flex items-center justify-between mb-4\">\n          <h2 class=\"text-lg font-semibold\">操作历史</h2>\n          <button\n            @click=\"undoLastOperation\"\n            :disabled=\"!canUndo\"\n            class=\"px-3 py-1 text-sm text-muted-foreground hover:text-foreground disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\n          >\n            撤销\n          </button>\n        </div>\n\n        <div class=\"space-y-2\">\n          <div\n            v-for=\"(item, index) in operationHistory\"\n            :key=\"index\"\n            class=\"flex items-center justify-between text-sm p-2 bg-muted rounded\"\n          >\n            <span>{{ item.name }}</span>\n            <span class=\"text-muted-foreground\">{{ item.time }}</span>\n          </div>\n        </div>\n      </div>\n\n      <!-- 相关工具 -->\n      <div class=\"bg-card   rounded-lg p-6\">\n        <h3 class=\"text-lg font-semibold mb-4\">相关工具</h3>\n        <div class=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n          <NuxtLink\n            to=\"/tools/text/text-replace\"\n            class=\"flex items-center gap-3 p-3 bg-muted rounded-lg hover:bg-muted/80 transition-colors group\"\n          >\n            <FileText class=\"w-5 h-5 text-primary\" />\n            <div>\n              <p class=\"font-medium group-hover:text-primary\">文本替换</p>\n              <p class=\"text-xs text-muted-foreground\">批量查找替换</p>\n            </div>\n            <ArrowRight class=\"w-4 h-4 ml-auto text-muted-foreground group-hover:text-primary\" />\n          </NuxtLink>\n          <NuxtLink\n            to=\"/tools/text/text-counter\"\n            class=\"flex items-center gap-3 p-3 bg-muted rounded-lg hover:bg-muted/80 transition-colors group\"\n          >\n            <FileText class=\"w-5 h-5 text-primary\" />\n            <div>\n              <p class=\"font-medium group-hover:text-primary\">字数统计</p>\n              <p class=\"text-xs text-muted-foreground\">统计文本信息</p>\n            </div>\n            <ArrowRight class=\"w-4 h-4 ml-auto text-muted-foreground group-hover:text-primary\" />\n          </NuxtLink>\n          <NuxtLink\n            to=\"/tools/text/text-diff\"\n            class=\"flex items-center gap-3 p-3 bg-muted rounded-lg hover:bg-muted/80 transition-colors group\"\n          >\n            <FileDiff class=\"w-5 h-5 text-primary\" />\n            <div>\n              <p class=\"font-medium group-hover:text-primary\">文本对比</p>\n              <p class=\"text-xs text-muted-foreground\">比较文本差异</p>\n            </div>\n            <ArrowRight class=\"w-4 h-4 ml-auto text-muted-foreground group-hover:text-primary\" />\n          </NuxtLink>\n        </div>\n      </div>\n    </div>\n\n    <!-- 过滤对话框 -->\n    <div v-if=\"showFilter\" class=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50\">\n      <div class=\"bg-background rounded-lg p-6 w-full max-w-md\">\n        <h3 class=\"text-lg font-semibold mb-4\">过滤选项</h3>\n\n        <div class=\"space-y-4\">\n          <div>\n            <label class=\"text-sm font-medium mb-2 block\">过滤模式</label>\n            <select v-model=\"filterMode\" class=\"w-full p-2 border rounded\">\n              <option value=\"include\">包含</option>\n              <option value=\"exclude\">不包含</option>\n              <option value=\"startsWith\">开头是</option>\n              <option value=\"endsWith\">结尾是</option>\n              <option value=\"regex\">正则表达式</option>\n            </select>\n          </div>\n\n          <div>\n            <label class=\"text-sm font-medium mb-2 block\">过滤内容</label>\n            <input\n              v-model=\"filterContent\"\n              type=\"text\"\n              placeholder=\"请输入过滤内容...\"\n              class=\"w-full p-2 border rounded\"\n            />\n          </div>\n\n          <div class=\"flex justify-end gap-2\">\n            <button\n              @click=\"closeFilterDialog\"\n              class=\"px-4 py-2 text-sm border border-border rounded hover:bg-muted transition-colors\"\n            >\n              取消\n            </button>\n            <button\n              @click=\"applyFilter\"\n              class=\"px-4 py-2 text-sm bg-primary text-primary-foreground rounded hover:bg-primary/90 transition-colors\"\n            >\n              应用\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, computed } from 'vue'\nimport {\n  SortAsc, SortDesc, ArrowUpDown, Shuffle, Filter,\n  MinusCircle, Search, Hash, FileText, FileDiff,\n  ArrowRight\n} from 'lucide-vue-next'\nimport Breadcrumb from '~/components/Breadcrumb.vue'\n\n// 分类信息\nconst category = { id: 'text', name: '文本处理', description: '文本处理工具集合' }\n\n// 状态管理\nconst inputText = ref('')\nconst outputText = ref('')\nconst copied = ref(false)\nconst operationHistory = ref([])\nconst historyStack = ref([])\n\n// 过滤对话框状态\nconst showFilter = ref(false)\nconst filterMode = ref('include')\nconst filterContent = ref('')\n\n// 计算属性\nconst lineCount = computed(() => {\n  if (!inputText.value) return 0\n  return inputText.value.split('\\n').length\n})\n\nconst outputLineCount = computed(() => {\n  if (!outputText.value) return 0\n  return outputText.value.split('\\n').length\n})\n\nconst canUndo = computed(() => {\n  return operationHistory.value.length > 0\n})\n\n// 保存到历史记录\nconst saveToHistory = (operationName) => {\n  operationHistory.value.unshift({\n    name: operationName,\n    time: new Date().toLocaleTimeString()\n  })\n\n  // 保存当前状态到撤销栈\n  historyStack.value.unshift({\n    input: inputText.value,\n    output: outputText.value\n  })\n\n  // 限制历史记录数量\n  if (operationHistory.value.length > 20) {\n    operationHistory.value = operationHistory.value.slice(0, 20)\n  }\n  if (historyStack.value.length > 10) {\n    historyStack.value = historyStack.value.slice(0, 10)\n  }\n}\n\n// 获取行数组\nconst getLines = (text) => {\n  return text ? text.split('\\n') : []\n}\n\n// 排序行\nconst sortLines = (mode) => {\n  const lines = getLines(inputText.value)\n  if (lines.length === 0) return\n\n  let sorted = [...lines]\n\n  switch (mode) {\n    case 'asc':\n      sorted.sort((a, b) => a.localeCompare(b))\n      break\n    case 'desc':\n      sorted.sort((a, b) => b.localeCompare(a))\n      break\n    case 'length':\n      sorted.sort((a, b) => a.length - b.length)\n      break\n    case 'random':\n      sorted.sort(() => Math.random() - 0.5)\n      break\n  }\n\n  outputText.value = sorted.join('\\n')\n  saveToHistory(`${mode === 'asc' ? '升序' : mode === 'desc' ? '降序' : mode === 'length' ? '按长度' : '随机'}排序`)\n}\n\n// 去重\nconst dedupeLines = (ignoreCase = false, trimSpace = false) => {\n  const lines = getLines(inputText.value)\n  if (lines.length === 0) return\n\n  const seen = new Set()\n  const result = []\n\n  for (let line of lines) {\n    let key = line\n    if (trimSpace) key = key.trim()\n    if (ignoreCase) key = key.toLowerCase()\n\n    if (!seen.has(key)) {\n      seen.add(key)\n      result.push(line)\n    }\n  }\n\n  outputText.value = result.join('\\n')\n  saveToHistory(`删除重复行${ignoreCase ? '(忽略大小写)' : ''}${trimSpace ? '(去除空格)' : ''}`)\n}\n\n// 只保留唯一行\nconst keepUniqueLines = () => {\n  const lines = getLines(inputText.value)\n  if (lines.length === 0) return\n\n  const counts = {}\n  const result = []\n\n  // 统计每行出现次数\n  for (let line of lines) {\n    counts[line] = (counts[line] || 0) + 1\n  }\n\n  // 只保留出现一次的行\n  for (let line of lines) {\n    if (counts[line] === 1 && !result.includes(line)) {\n      result.push(line)\n    }\n  }\n\n  outputText.value = result.join('\\n')\n  saveToHistory('只保留唯一行')\n}\n\n// 过滤空行\nconst filterEmptyLines = () => {\n  const lines = getLines(inputText.value)\n  if (lines.length === 0) return\n\n  const result = lines.filter(line => line.length > 0)\n  outputText.value = result.join('\\n')\n  saveToHistory('删除空行')\n}\n\n// 过滤空白行\nconst filterWhitespaceLines = () => {\n  const lines = getLines(inputText.value)\n  if (lines.length === 0) return\n\n  const result = lines.filter(line => line.trim().length > 0)\n  outputText.value = result.join('\\n')\n  saveToHistory('删除空白行')\n}\n\n// 反转行顺序\nconst reverseLines = () => {\n  const lines = getLines(inputText.value)\n  if (lines.length === 0) return\n\n  const result = lines.reverse()\n  outputText.value = result.join('\\n')\n  saveToHistory('反转行顺序')\n}\n\n// 添加行号\nconst addLineNumbers = () => {\n  const lines = getLines(inputText.value)\n  if (lines.length === 0) return\n\n  const result = lines.map((line, index) => `${index + 1}. ${line}`)\n  outputText.value = result.join('\\n')\n  saveToHistory('添加行号')\n}\n\n// 移除行号\nconst removeLineNumbers = () => {\n  const lines = getLines(inputText.value)\n  if (lines.length === 0) return\n\n  const result = lines.map(line => line.replace(/^\\d+\\.\\s*/, ''))\n  outputText.value = result.join('\\n')\n  saveToHistory('移除行号')\n}\n\n// 添加前缀\nconst addPrefix = () => {\n  const prefix = prompt('请输入要添加的前缀：')\n  if (!prefix) return\n\n  const lines = getLines(inputText.value)\n  if (lines.length === 0) return\n\n  const result = lines.map(line => prefix + line)\n  outputText.value = result.join('\\n')\n  saveToHistory('添加前缀')\n}\n\n// 添加后缀\nconst addSuffix = () => {\n  const suffix = prompt('请输入要添加的后缀：')\n  if (!suffix) return\n\n  const lines = getLines(inputText.value)\n  if (lines.length === 0) return\n\n  const result = lines.map(line => line + suffix)\n  outputText.value = result.join('\\n')\n  saveToHistory('添加后缀')\n}\n\n// 去除首尾空格\nconst trimLines = () => {\n  const lines = getLines(inputText.value)\n  if (lines.length === 0) return\n\n  const result = lines.map(line => line.trim())\n  outputText.value = result.join('\\n')\n  saveToHistory('去除首尾空格')\n}\n\n// 合并为一行\nconst joinLines = () => {\n  const separator = prompt('请输入分隔符（默认为空格）：', ' ')\n  const sep = separator || ' '\n\n  const lines = getLines(inputText.value)\n  if (lines.length === 0) return\n\n  outputText.value = lines.join(sep)\n  saveToHistory('合并为一行')\n}\n\n// 显示过滤对话框\nconst showFilterDialog = () => {\n  showFilter.value = true\n}\n\n// 关闭过滤对话框\nconst closeFilterDialog = () => {\n  showFilter.value = false\n  filterContent.value = ''\n}\n\n// 应用过滤\nconst applyFilter = () => {\n  if (!filterContent.value) return\n\n  const lines = getLines(inputText.value)\n  if (lines.length === 0) return\n\n  let result = []\n\n  switch (filterMode.value) {\n    case 'include':\n      result = lines.filter(line => line.includes(filterContent.value))\n      break\n    case 'exclude':\n      result = lines.filter(line => !line.includes(filterContent.value))\n      break\n    case 'startsWith':\n      result = lines.filter(line => line.startsWith(filterContent.value))\n      break\n    case 'endsWith':\n      result = lines.filter(line => line.endsWith(filterContent.value))\n      break\n    case 'regex':\n      try {\n        const regex = new RegExp(filterContent.value)\n        result = lines.filter(line => regex.test(line))\n      } catch (error) {\n        alert('正则表达式错误：' + error.message)\n        return\n      }\n      break\n  }\n\n  outputText.value = result.join('\\n')\n  saveToHistory(`过滤行（${filterMode.value}: ${filterContent.value}）`)\n  closeFilterDialog()\n}\n\n// 撤销最后一个操作\nconst undoLastOperation = () => {\n  if (historyStack.value.length > 0) {\n    const lastState = historyStack.value.shift()\n    inputText.value = lastState.input\n    outputText.value = lastState.output\n    operationHistory.value.shift()\n  }\n}\n\n// 从剪贴板粘贴\nconst pasteFromClipboard = async () => {\n  try {\n    const text = await navigator.clipboard.readText()\n    inputText.value = text\n  } catch (error) {\n    console.error('粘贴失败:', error)\n  }\n}\n\n// 清空输入\nconst clearInput = () => {\n  inputText.value = ''\n  outputText.value = ''\n}\n\n// 复制输出\nconst copyOutput = async () => {\n  try {\n    await navigator.clipboard.writeText(outputText.value)\n    copied.value = true\n    setTimeout(() => {\n      copied.value = false\n    }, 2000)\n  } catch (error) {\n    // 降级方案\n    const textarea = document.createElement('textarea')\n    textarea.value = outputText.value\n    document.body.appendChild(textarea)\n    textarea.select()\n    document.execCommand('copy')\n    document.body.removeChild(textarea)\n    copied.value = true\n    setTimeout(() => {\n      copied.value = false\n    }, 2000)\n  }\n}\n\n// 下载输出\nconst downloadOutput = () => {\n  const blob = new Blob([outputText.value], { type: 'text/plain' })\n  const url = URL.createObjectURL(blob)\n  const a = document.createElement('a')\n  a.href = url\n  a.download = `processed-lines-${Date.now()}.txt`\n  document.body.appendChild(a)\n  a.click()\n  document.body.removeChild(a)\n  URL.revokeObjectURL(url)\n}\n\n// SEO配置\nuseSeoMeta({\n  title: '行操作工具 - 在线文本行排序去重过滤',\n  description: '免费在线文本行操作工具，支持行排序、去重、过滤、添加行号等功能，批量处理文本行。',\n  keywords: ['行操作', '文本排序', '去重', '过滤', '批量处理', '在线工具']\n})\n\ndefinePageMeta({\n  layout: 'default'\n})\n</script>"],"version":3}