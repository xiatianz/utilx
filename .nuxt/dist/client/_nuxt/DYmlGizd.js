import{_ as q}from"./D4g1_bQ7.js";import{r as a,e as V,p as B,f as U,c as S,a as e,h as p,y as D,P,R as T,v as $,z as J,V as N,t as x,n as g,j as O,l as z,x as G,F as I,k as K,m as W,o as d,w as X,C as A}from"./DEsTSaKd.js";import{t as c}from"./B-fbZyPE.js";import{c as H}from"./3IwUeceH.js";import{C as Q,a as Y}from"./BaG5JeHk.js";import{G as Z}from"./sCtjrDU-.js";import{F as ee}from"./OWHW6ZUB.js";import{G as te}from"./B8QRyNMs.js";import{F as oe}from"./BIbbmz6B.js";import{R as se}from"./b4Up8kzW.js";import{T as re}from"./C1JgnPlw.js";import{H as le}from"./ZC22Qqbx.js";import{L as ne}from"./BP6Cft7q.js";import{D as ae}from"./DESX2TF9.js";import{F as ie}from"./C-LEKrTT.js";import{C as de}from"./vEvaw0F6.js";import{I as ue}from"./4T928kbW.js";import{W as ce}from"./BUYFD_dQ.js";import{T as me}from"./Z_ZHHb8E.js";import{C as fe}from"./BuCd20m7.js";import{S as pe}from"./w5JABn4e.js";import{L as xe}from"./DbWJs76d.js";import{F as ge}from"./CRvidJJ3.js";import"./wERbHxDK.js";const ve={class:"max-w-8xl mx-auto"},be={class:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8"},ye={class:"flex flex-col h-full"},Se={class:"flex items-center justify-between mb-2"},he={class:"flex items-center gap-2"},Je={class:"flex items-center gap-2"},Ne=["onKeydown"],Oe={key:0,class:"mt-2 p-2 bg-destructive/20 text-destructive text-sm rounded"},ke={class:"flex flex-col h-full"},Ce={class:"p-6 mb-12 relative"},we=["title"],Fe={class:"mb-12"},_e={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"},Le={class:"flex items-center gap-2 mb-2"},Ee={class:"font-medium text-foreground"},je={class:"text-sm text-muted-foreground line-clamp-2"},rt={__name:"json-formatter",setup(Re){W();const h=c.find(o=>o.id==="json-formatter");H.find(o=>o.id==="format");const i=a(""),l=a(""),m=a(""),v=a("2"),b=a(!1),f=a(!0),n=a(null),u=a(!1),k={FileText:ge,Lock:xe,Shield:pe,Clock:fe,Type:me,Wifi:ce,Image:ue,Code:de,FileJson:ie,Database:ae,Link:ne,Hash:le,Timer:re,Regex:se,FileDiff:oe,Globe:te,FolderOpen:ee,GitBranch:Z},C=V(()=>{const o=c.filter(s=>s.category==="format"&&s.id!=="json-formatter").slice(0,3),t=[c.find(s=>s.id==="xml-formatter"),c.find(s=>s.id==="yaml-converter"),c.find(s=>s.id==="base64-encoder"),c.find(s=>s.id==="url-encoder")].filter(Boolean);return[...o,...t].slice(0,4)}),y=()=>{if(i.value)try{m.value="";let o=i.value;b.value&&(o=w(o));const t=JSON.parse(o),s=parseInt(v.value);l.value=JSON.stringify(t,null,s)}catch(o){m.value=`JSON格式错误: ${o.message}`,l.value=""}},w=o=>(o=o.replace(/\/\/.*$/gm,""),o=o.replace(/'/g,'"'),o=o.replace(/([}\]])\s*([{\[])/g,"$1,$2"),o),F=()=>{i.value="",l.value="",m.value=""},_=async()=>{try{const o=await navigator.clipboard.readText();i.value=o}catch(o){console.error("粘贴失败:",o)}},L=()=>{i.value=`{
  "name": "张三",
  "age": 30,
  "city": "北京",
  "skills": [
    "JavaScript",
    "Vue.js",
    "Node.js"
  ],
  "address": {
    "street": "长安街1号",
    "zipcode": "100000"
  }
}`},E=async()=>{if(l.value)try{await navigator.clipboard.writeText(l.value)}catch(o){console.error("复制失败:",o)}},j=()=>{if(!l.value)return;const o=new Blob([l.value],{type:"application/json"}),t=URL.createObjectURL(o),s=document.createElement("a");s.href=t,s.download="formatted.json",document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(t)},R=()=>{n.value&&(u.value?document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen():n.value.requestFullscreen?n.value.requestFullscreen():n.value.webkitRequestFullscreen?n.value.webkitRequestFullscreen():n.value.msRequestFullscreen&&n.value.msRequestFullscreen(),u.value=!u.value)},M=()=>{f.value=!f.value};return h&&B(h.id),U(()=>{document.addEventListener("fullscreenchange",()=>{u.value=!!document.fullscreenElement}),document.addEventListener("webkitfullscreenchange",()=>{u.value=!!document.webkitFullscreenElement}),document.addEventListener("msfullscreenchange",()=>{u.value=!!document.msFullscreenElement})}),(o,t)=>{const s=q;return d(),S("div",ve,[t[10]||(t[10]=e("div",{class:"mb-8"},[e("h1",{class:"text-3xl font-bold text-foreground mb-3"},"JSON格式化 - 在线JSON解析、验证与美化工具"),e("p",{class:"text-muted-foreground"},"一款免费的在线 JSON Formatter。支持一键美化、压缩、语法错误检测及树形视图展示。纯本地计算，数据隐私绝对安全。")],-1)),e("div",be,[e("div",ye,[e("div",{class:"flex items-center justify-between mb-3"},[t[3]||(t[3]=e("label",{class:"text-sm font-medium text-foreground"},"输入JSON",-1)),e("div",{class:"flex gap-2"},[e("button",{class:"text-xs px-2 py-1 bg-muted hover:bg-muted/80 rounded text-muted-foreground",onClick:F}," 清空 "),e("button",{class:"text-xs px-2 py-1 bg-muted hover:bg-muted/80 rounded text-muted-foreground",onClick:_}," 粘贴 "),e("button",{class:"text-xs px-2 py-1 bg-muted hover:bg-muted/80 rounded text-muted-foreground",onClick:L}," 示例数据 ")])]),e("div",Se,[e("div",he,[t[5]||(t[5]=e("label",{class:"text-xs text-muted-foreground"},"缩进:",-1)),p(e("select",{"onUpdate:modelValue":t[0]||(t[0]=r=>v.value=r),class:"text-xs bg-muted border border-border rounded px-2 py-1"},[...t[4]||(t[4]=[e("option",{value:"2"},"2空格",-1),e("option",{value:"4"},"4空格",-1)])],512),[[P,v.value]])]),e("div",Je,[t[6]||(t[6]=e("label",{class:"text-xs text-muted-foreground"},"自动修复:",-1)),p(e("input",{type:"checkbox","onUpdate:modelValue":t[1]||(t[1]=r=>b.value=r),class:"rounded"},null,512),[[T,b.value]])])]),p(e("textarea",{"onUpdate:modelValue":t[2]||(t[2]=r=>i.value=r),class:"flex-1 w-full min-h-[300px] p-4 bg-muted border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary resize-none font-mono text-sm",placeholder:"在此输入JSON数据...",onKeydown:[J(N(y,["ctrl"]),["enter"]),J(N(y,["meta"]),["enter"])]},null,40,Ne),[[$,i.value]]),m.value?(d(),S("div",Oe,x(m.value),1)):D("",!0)]),e("div",ke,[e("div",{class:"flex items-center justify-between mb-3"},[t[7]||(t[7]=e("label",{class:"text-sm font-medium text-foreground"},"输出结果",-1)),e("div",{class:"flex gap-2"},[e("button",{class:"text-xs px-2 py-1 bg-muted hover:bg-muted/80 rounded text-muted-foreground",onClick:E}," 复制 "),e("button",{class:"text-xs px-2 py-1 bg-muted hover:bg-muted/80 rounded text-muted-foreground",onClick:j}," 下载JSON "),e("button",{class:"text-xs px-2 py-1 bg-muted hover:bg-muted/80 rounded text-muted-foreground",onClick:R}," 全屏模式 ")])]),e("pre",{ref_key:"outputPre",ref:n,class:"flex-1 w-full min-h-[300px] p-4 bg-muted border border-border rounded-lg overflow-auto font-mono text-sm whitespace-pre-wrap"},x(l.value),513)])]),e("div",{class:"flex justify-center mb-12"},[e("button",{onClick:y,class:"px-6 py-3 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors font-medium"}," 格式化 JSON ")]),e("div",Ce,[e("button",{onClick:M,class:"absolute top-4 right-4 text-muted-foreground hover:text-foreground transition-colors",title:f.value?"折叠内容":"展开内容"},[f.value?(d(),g(O(Y),{key:1,class:"w-5 h-5"})):(d(),g(O(Q),{key:0,class:"w-5 h-5"}))],8,we),p(e("div",null,[...t[8]||(t[8]=[G('<h2 class="text-2xl font-bold text-foreground mb-4 flex items-center"><span class="text-primary mr-2">#</span> 什么是 JSON 格式化？ </h2><p class="text-muted-foreground mb-4"> JSON (JavaScript Object Notation) 是一种轻量级的数据交换格式，易于人阅读和编写，同时也易于机器解析和生成。 它基于 JavaScript Programming Language, Standard ECMA-262 3rd Edition - December 1999 的一个子集。 JSON 采用完全独立于语言的文本格式，但是也使用了类似于 C 语言家族的习惯（包括 C, C++, C#, Java, JavaScript, Perl, Python 等）。 这些特性使 JSON 成为理想的数据交换语言。 </p><p class="text-muted-foreground"> 为什么需要格式化 JSON？因为在实际应用中，为了节省传输带宽，JSON 数据通常会被压缩成一行， 这使得开发者在调试和查看时非常困难。JSON 格式化工具可以将压缩的 JSON 数据转换为具有适当缩进和换行的可读格式， 方便开发者查看和调试。 </p><h2 class="text-2xl font-bold text-foreground mt-8 mb-4 flex items-center"><span class="text-primary mr-2">#</span> 如何使用本工具 </h2><ol class="list-decimal list-inside space-y-2 text-muted-foreground mb-6"><li>将您的 JSON 字符串粘贴到左侧输入框</li><li>点击顶部的&quot;格式化&quot;按钮或使用快捷键 Ctrl+Enter</li><li>查看右侧的高亮代码，或点击&quot;复制&quot;导出</li><li>如有需要，可以调整缩进大小或启用自动修复功能</li></ol><h2 class="text-2xl font-bold text-foreground mt-8 mb-4 flex items-center"><span class="text-primary mr-2">#</span> 核心功能特性 </h2><ul class="list-disc list-inside space-y-2 text-muted-foreground mb-6"><li><strong>语法高亮</strong>: 区分 Key 和 Value 的颜色，让代码结构更清晰</li><li><strong>错误定位</strong>: 快速发现 JSON 中的语法错误，并提供详细的错误信息</li><li><strong>本地安全</strong>: 所有处理都在浏览器本地完成，数据不会上传到服务器，确保隐私安全</li><li><strong>多种缩进</strong>: 支持 2 空格或 4 空格缩进，满足不同编码规范</li><li><strong>自动修复</strong>: 智能修复常见的 JSON 语法错误</li><li><strong>快捷操作</strong>: 支持快捷键操作，提高工作效率</li></ul><h2 class="text-2xl font-bold text-foreground mt-8 mb-4 flex items-center"><span class="text-primary mr-2">#</span> 常见问题 (FAQ) </h2><div class="space-y-4"><div><h3 class="text-lg font-semibold text-foreground">在线 JSON 格式化安全吗？</h3><p class="text-muted-foreground mt-1"> 绝对安全。我们的 JSON 格式化工具采用纯前端技术实现，所有处理都在您的浏览器本地完成， 数据不会上传到任何服务器。我们使用 WebAssembly 和 JavaScript 技术确保数据处理的安全性和高效性， 您可以放心使用。 </p></div><div><h3 class="text-lg font-semibold text-foreground">JSON 和 XML 有什么区别？</h3><p class="text-muted-foreground mt-1"> JSON 和 XML 都是数据交换格式，但它们有一些重要区别： JSON 更加轻量级，语法更简洁；XML 使用标签标记数据，而 JSON 使用键值对； JSON 解析速度更快，占用带宽更少；JSON 原生支持数组和对象结构，而 XML 需要额外的约定。 对于 Web 应用开发，JSON 通常是更好的选择。 </p></div><div><h3 class="text-lg font-semibold text-foreground">格式化后的 JSON 为什么比原始数据大？</h3><p class="text-muted-foreground mt-1"> 这是正常现象。原始 JSON 通常为了节省传输带宽而被压缩成一行， 格式化过程会添加缩进和换行符来提高可读性，因此文件大小会增加。 这种增加是为了提高开发者的可读性，而不是数据本身的膨胀。 </p></div></div>',9)])],512),[[z,f.value]])]),e("section",Fe,[t[9]||(t[9]=e("h2",{class:"text-2xl font-bold text-foreground mb-4"},"您可能还需要...",-1)),e("div",_e,[(d(!0),S(I,null,K(C.value,r=>(d(),g(s,{key:r.id,to:`/tools/${r.id}`,class:"block p-4 bg-card border border-border rounded-lg hover:bg-accent transition-colors"},{default:X(()=>[e("div",Le,[(d(),g(A(k[r.icon]),{class:"w-5 h-5 text-primary"})),e("span",Ee,x(r.name),1)]),e("p",je,x(r.description),1)]),_:2},1032,["to"]))),128))])])])}}};export{rt as default};
