{"version":3,"file":"ToolCard-GG_LcR18.js","sources":["../../../../src/components/ToolCard.vue"],"sourcesContent":["<script setup>\nimport { ref, computed, onMounted } from 'vue'\nimport {\n  FileJson, Clock, Lock, Regex, Database, Image as ImageIcon,\n  Star, ArrowRight, GripVertical\n} from 'lucide-vue-next'\nimport { isFavorite, toggleFavorite as toggleFavoriteTool } from '~/composables/useTools'\nimport { getCategoryColor } from '~/utils/categoryColors'\n\nconst props = defineProps({\n  tool: {\n    type: Object,\n    required: true\n  },\n  title: {\n    type: String,\n    required: true\n  },\n  description: {\n    type: String,\n    required: true\n  },\n  category: {\n    type: String,\n    required: true\n  },\n  usageCount: {\n    type: String,\n    required: true\n  },\n  icon: {\n    type: String,\n    required: true\n  },\n  isDraggable: {\n    type: Boolean,\n    default: false\n  }\n})\n\nconst emit = defineEmits(['select'])\n\nconst isFavoriteRef = ref(false)\n\nconst iconMap = {\n  'file-json': FileJson,\n  'clock': Clock,\n  'lock': Lock,\n  'regex': Regex,\n  'database': Database,\n  'image': ImageIcon\n}\n\nconst iconComponent = computed(() => {\n  return iconMap[props.icon] || FileJson\n})\n\nconst getCategoryColorClass = (category) => {\n  const colorMap = {\n    'dev': 'bg-orange-500/10 text-orange-500',\n    'ops': 'bg-blue-500/10 text-blue-500',\n    'crypto': 'bg-green-500/10 text-green-500',\n    'image': 'bg-cyan-500/10 text-cyan-500'\n  }\n  return colorMap[category] || 'bg-purple-500/10 text-purple-500'\n}\n\nconst getCategoryBadgeClass = (category) => {\n  const colorMap = {\n    'dev': 'bg-orange-500/10 text-orange-500',\n    'ops': 'bg-blue-500/10 text-blue-500',\n    'crypto': 'bg-green-500/10 text-green-500',\n    'image': 'bg-cyan-500/10 text-cyan-500'\n  }\n  return colorMap[category] || 'bg-purple-500/10 text-purple-500'\n}\n\nconst getCategoryLabel = (category) => {\n  const labelMap = {\n    'dev': 'Dev',\n    'ops': 'Time',\n    'crypto': 'Sec',\n    'image': 'Img'\n  }\n  return labelMap[category] || 'DB'\n}\n\nconst toggleFavorite = () => {\n  isFavoriteRef.value = toggleFavoriteTool(props.tool.id)\n}\n\n// 获取工具URL\nconst getToolUrl = (tool) => {\n  // 统一使用目录结构格式\n  return `/tools/${tool.id}/`\n}\n\n// 处理卡片点击事件\nconst handleCardClick = () => {\n  emit('select', props.tool)\n}\n\n// 在组件挂载时检查工具是否已被收藏\nonMounted(() => {\n  isFavoriteRef.value = isFavorite(props.tool.id)\n})\n</script>\n\n<template>\n  <NuxtLink\n    :to=\"getToolUrl(tool)\"\n    class=\"tool-card group relative bg-card/40 backdrop-blur-sm border-0 rounded-xl p-5 hover:bg-card/70 hover:shadow-lg hover:shadow-primary/8 transition-all duration-300 cursor-pointer block h-full\"\n    :data-category=\"category\"\n    @click.native=\"handleCardClick\"\n  >\n    <!-- 拖拽句柄 -->\n    <div\n      v-if=\"isDraggable\"\n      class=\"absolute top-4 left-4 text-muted-foreground hover:text-foreground transition-colors z-10 cursor-grab active:cursor-grabbing\"\n      title=\"拖拽调整顺序\"\n      @mousedown.stop\n    >\n      <GripVertical class=\"w-4 h-4\" />\n    </div>\n\n    <!-- 收藏按钮 -->\n    <button\n      class=\"absolute top-4 right-4 text-muted-foreground hover:text-yellow-500 transition-colors z-10\"\n      @click.stop.prevent=\"toggleFavorite\"\n    >\n      <Star\n        class=\"w-4 h-4\"\n        :fill=\"isFavoriteRef ? 'currentColor' : 'none'\"\n        :class=\"{ 'text-yellow-500': isFavoriteRef, 'text-muted-foreground': !isFavoriteRef }\"\n      />\n    </button>\n    \n    <div class=\"flex items-center gap-4 mb-4\" :class=\"{ 'ml-8': isDraggable }\">\n      <div\n        class=\"w-10 h-10 rounded-lg flex items-center justify-center group-hover:scale-110 transition-transform\"\n        :class=\"getCategoryColorClass(category)\"\n      >\n        <component :is=\"iconComponent\" class=\"w-6 h-6\" :style=\"{ color: getCategoryColor(category).icon }\" />\n      </div>\n      <div>\n        <h4 \n          class=\"font-semibold text-foreground group-hover:text-primary transition-colors\"\n          :title=\"title\"\n        >\n          {{ title }}\n        </h4>\n        <span \n          class=\"text-[10px] px-1.5 py-0.5 rounded\"\n          :class=\"getCategoryBadgeClass(category)\"\n        >\n          {{ getCategoryLabel(category) }}\n        </span>\n      </div>\n    </div>\n    <p class=\"text-sm text-muted-foreground line-clamp-2 mb-4\">\n      {{ description }}\n    </p>\n    <div class=\"flex items-center justify-between text-xs text-muted-foreground border-t border-border/50 pt-3\">\n      <span>使用: {{ usageCount }}</span>\n      <NuxtLink \n        :to=\"getToolUrl(tool)\"\n        class=\"group-hover:text-primary flex items-center gap-1\"\n        @click.stop\n      >\n        打开 \n        <ArrowRight class=\"w-3 h-3\" />\n      </NuxtLink>\n    </div>\n  </NuxtLink>\n</template>"],"names":["ImageIcon","toggleFavorite","toggleFavoriteTool","_push","_parent","_ssrRenderComponent","_unref","_ssrRenderClass","_ssrRenderAttr","_ssrInterpolate","_","_scopeId","_createVNode","_createBlock","_openBlock","_resolveDynamicComponent","_toDisplayString"],"mappings":"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"}