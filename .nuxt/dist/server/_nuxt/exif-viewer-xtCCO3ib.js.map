{"version":3,"file":"exif-viewer-xtCCO3ib.js","sources":["../../../../src/pages/tools/exif-viewer.vue"],"sourcesContent":["<template>\n  <div class=\"max-w-8xl mx-auto\">\n    <!-- 面包屑导航 -->\n    <!-- <Breadcrumb :category=\"category\" /> -->\n\n    <!-- 工具标题 -->\n    <div class=\"mt-4 mb-8\">\n      <h1 class=\"text-3xl font-bold mb-3\">EXIF 查看器</h1>\n      <p class=\"text-muted-foreground\">查看图片的 EXIF 元数据信息，包括拍摄参数、GPS 位置等</p>\n    </div>\n\n    <!-- 主要功能区域 -->\n    <div class=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n      <!-- 左侧：上传和图片信息 -->\n      <div class=\"space-y-4\">\n        <div class=\"bg-card   rounded-lg p-6\">\n          <h2 class=\"text-lg font-semibold mb-4\">上传图片</h2>\n\n          <!-- 上传区域 -->\n          <div\n            class=\"border-2 border-dashed rounded-lg p-8 text-center hover:border-primary transition-colors cursor-pointer\"\n            @drop=\"handleDrop\"\n            @dragover.prevent\n            @dragleave=\"handleDragLeave\"\n            @click=\"triggerFileInput\"\n          >\n            <input\n              ref=\"fileInput\"\n              type=\"file\"\n              class=\"hidden\"\n              accept=\"image/*\"\n              @change=\"handleFileSelect\"\n            />\n            <ImageIcon class=\"w-12 h-12 mx-auto text-muted-foreground mb-4\" />\n            <p class=\"text-lg font-medium mb-2\">拖拽图片到这里</p>\n            <p class=\"text-sm text-muted-foreground\">支持 JPG、TIFF 等格式</p>\n          </div>\n\n          <!-- 图片预览 -->\n          <div v-if=\"selectedImage\" class=\"mt-4 space-y-4\">\n            <div class=\"relative\">\n              <img\n                :src=\"selectedImage.url\"\n                :alt=\"selectedImage.name\"\n                class=\"w-full rounded-lg\"\n              />\n              <button\n                @click=\"clearImage\"\n                class=\"absolute top-2 right-2 p-2 bg-white rounded-full shadow-md hover:shadow-lg transition-shadow\"\n              >\n                <X class=\"w-4 h-4\" />\n              </button>\n            </div>\n            <div class=\"text-sm text-muted-foreground\">\n              <p>文件名：{{ selectedImage.name }}</p>\n              <p>文件大小：{{ formatFileSize(selectedImage.size) }}</p>\n              <p>尺寸：{{ selectedImage.width }} × {{ selectedImage.height }} px</p>\n            </div>\n          </div>\n        </div>\n\n        <!-- 快速信息 -->\n        <div v-if=\"exifData\" class=\"bg-card   rounded-lg p-6\">\n          <h2 class=\"text-lg font-semibold mb-4\">快速信息</h2>\n          <div class=\"space-y-3\">\n            <div v-if=\"exifData.DateTime\" class=\"flex justify-between text-sm\">\n              <span class=\"text-muted-foreground\">拍摄时间</span>\n              <span class=\"font-mono\">{{ formatDate(exifData.DateTime) }}</span>\n            </div>\n            <div v-if=\"exifData.Make && exifData.Model\" class=\"flex justify-between text-sm\">\n              <span class=\"text-muted-foreground\">相机型号</span>\n              <span>{{ exifData.Make }} {{ exifData.Model }}</span>\n            </div>\n            <div v-if=\"exifData.FocalLength\" class=\"flex justify-between text-sm\">\n              <span class=\"text-muted-foreground\">焦距</span>\n              <span>{{ exifData.FocalLength }}mm</span>\n            </div>\n            <div v-if=\"exifData.FNumber\" class=\"flex justify-between text-sm\">\n              <span class=\"text-muted-foreground\">光圈</span>\n              <span>f/{{ exifData.FNumber }}</span>\n            </div>\n            <div v-if=\"exifData.ExposureTime\" class=\"flex justify-between text-sm\">\n              <span class=\"text-muted-foreground\">快门速度</span>\n              <span>{{ formatExposureTime(exifData.ExposureTime) }}</span>\n            </div>\n            <div v-if=\"exifData.ISO\" class=\"flex justify-between text-sm\">\n              <span class=\"text-muted-foreground\">ISO</span>\n              <span>{{ exifData.ISO }}</span>\n            </div>\n            <div v-if=\"exifData.Flash\" class=\"flex justify-between text-sm\">\n              <span class=\"text-muted-foreground\">闪光灯</span>\n              <span>{{ getFlashDescription(exifData.Flash) }}</span>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- 右侧：详细信息 -->\n      <div class=\"lg:col-span-2 space-y-4\">\n        <!-- EXIF 数据标签页 -->\n        <div v-if=\"exifData\" class=\"bg-card   rounded-lg p-6\">\n          <h2 class=\"text-lg font-semibold mb-4\">EXIF 数据详情</h2>\n\n          <!-- 标签页导航 -->\n          <div class=\"flex gap-2 mb-6 border-b\">\n            <button\n              v-for=\"tab in exifTabs\"\n              :key=\"tab.key\"\n              @click=\"activeTab = tab.key\"\n              :class=\"[\n                'px-4 py-2 -mb-px border-b-2 transition-colors text-sm',\n                activeTab === tab.key\n                  ? 'border-primary text-primary'\n                  : 'border-transparent text-muted-foreground hover:text-foreground'\n              ]\"\n            >\n              {{ tab.name }}\n            </button>\n          </div>\n\n          <!-- 相机信息 -->\n          <div v-if=\"activeTab === 'camera'\" class=\"space-y-4\">\n            <div class=\"grid grid-cols-2 gap-4 text-sm\">\n              <div class=\"p-4 bg-muted rounded-lg\">\n                <h3 class=\"font-medium mb-3\">基本信息</h3>\n                <div class=\"space-y-2\">\n                  <div class=\"flex justify-between\">\n                    <span class=\"text-muted-foreground\">制造商</span>\n                    <span>{{ exifData.Make || '-' }}</span>\n                  </div>\n                  <div class=\"flex justify-between\">\n                    <span class=\"text-muted-foreground\">相机型号</span>\n                    <span>{{ exifData.Model || '-' }}</span>\n                  </div>\n                  <div class=\"flex justify-between\">\n                    <span class=\"text-muted-foreground\">软件</span>\n                    <span>{{ exifData.Software || '-' }}</span>\n                  </div>\n                </div>\n              </div>\n\n              <div class=\"p-4 bg-muted rounded-lg\">\n                <h3 class=\"font-medium mb-3\">拍摄参数</h3>\n                <div class=\"space-y-2\">\n                  <div class=\"flex justify-between\">\n                    <span class=\"text-muted-foreground\">光圈值</span>\n                    <span>f/{{ exifData.FNumber || '-' }}</span>\n                  </div>\n                  <div class=\"flex justify-between\">\n                    <span class=\"text-muted-foreground\">快门速度</span>\n                    <span>{{ formatExposureTime(exifData.ExposureTime) || '-' }}</span>\n                  </div>\n                  <div class=\"flex justify-between\">\n                    <span class=\"text-muted-foreground\">ISO 感光度</span>\n                    <span>{{ exifData.ISO || '-' }}</span>\n                  </div>\n                  <div class=\"flex justify-between\">\n                    <span class=\"text-muted-foreground\">焦距</span>\n                    <span>{{ exifData.FocalLength ? exifData.FocalLength + 'mm' : '-' }}</span>\n                  </div>\n                  <div class=\"flex justify-between\">\n                    <span class=\"text-muted-foreground\">35mm等效焦距</span>\n                    <span>{{ exifData.FocalLengthIn35mmFilm ? exifData.FocalLengthIn35mmFilm + 'mm' : '-' }}</span>\n                  </div>\n                </div>\n              </div>\n\n              <div class=\"p-4 bg-muted rounded-lg\">\n                <h3 class=\"font-medium mb-3\">曝光信息</h3>\n                <div class=\"space-y-2\">\n                  <div class=\"flex justify-between\">\n                    <span class=\"text-muted-foreground\">曝光模式</span>\n                    <span>{{ getExposureMode(exifData.ExposureMode) || '-' }}</span>\n                  </div>\n                  <div class=\"flex justify-between\">\n                    <span class=\"text-muted-foreground\">测光模式</span>\n                    <span>{{ getMeteringMode(exifData.MeteringMode) || '-' }}</span>\n                  </div>\n                  <div class=\"flex justify-between\">\n                    <span class=\"text-muted-foreground\">曝光补偿</span>\n                    <span>{{ exifData.ExposureBiasValue ? formatExposureBias(exifData.ExposureBiasValue) : '-' }}</span>\n                  </div>\n                  <div class=\"flex justify-between\">\n                    <span class=\"text-muted-foreground\">白平衡</span>\n                    <span>{{ getWhiteBalance(exifData.WhiteBalance) || '-' }}</span>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <!-- GPS 信息 -->\n          <div v-if=\"activeTab === 'gps'\" class=\"space-y-4\">\n            <div v-if=\"hasGPS\" class=\"space-y-4\">\n              <div class=\"p-4 bg-muted rounded-lg\">\n                <h3 class=\"font-medium mb-3\">位置信息</h3>\n                <div class=\"space-y-2\">\n                  <div class=\"flex justify-between\">\n                    <span class=\"text-muted-foreground\">纬度</span>\n                    <span>{{ formatGPSLatitude(exifData.GPSLatitude, exifData.GPSLatitudeRef) }}</span>\n                  </div>\n                  <div class=\"flex justify-between\">\n                    <span class=\"text-muted-foreground\">经度</span>\n                    <span>{{ formatGPSLongitude(exifData.GPSLongitude, exifData.GPSLongitudeRef) }}</span>\n                  </div>\n                  <div class=\"flex justify-between\">\n                    <span class=\"text-muted-foreground\">海拔</span>\n                    <span>{{ formatGPSAltitude(exifData.GPSAltitude, exifData.GPSAltitudeRef) }}</span>\n                  </div>\n                </div>\n              </div>\n\n              <div class=\"p-4 bg-muted rounded-lg\">\n                <h3 class=\"font-medium mb-3\">地图</h3>\n                <div class=\"aspect-video bg-muted rounded-lg flex items-center justify-center\">\n                  <p class=\"text-muted-foreground\">地图功能需要在线服务支持</p>\n                </div>\n              </div>\n            </div>\n            <div v-else class=\"text-center py-12 text-muted-foreground\">\n              <MapPin class=\"w-12 h-12 mx-auto mb-4\" />\n              <p>该图片不包含 GPS 信息</p>\n            </div>\n          </div>\n\n          <!-- 其他信息 -->\n          <div v-if=\"activeTab === 'other'\" class=\"space-y-4\">\n            <div class=\"grid grid-cols-2 gap-4 text-sm\">\n              <div class=\"p-4 bg-muted rounded-lg\">\n                <h3 class=\"font-medium mb-3\">图像信息</h3>\n                <div class=\"space-y-2\">\n                  <div class=\"flex justify-between\">\n                    <span class=\"text-muted-foreground\">方向</span>\n                    <span>{{ getOrientation(exifData.Orientation) }}</span>\n                  </div>\n                  <div class=\"flex justify-between\">\n                    <span class=\"text-muted-foreground\">分辨率单位</span>\n                    <span>{{ exifData.ResolutionUnit || '-' }}</span>\n                  </div>\n                  <div class=\"flex justify-between\">\n                    <span class=\"text-muted-foreground\">X分辨率</span>\n                    <span>{{ exifData.XResolution || '-' }}</span>\n                  </div>\n                  <div class=\"flex justify-between\">\n                    <span class=\"text-muted-foreground\">Y分辨率</span>\n                    <span>{{ exifData.YResolution || '-' }}</span>\n                  </div>\n                </div>\n              </div>\n\n              <div class=\"p-4 bg-muted rounded-lg\">\n                <h3 class=\"font-medium mb-3\">版权信息</h3>\n                <div class=\"space-y-2\">\n                  <div class=\"flex justify-between\">\n                    <span class=\"text-muted-foreground\">版权</span>\n                    <span>{{ exifData.Copyright || '-' }}</span>\n                  </div>\n                  <div class=\"flex justify-between\">\n                    <span class=\"text-muted-foreground\">艺术家</span>\n                    <span>{{ exifData.Artist || '-' }}</span>\n                  </div>\n                  <div class=\"flex justify-between\">\n                    <span class=\"text-muted-foreground\">注释</span>\n                    <span class=\"truncate max-w-xs\">{{ exifData.ImageDescription || '-' }}</span>\n                  </div>\n                </div>\n              </div>\n\n              <div class=\"p-4 bg-muted rounded-lg\">\n                <h3 class=\"font-medium mb-3\">原始数据</h3>\n                <textarea\n                  :value=\"JSON.stringify(exifData, null, 2)\"\n                  readonly\n                  rows=\"10\"\n                  class=\"w-full px-3 py-2 border rounded-md bg-background font-mono text-xs resize-none\"\n                ></textarea>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <!-- 无 EXIF 数据 -->\n        <div v-else class=\"bg-card border rounded-lg p-12 text-center\">\n          <ImageIcon class=\"w-16 h-16 mx-auto text-muted-foreground mb-4\" />\n          <p class=\"text-muted-foreground\">上传图片查看 EXIF 信息</p>\n        </div>\n\n        <!-- 导出功能 -->\n        <div v-if=\"exifData\" class=\"bg-card   rounded-lg p-6\">\n          <h2 class=\"text-lg font-semibold mb-4\">导出</h2>\n          <div class=\"grid grid-cols-2 gap-3\">\n            <button\n              @click=\"exportJSON\"\n              class=\"px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90 transition-colors flex items-center justify-center gap-2\"\n            >\n              <Download class=\"w-4 h-4\" />\n              导出 JSON\n            </button>\n            <button\n              @click=\"exportCSV\"\n              class=\"px-4 py-2 border border-primary text-primary rounded-md hover:bg-primary/5 transition-colors flex items-center justify-center gap-2\"\n            >\n              <FileText class=\"w-4 h-4\" />\n              导出 CSV\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- 使用说明 -->\n    <div class=\"mt-12 space-y-6\">\n      <div class=\"bg-card   rounded-lg p-6\">\n        <h3 class=\"text-lg font-semibold mb-4 flex items-center gap-2\">\n          <Info class=\"w-5 h-5 text-primary\" />\n          关于 EXIF\n        </h3>\n        <div class=\"space-y-4 text-sm text-muted-foreground\">\n          <div>\n            <h4 class=\"font-medium text-foreground mb-2\">什么是 EXIF？</h4>\n            <p>EXIF（Exchangeable Image File Format）是一种可交换图像文件格式，是专门为数码相机照片设定的，可以记录数码照片的属性信息和拍摄数据。</p>\n          </div>\n          <div>\n            <h4 class=\"font-medium text-foreground mb-2\">包含信息</h4>\n            <ul class=\"list-disc list-inside space-y-1 ml-4\">\n              <li>拍摄时间、日期</li>\n              <li>相机制造商和型号</li>\n              <li>拍摄参数（光圈、快门、ISO等）</li>\n              <li>GPS 位置信息（经纬度、海拔）</li>\n              <li>图像分辨率和方向</li>\n              <li>版权和艺术家信息</li>\n            </ul>\n          </div>\n          <div>\n            <h4 class=\"font-medium text-foreground mb-2\">注意事项</h4>\n            <ul class=\"list-disc list-inside space-y-1 ml-4\">\n              <li>不是所有图片都包含 EXIF 数据</li>\n              <li>JPG 和 TIFF 格式通常支持 EXIF</li>\n              <li>PNG 格式通常不包含相机 EXIF</li>\n              <li>社交媒体通常会删除 EXIF 信息</li>\n            </ul>\n          </div>\n        </div>\n      </div>\n\n      <!-- 相关工具 -->\n      <div class=\"bg-card   rounded-lg p-6\">\n        <h3 class=\"text-lg font-semibold mb-4\">相关工具</h3>\n        <div class=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n          <NuxtLink\n            to=\"/tools/image-metadata\"\n            class=\"flex items-center gap-3 p-3 bg-muted rounded-lg hover:bg-muted/80 transition-colors group\"\n          >\n            <Info class=\"w-5 h-5 text-primary\" />\n            <div>\n              <p class=\"font-medium group-hover:text-primary\">图片元数据</p>\n              <p class=\"text-xs text-muted-foreground\">查看图片元数据</p>\n            </div>\n            <ArrowRight class=\"w-4 h-4 ml-auto text-muted-foreground group-hover:text-primary\" />\n          </NuxtLink>\n          <NuxtLink\n            to=\"/tools/image-watermark\"\n            class=\"flex items-center gap-3 p-3 bg-muted rounded-lg hover:bg-muted/80 transition-colors group\"\n          >\n            <Droplet class=\"w-5 h-5 text-primary\" />\n            <div>\n              <p class=\"font-medium group-hover:text-primary\">图片水印</p>\n              <p class=\"text-xs text-muted-foreground\">添加文字/图片水印</p>\n            </div>\n            <ArrowRight class=\"w-4 h-4 ml-auto text-muted-foreground group-hover:text-primary\" />\n          </NuxtLink>\n          <NuxtLink\n            to=\"/tools/qrcode-generate\"\n            class=\"flex items-center gap-3 p-3 bg-muted rounded-lg hover:bg-muted/80 transition-colors group\"\n          >\n            <QrCode class=\"w-5 h-5 text-primary\" />\n            <div>\n              <p class=\"font-medium group-hover:text-primary\">二维码生成器</p>\n              <p class=\"text-xs text-muted-foreground\">在线生成二维码</p>\n            </div>\n            <ArrowRight class=\"w-4 h-4 ml-auto text-muted-foreground group-hover:text-primary\" />\n          </NuxtLink>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, computed } from 'vue'\nimport { Info, ImageIcon, X, Download, FileText, ArrowRight, MapPin, Droplet, QrCode } from 'lucide-vue-next'\nimport Breadcrumb from '~/components/Breadcrumb.vue'\nimport ExifReader from 'exifreader'\n\n// 分类信息\nconst category = { id: 'image', name: '图片处理', description: '图片处理工具集合' }\n\n// 状态管理\nconst selectedImage = ref(null)\nconst exifData = ref(null)\nconst activeTab = ref('camera')\nconst fileInput = ref(null)\n\n// 标签页\nconst exifTabs = [\n  { key: 'camera', name: '相机信息' },\n  { key: 'gps', name: 'GPS 位置' },\n  { key: 'other', name: '其他信息' }\n]\n\n// 计算属性\nconst hasGPS = computed(() => {\n  return exifData.value && (\n    exifData.value.GPSLatitude ||\n    exifData.value.GPSLongitude ||\n    exifData.value.GPSAltitude\n  )\n})\n\n// 处理文件选择\nconst handleFileSelect = (e) => {\n  const file = e.target.files[0]\n  if (file && file.type.startsWith('image/')) {\n    processImageFile(file)\n  }\n}\n\n// 处理拖拽\nconst handleDrop = (e) => {\n  e.preventDefault()\n  const file = e.dataTransfer.files[0]\n  if (file && file.type.startsWith('image/')) {\n    processImageFile(file)\n  }\n}\n\n// 处理拖拽离开\nconst handleDragLeave = () => {\n  // 可以添加视觉反馈，例如恢复边框颜色\n}\n\n// 处理图片文件\nconst processImageFile = async (file) => {\n  const reader = new FileReader()\n\n  reader.onload = async (e) => {\n    selectedImage.value = {\n      name: file.name,\n      size: file.size,\n      url: e.target.result\n    }\n\n    // 获取图片尺寸\n    const img = new Image()\n    img.onload = () => {\n      selectedImage.value.width = img.width\n      selectedImage.value.height = img.height\n    }\n    img.src = e.target.result\n\n    // 读取 EXIF 数据\n    try {\n      const buffer = await file.arrayBuffer()\n      const exifDataResult = ExifReader.load(buffer)\n\n      if (exifDataResult) {\n        exifData.value = exifDataResult\n      } else {\n        exifData.value = null\n      }\n    } catch (error) {\n      console.error('读取 EXIF 失败:', error)\n      exifData.value = null\n    }\n  }\n\n  reader.readAsDataURL(file)\n}\n\n// 清空图片\nconst clearImage = () => {\n  selectedImage.value = null\n  exifData.value = null\n}\n\n// 格式化文件大小\nconst formatFileSize = (bytes) => {\n  if (bytes === 0) return '0 B'\n  const k = 1024\n  const sizes = ['B', 'KB', 'MB', 'GB']\n  const i = Math.floor(Math.log(bytes) / Math.log(k))\n  return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i]\n}\n\n// 格式化日期\nconst formatDate = (dateString) => {\n  if (!dateString) return '-'\n  try {\n    const date = new Date(dateString)\n    return date.toLocaleString('zh-CN')\n  } catch {\n    return dateString\n  }\n}\n\n// 格式化曝光时间\nconst formatExposureTime = (value) => {\n  if (!value) return '-'\n\n  if (value < 1) {\n    return `1/${Math.round(1 / value)}s`\n  }\n  return `${value}s`\n}\n\n// 格式化曝光补偿\nconst formatExposureBias = (value) => {\n  if (!value) return '-'\n  const bias = value.Numerator / value.Denominator\n  return `${bias > 0 ? '+' : ''}${bias} EV`\n}\n\n// 获取闪光灯描述\nconst getFlashDescription = (value) => {\n  if (!value) return '未使用'\n\n  const flashModes = {\n    0: '未使用',\n    1: '使用',\n    5: '使用，未检测到回闪',\n    7: '使用，检测到回闪',\n    9: '强制开启',\n    16: '强制关闭',\n    24: '自动模式',\n    25: '自动模式，未检测到回闪',\n    29: '自动模式，检测到回闪'\n  }\n\n  return flashModes[value] || '未知'\n}\n\n// 获取曝光模式描述\nconst getExposureMode = (value) => {\n  if (!value) return '-'\n\n  const modes = {\n    0: '未定义',\n    1: '手动',\n    2: '程序自动',\n    3: '光圈优先',\n    4: '快门优先',\n    5: '创意程序',\n    6: '动作模式',\n    7: '人像模式',\n    8: '风景模式'\n  }\n\n  return modes[value] || value\n}\n\n// 获取测光模式描述\nconst getMeteringMode = (value) => {\n  if (!value) return '-'\n\n  const modes = {\n    0: '未知',\n    1: '平均测光',\n    2: '中央重点测光',\n    3: '点测光',\n    4: '多点测光',\n    5: '模式测光',\n    6: '部分测光'\n  }\n\n  return modes[value] || value\n}\n\n// 获取白平衡描述\nconst getWhiteBalance = (value) => {\n  if (!value) return '-'\n\n  const modes = {\n    0: '自动',\n    1: '手动',\n    2: '日光',\n    3: '阴天',\n    4: '白炽灯',\n    5: '荧光灯',\n    6: '闪光灯'\n  }\n\n  return modes[value] || value\n}\n\n// 获取方向描述\nconst getOrientation = (value) => {\n  if (!value) return '正常'\n\n  const orientations = {\n    1: '正常',\n    2: '翻转',\n    3: '旋转180°',\n    4: '顺时针90°',\n    5: '逆时针90°',\n    6: '顺时针90°并翻转',\n    7: '逆时针90°并翻转',\n    8: '旋转270°'\n  }\n\n  return orientations[value] || value\n}\n\n// 格式化 GPS 纬度\nconst formatGPSLatitude = (latitude, ref) => {\n  if (!latitude || !ref) return '-'\n\n  const degrees = latitude.degrees\n  const minutes = latitude.minutes\n  const seconds = latitude.seconds\n\n  const decimalDegrees = degrees + (minutes / 60) + (seconds / 3600)\n  const direction = ref === 'N' ? 'N' : 'S'\n\n  return `${Math.abs(decimalDegrees).toFixed(6)}° ${direction}`\n}\n\n// 格式化 GPS 经度\nconst formatGPSLongitude = (longitude, ref) => {\n  if (!longitude || !ref) return '-'\n\n  const degrees = longitude.degrees\n  const minutes = longitude.minutes\n  const seconds = longitude.seconds\n\n  const decimalDegrees = degrees + (minutes / 60) + (seconds / 3600)\n  const direction = ref === 'E' ? 'E' : 'W'\n\n  return `${Math.abs(decimalDegrees).toFixed(6)}° ${direction}`\n}\n\n// 格式化 GPS 海拔\nconst formatGPSAltitude = (altitude, ref) => {\n  if (!altitude) return '-'\n\n  const alt = altitude\n  const direction = ref === 0 ? '海平面' : '海平面下'\n\n  return `${alt.toFixed(2)}m ${direction}`\n}\n\n// 导出 JSON\nconst exportJSON = () => {\n  if (!exifData.value) return\n\n  const data = JSON.stringify(exifData.value, null, 2)\n  const blob = new Blob([data], { type: 'application/json' })\n  const url = URL.createObjectURL(blob)\n  const a = document.createElement('a')\n  a.href = url\n  a.download = `exif_${selectedImage.value.name}.json`\n  a.click()\n  URL.revokeObjectURL(url)\n}\n\n// 导出 CSV\nconst exportCSV = () => {\n  if (!exifData.value) return\n\n  const flattenObj = (obj, prefix = '') => {\n    const result = []\n    for (const key in obj) {\n      if (obj[key] && typeof obj[key] === 'object' && !Array.isArray(obj[key])) {\n        result.push(...flattenObj(obj[key], prefix + key + '.'))\n      } else {\n        result.push({\n          key: prefix + key,\n          value: obj[key]\n        })\n      }\n    }\n    return result\n  }\n\n  const flattened = flattenObj(exifData.value)\n  const headers = ['属性', '值']\n  const rows = flattened.map(item => [item.key, item.value])\n\n  let csv = headers.join(',') + '\\n'\n  rows.forEach(row => {\n    csv += row.map(cell => `\"${cell}\"`).join(',') + '\\n'\n  })\n\n  const blob = new Blob([csv], { type: 'text/csv' })\n  const url = URL.createObjectURL(blob)\n  const a = document.createElement('a')\n  a.href = url\n  a.download = `exif_${selectedImage.value.name}.csv`\n  a.click()\n  URL.revokeObjectURL(url)\n}\n\n// 触发文件输入\nconst triggerFileInput = () => {\n  fileInput.value.click()\n}\n\n// SEO配置\nuseSeoMeta({\n  title: 'EXIF查看器 - 在线查看图片EXIF信息工具',\n  description: '免费在线EXIF查看工具，查看图片的拍摄参数、GPS位置、相机信息等元数据。',\n  keywords: ['exif', 'exif查看器', '图片元数据', '拍摄参数', 'gps信息', '在线工具']\n})\n\ndefinePageMeta({\n  layout: 'default'\n})\n</script>"],"names":["ref","_ssrRenderAttrs","_mergeProps","_ssrRenderComponent","_unref","_ssrInterpolate","_ssrRenderList","_push","_parent","_createVNode"],"mappings":";;;;;;;;;;;;;;;;;;;AA8YA,UAAM,gBAAgB,IAAI,IAAI;AAC9B,UAAM,WAAW,IAAI,IAAI;AACzB,UAAM,YAAY,IAAI,QAAQ;AACZ,QAAI,IAAI;AAG1B,UAAM,WAAW;AAAA,MACf,EAAE,KAAK,UAAU,MAAM,OAAA;AAAA,MACvB,EAAE,KAAK,OAAO,MAAM,SAAA;AAAA,MACpB,EAAE,KAAK,SAAS,MAAM,OAAA;AAAA,IAAO;AAI/B,UAAM,SAAS,SAAS,MAAM;AAC5B,aAAO,SAAS,UACd,SAAS,MAAM,eACf,SAAS,MAAM,gBACf,SAAS,MAAM;AAAA,IAEnB,CAAC;AAqED,UAAM,iBAAiB,CAAC,UAAU;AAChC,UAAI,UAAU,EAAG,QAAO;AACxB,YAAM,IAAI;AACV,YAAM,QAAQ,CAAC,KAAK,MAAM,MAAM,IAAI;AACpC,YAAM,IAAI,KAAK,MAAM,KAAK,IAAI,KAAK,IAAI,KAAK,IAAI,CAAC,CAAC;AAClD,aAAO,YAAY,QAAQ,KAAK,IAAI,GAAG,CAAC,GAAG,QAAQ,CAAC,CAAC,IAAI,MAAM,MAAM,CAAC;AAAA,IACxE;AAGA,UAAM,aAAa,CAAC,eAAe;AACjC,UAAI,CAAC,WAAY,QAAO;AACxB,UAAI;AACF,cAAM,OAAO,IAAI,KAAK,UAAU;AAChC,eAAO,KAAK,eAAe,OAAO;AAAA,MACpC,QAAQ;AACN,eAAO;AAAA,MACT;AAAA,IACF;AAGA,UAAM,qBAAqB,CAAC,UAAU;AACpC,UAAI,CAAC,MAAO,QAAO;AAEnB,UAAI,QAAQ,GAAG;AACb,eAAO,KAAK,KAAK,MAAM,IAAI,KAAK,CAAC;AAAA,MACnC;AACA,aAAO,GAAG,KAAK;AAAA,IACjB;AAGA,UAAM,qBAAqB,CAAC,UAAU;AACpC,UAAI,CAAC,MAAO,QAAO;AACnB,YAAM,OAAO,MAAM,YAAY,MAAM;AACrC,aAAO,GAAG,OAAO,IAAI,MAAM,EAAE,GAAG,IAAI;AAAA,IACtC;AAGA,UAAM,sBAAsB,CAAC,UAAU;AACrC,UAAI,CAAC,MAAO,QAAO;AAEnB,YAAM,aAAa;AAAA,QACjB,GAAG;AAAA,QACH,GAAG;AAAA,QACH,GAAG;AAAA,QACH,GAAG;AAAA,QACH,GAAG;AAAA,QACH,IAAI;AAAA,QACJ,IAAI;AAAA,QACJ,IAAI;AAAA,QACJ,IAAI;AAAA,MAAA;AAGN,aAAO,WAAW,KAAK,KAAK;AAAA,IAC9B;AAGA,UAAM,kBAAkB,CAAC,UAAU;AACjC,UAAI,CAAC,MAAO,QAAO;AAEnB,YAAM,QAAQ;AAAA,QACZ,GAAG;AAAA,QACH,GAAG;AAAA,QACH,GAAG;AAAA,QACH,GAAG;AAAA,QACH,GAAG;AAAA,QACH,GAAG;AAAA,QACH,GAAG;AAAA,QACH,GAAG;AAAA,QACH,GAAG;AAAA,MAAA;AAGL,aAAO,MAAM,KAAK,KAAK;AAAA,IACzB;AAGA,UAAM,kBAAkB,CAAC,UAAU;AACjC,UAAI,CAAC,MAAO,QAAO;AAEnB,YAAM,QAAQ;AAAA,QACZ,GAAG;AAAA,QACH,GAAG;AAAA,QACH,GAAG;AAAA,QACH,GAAG;AAAA,QACH,GAAG;AAAA,QACH,GAAG;AAAA,QACH,GAAG;AAAA,MAAA;AAGL,aAAO,MAAM,KAAK,KAAK;AAAA,IACzB;AAGA,UAAM,kBAAkB,CAAC,UAAU;AACjC,UAAI,CAAC,MAAO,QAAO;AAEnB,YAAM,QAAQ;AAAA,QACZ,GAAG;AAAA,QACH,GAAG;AAAA,QACH,GAAG;AAAA,QACH,GAAG;AAAA,QACH,GAAG;AAAA,QACH,GAAG;AAAA,QACH,GAAG;AAAA,MAAA;AAGL,aAAO,MAAM,KAAK,KAAK;AAAA,IACzB;AAGA,UAAM,iBAAiB,CAAC,UAAU;AAChC,UAAI,CAAC,MAAO,QAAO;AAEnB,YAAM,eAAe;AAAA,QACnB,GAAG;AAAA,QACH,GAAG;AAAA,QACH,GAAG;AAAA,QACH,GAAG;AAAA,QACH,GAAG;AAAA,QACH,GAAG;AAAA,QACH,GAAG;AAAA,QACH,GAAG;AAAA,MAAA;AAGL,aAAO,aAAa,KAAK,KAAK;AAAA,IAChC;AAGA,UAAM,oBAAoB,CAAC,UAAUA,SAAQ;AAC3C,UAAI,CAAC,YAAY,CAACA,KAAK,QAAO;AAE9B,YAAM,UAAU,SAAS;AACzB,YAAM,UAAU,SAAS;AACzB,YAAM,UAAU,SAAS;AAEzB,YAAM,iBAAiB,UAAW,UAAU,KAAO,UAAU;AAC7D,YAAM,YAAYA,SAAQ,MAAM,MAAM;AAEtC,aAAO,GAAG,KAAK,IAAI,cAAc,EAAE,QAAQ,CAAC,CAAC,KAAK,SAAS;AAAA,IAC7D;AAGA,UAAM,qBAAqB,CAAC,WAAWA,SAAQ;AAC7C,UAAI,CAAC,aAAa,CAACA,KAAK,QAAO;AAE/B,YAAM,UAAU,UAAU;AAC1B,YAAM,UAAU,UAAU;AAC1B,YAAM,UAAU,UAAU;AAE1B,YAAM,iBAAiB,UAAW,UAAU,KAAO,UAAU;AAC7D,YAAM,YAAYA,SAAQ,MAAM,MAAM;AAEtC,aAAO,GAAG,KAAK,IAAI,cAAc,EAAE,QAAQ,CAAC,CAAC,KAAK,SAAS;AAAA,IAC7D;AAGA,UAAM,oBAAoB,CAAC,UAAUA,SAAQ;AAC3C,UAAI,CAAC,SAAU,QAAO;AAEtB,YAAM,MAAM;AACZ,YAAM,YAAYA,SAAQ,IAAI,QAAQ;AAEtC,aAAO,GAAG,IAAI,QAAQ,CAAC,CAAC,KAAK,SAAS;AAAA,IACxC;AA2DA,eAAW;AAAA,MACT,OAAO;AAAA,MACP,aAAa;AAAA,MACb,UAAU,CAAC,QAAQ,WAAW,SAAS,QAAQ,SAAS,MAAM;AAAA,IAAA,CAC/D;;;AAtsBM,YAAA,OAAAC,eAAAC,WAAA,EAAA,OAAM,uBAAmB,MAAA,CAAA,CAAA,2dAAA;AAgCT,YAAAC,mBAAAC,MAAA,SAAA,GAAA,EAAA,OAAM,+CAAA,GAA8C,MAAA,OAAA,CAAA;;UAMtD,cAAA,OAAa;qFAGjB,OAAK,cAAA,MAAc,GAAG,kBACtB,OAAK,cAAA,MAAc,IAAI;AAOrB,cAAAD,mBAAAC,MAAA,CAAA,GAAA,EAAA,OAAM,UAAA,GAAS,MAAA,OAAA,CAAA;kFAIVC,eAAA,cAAA,MAAc,IAAI,+BACjB,eAAe,cAAA,MAAc,IAAI,CAAA,cACnCA,eAAA,cAAA,MAAc,KAAK,OAASA,eAAA,cAAA,MAAc,MAAM;;;;;UAMpD,SAAA,OAAQ;;AAGJ,YAAA,SAAA,MAAS,UAAQ;mJAEC,WAAW,SAAA,MAAS,QAAQ,CAAA,CAAA,eAAA;AAAA;;;AAE9C,YAAA,SAAA,MAAS,QAAQ,SAAA,MAAS,OAAK;kHAE/BA,eAAA,SAAA,MAAS,IAAI,KAAOA,eAAA,SAAA,MAAS,KAAK;;;;AAElC,YAAA,SAAA,MAAS,aAAW;AAEpB,gBAAA,gGAAAA,eAAA,SAAA,MAAS,WAAW,CAAA,iBAAA;AAAA;;;AAEpB,YAAA,SAAA,MAAS,SAAO;AAEd,gBAAA,kGAAAA,eAAA,SAAA,MAAS,OAAO,CAAA,eAAA;AAAA;;;AAElB,YAAA,SAAA,MAAS,cAAY;iIAErB,mBAAmB,SAAA,MAAS,YAAY,CAAA,CAAA,eAAA;AAAA;;;AAExC,YAAA,SAAA,MAAS,KAAG;AAEZ,gBAAA,iGAAAA,eAAA,SAAA,MAAS,GAAG,CAAA,eAAA;AAAA;;;AAEZ,YAAA,SAAA,MAAS,OAAK;gIAEd,oBAAoB,SAAA,MAAS,KAAK,CAAA,CAAA,eAAA;AAAA;;;;;;;;UAStC,SAAA,OAAQ;;AAMCC,sBAAA,WAAP,QAAG;;;YAGyF,UAAA,UAAc,IAAI;iBAOlHD,eAAA,IAAI,IAAI;;;YAKJ,UAAA,UAAS,UAAA;8QAODA,eAAA,SAAA,MAAS,QAAI,GAAA,wGAIbA,eAAA,SAAA,MAAS,SAAK,GAAA,sGAIdA,eAAA,SAAA,MAAS,YAAQ,GAAA,uNAUfA,eAAA,SAAA,MAAS,WAAO,GAAA,uHAIlB,mBAAmB,SAAA,MAAS,YAAY,KAAA,GAAA,2GAIxCA,eAAA,SAAA,MAAS,OAAG,GAAA,sGAIZA,eAAA,SAAA,MAAS,cAAc,SAAA,MAAS,cAAW,OAAA,GAAA,4GAI3CA,eAAA,SAAA,MAAS,wBAAwB,SAAA,MAAS,wBAAqB,OAAA,GAAA,qOAU/D,gBAAgB,SAAA,MAAS,YAAY,KAAA,GAAA,uHAIrC,gBAAgB,SAAA,MAAS,YAAY,KAAA,GAAA,wGAIrCA,eAAA,SAAA,MAAS,oBAAoB,mBAAmB,SAAA,MAAS,iBAAiB,IAAA,GAAA,sHAI1E,gBAAgB,SAAA,MAAS,YAAY,KAAA,GAAA;;;;YAQ7C,UAAA,UAAS,OAAA;;cACP,OAAA,OAAM;mOAMAA,eAAA,kBAAkB,SAAA,MAAS,aAAa,SAAA,MAAS,cAAc,CAAA,sGAI/DA,eAAA,mBAAmB,SAAA,MAAS,cAAc,SAAA,MAAS,eAAe,CAAA,sGAIlEA,eAAA,kBAAkB,SAAA,MAAS,aAAa,SAAA,MAAS,cAAc,CAAA;;;AAatE,kBAAAF,mBAAAC,MAAA,MAAA,GAAA,EAAA,OAAM,yBAAA,GAAwB,MAAA,OAAA,CAAA;;;;;;;YAM/B,UAAA,UAAS,SAAA;4RAOD,eAAe,SAAA,MAAS,WAAW,CAAA,yGAInCC,eAAA,SAAA,MAAS,kBAAc,GAAA,wGAIvBA,eAAA,SAAA,MAAS,eAAW,GAAA,wGAIpBA,eAAA,SAAA,MAAS,eAAW,GAAA,oNAUpBA,eAAA,SAAA,MAAS,aAAS,GAAA,uGAIlBA,eAAA,SAAA,MAAS,UAAM,GAAA,gIAIWA,eAAA,SAAA,MAAS,oBAAgB,GAAA,2OAQtD,KAAK,UAAU,SAAA,OAAQ,MAAA,CAAA,CAAA;;;;;;;AAY5B,cAAAF,mBAAAC,MAAA,SAAA,GAAA,EAAA,OAAM,+CAAA,GAA8C,MAAA,OAAA,CAAA;;;UAKtD,SAAA,OAAQ;;AAOH,cAAAD,mBAAAC,MAAA,QAAA,GAAA,EAAA,OAAM,UAAA,GAAS,MAAA,OAAA,CAAA;;AAOf,cAAAD,mBAAAC,MAAA,QAAA,GAAA,EAAA,OAAM,UAAA,GAAS,MAAA,OAAA,CAAA;;;;;;AAYvB,YAAAD,mBAAAC,MAAA,IAAA,GAAA,EAAA,OAAM,uBAAA,GAAsB,MAAA,OAAA,CAAA;;;QAoChC,IAAG;AAAA,QACH,OAAM;AAAA,MAAA;yBAFR,CAUW,GAAAG,QAAAC,UAAA,aAAA;;AANHD,mBAAAJ,mBAAAC,MAAA,IAAA,GAAA,EAAA,OAAM,0BAAsB,MAAAI,UAAA,QAAA,CAAA;;AAKtBD,mBAAAJ,mBAAAC,MAAA,UAAA,GAAA,EAAA,OAAM,oEAAgE,MAAAI,UAAA,QAAA,CAAA;AAAA;;cALlFC,YAAqCL,MAAA,IAAA,GAAA,EAA/B,OAAM,wBAAsB;AAAA,cAClCK,YAGM,OAAA,MAAA;AAAA,gBAFJA,YAAyD,KAAA,EAAtD,OAAM,uCAAA,GAAuC,OAAK;AAAA,gBACrDA,YAAoD,KAAA,EAAjD,OAAM,gCAAA,GAAgC,SAAO;AAAA,cAAA;cAElDA,YAAqFL,MAAA,UAAA,GAAA,EAAzE,OAAM,kEAAgE;AAAA,YAAA;AAAA;;;;;QAGlF,IAAG;AAAA,QACH,OAAM;AAAA,MAAA;yBAFR,CAUW,GAAAG,QAAAC,UAAA,aAAA;;AANAD,mBAAAJ,mBAAAC,MAAA,OAAA,GAAA,EAAA,OAAM,0BAAsB,MAAAI,UAAA,QAAA,CAAA;;AAKzBD,mBAAAJ,mBAAAC,MAAA,UAAA,GAAA,EAAA,OAAM,oEAAgE,MAAAI,UAAA,QAAA,CAAA;AAAA;;cALlFC,YAAwCL,MAAA,OAAA,GAAA,EAA/B,OAAM,wBAAsB;AAAA,cACrCK,YAGM,OAAA,MAAA;AAAA,gBAFJA,YAAwD,KAAA,EAArD,OAAM,uCAAA,GAAuC,MAAI;AAAA,gBACpDA,YAAsD,KAAA,EAAnD,OAAM,gCAAA,GAAgC,WAAS;AAAA,cAAA;cAEpDA,YAAqFL,MAAA,UAAA,GAAA,EAAzE,OAAM,kEAAgE;AAAA,YAAA;AAAA;;;;;QAGlF,IAAG;AAAA,QACH,OAAM;AAAA,MAAA;yBAFR,CAUW,GAAAG,QAAAC,UAAA,aAAA;;AANDD,mBAAAJ,mBAAAC,MAAA,MAAA,GAAA,EAAA,OAAM,0BAAsB,MAAAI,UAAA,QAAA,CAAA;;AAKxBD,mBAAAJ,mBAAAC,MAAA,UAAA,GAAA,EAAA,OAAM,oEAAgE,MAAAI,UAAA,QAAA,CAAA;AAAA;;cALlFC,YAAuCL,MAAA,MAAA,GAAA,EAA/B,OAAM,wBAAsB;AAAA,cACpCK,YAGM,OAAA,MAAA;AAAA,gBAFJA,YAA0D,KAAA,EAAvD,OAAM,uCAAA,GAAuC,QAAM;AAAA,gBACtDA,YAAoD,KAAA,EAAjD,OAAM,gCAAA,GAAgC,SAAO;AAAA,cAAA;cAElDA,YAAqFL,MAAA,UAAA,GAAA,EAAzE,OAAM,kEAAgE;AAAA,YAAA;AAAA;;;;;;;;;;;;;;"}