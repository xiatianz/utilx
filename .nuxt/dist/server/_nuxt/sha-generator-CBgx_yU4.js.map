{"version":3,"file":"sha-generator-CBgx_yU4.js","sources":["../../../../src/pages/tools/sha-generator.vue"],"sourcesContent":["<template>\n  <div class=\"max-w-8xl mx-auto\">\n    <!-- 面包屑导航 -->\n    <!-- <Breadcrumb :category=\"category\" /> -->\n\n    <!-- 工具标题 -->\n    <div class=\"mt-4 mb-8\">\n      <h1 class=\"text-3xl font-bold mb-3\">SHA哈希生成器</h1>\n      <p class=\"text-muted-foreground max-w-3xl\">支持SHA-1、SHA-256、SHA-512等多种哈希算法在线计算，用于数据完整性验证和数字签名。</p>\n    </div>\n\n    <!-- 算法选择 -->\n    <div class=\"mb-6\">\n      <label class=\"text-lg font-semibold block mb-3\">选择哈希算法</label>\n      <div class=\"flex flex-wrap gap-3\">\n        <label\n          v-for=\"algorithm in algorithms\"\n          :key=\"algorithm.value\"\n          class=\"flex items-center gap-2 px-4 py-2 border border-border rounded-lg cursor-pointer hover:bg-muted transition-colors\"\n          :class=\"{ 'bg-primary text-primary-foreground border-primary': selectedAlgorithm === algorithm.value }\"\n        >\n          <input\n            type=\"radio\"\n            :value=\"algorithm.value\"\n            v-model=\"selectedAlgorithm\"\n            class=\"sr-only\"\n          >\n          <span>{{ algorithm.name }}</span>\n          <span class=\"text-xs opacity-75\">{{ algorithm.bits }}位</span>\n        </label>\n      </div>\n    </div>\n\n    <!-- 主要功能区域 -->\n    <div class=\"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8\">\n      <!-- 输入区域 -->\n      <div class=\"space-y-4\">\n        <div class=\"flex items-center justify-between\">\n          <label class=\"text-lg font-semibold\">原始数据</label>\n          <div class=\"flex items-center gap-2\">\n            <button\n              @click=\"clearInput\"\n              class=\"px-3 py-1 text-sm text-muted-foreground hover:text-foreground transition-colors\"\n            >\n              清空\n            </button>\n            <label class=\"flex items-center gap-2 cursor-pointer\">\n              <input\n                type=\"file\"\n                ref=\"fileInput\"\n                @change=\"handleFileUpload\"\n                accept=\"*/*\"\n                class=\"hidden\"\n              >\n              <span class=\"px-3 py-1 text-sm bg-primary/10 text-primary rounded-md hover:bg-primary/20 transition-colors\">\n                选择文件\n              </span>\n            </label>\n          </div>\n        </div>\n        <textarea\n          v-model=\"inputText\"\n          placeholder=\"请输入要计算哈希的文本...\"\n          class=\"w-full h-64 p-4 border border-border rounded-lg bg-background resize-none focus:outline-none focus:ring-2 focus:ring-primary\"\n        ></textarea>\n        <div class=\"text-sm text-muted-foreground\">\n          字符数：{{ inputText.length }} | 大小：{{ formatBytes(inputText.length) }}\n        </div>\n      </div>\n\n      <!-- 输出区域 -->\n      <div class=\"space-y-4\">\n        <div class=\"flex items-center justify-between\">\n          <label class=\"text-lg font-semibold\">{{ getCurrentAlgorithmName() }}哈希值</label>\n          <div class=\"flex items-center gap-2\">\n            <button\n              @click=\"copyToClipboard(outputText)\"\n              class=\"px-3 py-1 text-sm bg-primary/10 text-primary rounded-md hover:bg-primary/20 transition-colors\"\n            >\n              {{ copyButtonText }}\n            </button>\n            <button\n              @click=\"downloadHash()\"\n              class=\"px-3 py-1 text-sm bg-secondary/10 text-secondary-foreground rounded-md hover:bg-secondary/20 transition-colors\"\n            >\n              下载\n            </button>\n          </div>\n        </div>\n        <div class=\"w-full h-64 p-4 border border-border rounded-lg bg-muted/50\">\n          <div class=\"font-mono text-sm break-all\">\n            {{ outputText || '哈希值将显示在这里...' }}\n          </div>\n        </div>\n        <div class=\"text-sm text-muted-foreground\">\n          长度：{{ outputText.length }} 字符 ({{ (outputText.length * 4).toFixed(0) }} 位)\n        </div>\n      </div>\n    </div>\n\n    <!-- 操作按钮 -->\n    <div class=\"flex flex-wrap gap-4 mb-8\">\n      <button\n        @click=\"generateHash\"\n        class=\"px-6 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors\"\n      >\n        生成哈希\n      </button>\n      <button\n        @click=\"compareHash\"\n        class=\"px-6 py-2 bg-secondary text-secondary-foreground rounded-lg hover:bg-secondary/80 transition-colors\"\n      >\n        哈希对比\n      </button>\n      <button\n        @click=\"generateAllHashes\"\n        class=\"px-6 py-2 border border-border rounded-lg hover:bg-muted transition-colors\"\n      >\n        生成全部算法\n      </button>\n    </div>\n\n    <!-- 全部算法结果 -->\n    <div v-if=\"allHashes.length > 0\" class=\"border border-border rounded-lg p-6 mb-8\">\n      <h3 class=\"text-lg font-semibold mb-4\">所有算法哈希值</h3>\n      <div class=\"space-y-3\">\n        <div v-for=\"hash in allHashes\" :key=\"hash.algorithm\" class=\"border-b border-border pb-3\">\n          <div class=\"flex items-center justify-between mb-2\">\n            <span class=\"font-medium\">{{ hash.name }}</span>\n            <button\n              @click=\"copyToClipboard(hash.value)\"\n              class=\"text-primary hover:text-primary/80 transition-colors\"\n            >\n              复制\n            </button>\n          </div>\n          <div class=\"font-mono text-sm bg-muted/50 p-3 rounded\">{{ hash.value }}</div>\n        </div>\n      </div>\n    </div>\n\n    <!-- 算法对比 -->\n    <div class=\"border border-border rounded-lg p-6 mb-8\">\n      <h3 class=\"text-lg font-semibold mb-4\">SHA算法对比</h3>\n      <div class=\"overflow-x-auto\">\n        <table class=\"w-full text-sm\">\n          <thead>\n            <tr class=\"border-b border-border\">\n              <th class=\"text-left py-2\">算法</th>\n              <th class=\"text-left py-2\">输出长度</th>\n              <th class=\"text-left py-2\">安全性</th>\n              <th class=\"text-left py-2\">推荐用途</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr v-for=\"algo in algorithms\" :key=\"algo.value\" class=\"border-b border-border\">\n              <td class=\"py-2 font-medium\">{{ algo.name }}</td>\n              <td class=\"py-2\">{{ algo.bits }} 位</td>\n              <td class=\"py-2\">\n                <span :class=\"algo.security === 'high' ? 'text-green-500' : algo.security === 'medium' ? 'text-yellow-500' : 'text-red-500'\">\n                  {{ algo.security === 'high' ? '高' : algo.security === 'medium' ? '中' : '低' }}\n                </span>\n              </td>\n              <td class=\"py-2\">{{ algo.useCase }}</td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    </div>\n\n    <!-- 安全提示 -->\n    <div class=\"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-6 mb-8\">\n      <h3 class=\"text-lg font-semibold mb-3 flex items-center\">\n        <span class=\"text-yellow-500 mr-2\">⚠️</span>\n        安全提示\n      </h3>\n      <ul class=\"space-y-2 text-sm text-yellow-800 dark:text-yellow-200\">\n        <li>• SHA-1 已被发现存在碰撞漏洞，不建议用于新的安全应用</li>\n        <li>• 推荐使用 SHA-256 或更高强度的哈希算法</li>\n        <li>• 哈希函数是单向的，无法从哈希值反推原始数据</li>\n        <li>• 对于密码存储，建议使用加盐哈希（salted hash）</li>\n      </ul>\n    </div>\n\n    <!-- 相关工具 -->\n    <div class=\"space-y-4\">\n      <h3 class=\"text-lg font-semibold\">相关工具</h3>\n      <div class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\n        <ToolCard\n          v-for=\"tool in relatedTools\"\n          :key=\"tool.id\"\n          :tool=\"tool\"\n          :title=\"tool.name\"\n          :description=\"tool.description\"\n          :category=\"tool.category\"\n          :usage-count=\"formatViewCount(tool.viewCount)\"\n          :icon=\"tool.icon\"\n          @select=\"handleToolSelect\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, computed } from 'vue'\nimport { categories } from '~/data/categories'\nimport { tools } from '~/data/tools'\nimport { addRecentTool } from '~/composables/useTools'\nimport Breadcrumb from '~/components/Breadcrumb.vue'\nimport ToolCard from '~/components/ToolCard.vue'\n\ndefinePageMeta({\n  layout: 'default'\n})\n\nconst category = categories.find(c => c.id === 'crypto')\n\n// 算法定义\nconst algorithms = [\n  { name: 'SHA-1', value: 'SHA-1', bits: 160, security: 'low', useCase: '已不推荐使用' },\n  { name: 'SHA-256', value: 'SHA-256', bits: 256, security: 'high', useCase: '推荐使用' },\n  { name: 'SHA-384', value: 'SHA-384', bits: 384, security: 'high', useCase: '高安全性需求' },\n  { name: 'SHA-512', value: 'SHA-512', bits: 512, security: 'high', useCase: '最高安全性' }\n]\n\n// 响应式数据\nconst inputText = ref('')\nconst outputText = ref('')\nconst selectedAlgorithm = ref('SHA-256')\nconst fileInput = ref(null)\nconst copyButtonText = ref('复制')\nconst allHashes = ref([])\n\n// 相关工具\nconst relatedTools = computed(() => {\n  return tools.filter(tool =>\n    tool.category === 'crypto' &&\n    tool.id !== 'sha-generator'\n  ).slice(0, 4)\n})\n\n// 格式化浏览量\nconst formatViewCount = (count) => {\n  if (count >= 10000) {\n    return `${(count / 10000).toFixed(1)}w+`\n  } else if (count >= 1000) {\n    return `${(count / 1000).toFixed(1)}k+`\n  }\n  return `${count}`\n}\n\n// 格式化字节数\nconst formatBytes = (bytes) => {\n  if (bytes === 0) return '0 B'\n  const k = 1024\n  const sizes = ['B', 'KB', 'MB', 'GB']\n  const i = Math.floor(Math.log(bytes) / Math.log(k))\n  return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i]\n}\n\n// 获取当前算法名称\nconst getCurrentAlgorithmName = () => {\n  const algo = algorithms.find(a => a.value === selectedAlgorithm.value)\n  return algo ? algo.name : 'SHA'\n}\n\n// 生成哈希\nconst generateHash = async () => {\n  try {\n    if (inputText.value) {\n      const encoder = new TextEncoder()\n      const data = encoder.encode(inputText.value)\n      const hashBuffer = await crypto.subtle.digest(selectedAlgorithm.value, data)\n      const hashArray = Array.from(new Uint8Array(hashBuffer))\n      outputText.value = hashArray.map(b => b.toString(16).padStart(2, '0')).join('')\n    } else {\n      outputText.value = ''\n    }\n  } catch (error) {\n    console.error('哈希生成失败:', error)\n    outputText.value = '生成失败：' + error.message\n  }\n}\n\n// 生成所有算法的哈希\nconst generateAllHashes = async () => {\n  if (!inputText.value) return\n\n  allHashes.value = []\n  const encoder = new TextEncoder()\n  const data = encoder.encode(inputText.value)\n\n  for (const algo of algorithms) {\n    try {\n      const hashBuffer = await crypto.subtle.digest(algo.value, data)\n      const hashArray = Array.from(new Uint8Array(hashBuffer))\n      const hashHex = hashArray.map(b => b.toString(16).padStart(2, '0')).join('')\n\n      allHashes.value.push({\n        algorithm: algo.value,\n        name: algo.name,\n        value: hashHex\n      })\n    } catch (error) {\n      console.error(`${algo.name} 生成失败:`, error)\n    }\n  }\n}\n\n// 处理文件上传\nconst handleFileUpload = (event) => {\n  const file = event.target.files[0]\n  if (!file) return\n\n  const reader = new FileReader()\n  reader.onload = (e) => {\n    inputText.value = e.target.result\n    generateHash()\n  }\n  reader.readAsText(file)\n}\n\n// 复制到剪贴板\nconst copyToClipboard = async (text) => {\n  try {\n    await navigator.clipboard.writeText(text)\n    copyButtonText.value = '已复制'\n    setTimeout(() => {\n      copyButtonText.value = '复制'\n    }, 2000)\n  } catch (error) {\n    console.error('复制失败:', error)\n  }\n}\n\n// 下载哈希值\nconst downloadHash = () => {\n  if (!outputText.value) return\n\n  const content = `原始文本: ${inputText.value}\\n算法: ${getCurrentAlgorithmName()}\\n哈希值: ${outputText.value}\\n生成时间: ${new Date().toLocaleString()}`\n  const blob = new Blob([content], { type: 'text/plain' })\n  const url = URL.createObjectURL(blob)\n  const a = document.createElement('a')\n  a.href = url\n  a.download = 'sha-hash.txt'\n  a.click()\n  URL.revokeObjectURL(url)\n}\n\n// 哈希对比\nconst compareHash = () => {\n  const compareValue = prompt('请输入要对比的哈希值:')\n  if (compareValue) {\n    if (outputText.value.toLowerCase() === compareValue.toLowerCase()) {\n      alert('✅ 哈希值匹配！')\n    } else {\n      alert('❌ 哈希值不匹配！')\n    }\n  }\n}\n\n// 清空输入\nconst clearInput = () => {\n  inputText.value = ''\n  outputText.value = ''\n  allHashes.value = []\n  if (fileInput.value) {\n    fileInput.value.value = ''\n  }\n}\n\n// 工具选择处理\nconst handleToolSelect = (tool) => {\n  const toolUrl = `/tools/${tool.id}/`\n  navigateTo(toolUrl)\n  addRecentTool(tool.id)\n}\n\n// 添加到最近使用\naddRecentTool('sha-generator')\n\n// SEO配置\nuseSeoMeta({\n  title: 'SHA哈希生成器 - 在线SHA-1/SHA-256/SHA-512加密工具',\n  description: '免费在线SHA哈希生成器，支持SHA-1、SHA-256、SHA-384、SHA-512算法，用于数据完整性验证和数字签名。',\n  keywords: ['SHA', 'SHA-1', 'SHA-256', 'SHA-512', '哈希', '加密', '数字签名', '数据完整性']\n})\n\n</script>"],"names":["_ssrRenderAttrs","_mergeProps","_ssrRenderList","_ssrInterpolate","_ssrRenderClass"],"mappings":"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"}