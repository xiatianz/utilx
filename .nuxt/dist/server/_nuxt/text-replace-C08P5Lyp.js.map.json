{"file":"text-replace-C08P5Lyp.js","mappings":"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","names":["_ssrRenderAttrs","_mergeProps","_ssrRenderComponent","_unref","_ssrIncludeBooleanAttr","_ssrLooseContain","_ssrRenderList","_ssrInterpolate","_push","_parent","_createVNode"],"sources":["../../../../src/pages/tools/text-replace.vue"],"sourcesContent":["<template>\n  <div class=\"max-w-8xl mx-auto\">\n    <!-- 面包屑导航 -->\n    <!-- <Breadcrumb :category=\"category\" /> -->\n\n    <!-- 工具标题 -->\n    <div class=\"mt-4 mb-8\">\n      <h1 class=\"text-3xl font-bold mb-3\">文本替换工具</h1>\n      <p class=\"text-muted-foreground\">支持普通文本和正则表达式的批量文本查找替换功能</p>\n    </div>\n\n    <!-- 主要功能区域 -->\n    <div class=\"space-y-6\">\n      <!-- 替换配置 -->\n      <div class=\"bg-card   rounded-lg p-6\">\n        <h2 class=\"text-lg font-semibold mb-4\">替换配置</h2>\n\n        <div class=\"space-y-4\">\n          <!-- 替换模式 -->\n          <div>\n            <label class=\"text-sm font-medium mb-2 block\">替换模式</label>\n            <div class=\"flex gap-4\">\n              <label class=\"flex items-center\">\n                <input\n                  type=\"radio\"\n                  v-model=\"replaceMode\"\n                  value=\"text\"\n                  class=\"mr-2\"\n                />\n                <span>普通文本</span>\n              </label>\n              <label class=\"flex items-center\">\n                <input\n                  type=\"radio\"\n                  v-model=\"replaceMode\"\n                  value=\"regex\"\n                  class=\"mr-2\"\n                />\n                <span>正则表达式</span>\n              </label>\n            </div>\n          </div>\n\n          <!-- 查找和替换输入 -->\n          <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n            <div>\n              <label class=\"text-sm font-medium mb-2 block\">查找内容</label>\n              <div class=\"relative\">\n                <input\n                  v-model=\"searchText\"\n                  @keyup.enter=\"performReplace\"\n                  placeholder=\"请输入要查找的内容...\"\n                  class=\"w-full p-3 pr-10 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary\"\n                />\n                <button\n                  v-if=\"searchText\"\n                  @click=\"searchText = ''\"\n                  class=\"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground\"\n                >\n                  <X class=\"w-4 h-4\" />\n                </button>\n              </div>\n            </div>\n\n            <div>\n              <label class=\"text-sm font-medium mb-2 block\">替换内容</label>\n              <input\n                v-model=\"replaceText\"\n                @keyup.enter=\"performReplace\"\n                placeholder=\"请输入替换内容...\"\n                class=\"w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary\"\n              />\n            </div>\n          </div>\n\n          <!-- 正则选项 -->\n          <div v-if=\"replaceMode === 'regex'\" class=\"flex flex-wrap gap-4\">\n            <label class=\"flex items-center\">\n              <input\n                type=\"checkbox\"\n                v-model=\"regexOptions.global\"\n                class=\"mr-2\"\n              />\n              <span>全局匹配 (g)</span>\n            </label>\n            <label class=\"flex items-center\">\n              <input\n                type=\"checkbox\"\n                v-model=\"regexOptions.ignoreCase\"\n                class=\"mr-2\"\n              />\n              <span>忽略大小写 (i)</span>\n            </label>\n            <label class=\"flex items-center\">\n              <input\n                type=\"checkbox\"\n                v-model=\"regexOptions.multiline\"\n                class=\"mr-2\"\n              />\n              <span>多行模式 (m)</span>\n            </label>\n          </div>\n\n          <!-- 预设替换规则 -->\n          <div>\n            <label class=\"text-sm font-medium mb-2 block\">预设规则</label>\n            <div class=\"flex flex-wrap gap-2\">\n              <button\n                v-for=\"preset in presetRules\"\n                :key=\"preset.name\"\n                @click=\"applyPreset(preset)\"\n                class=\"px-3 py-1 text-sm bg-muted hover:bg-muted/80 rounded transition-colors\"\n              >\n                {{ preset.name }}\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- 输入输出区域 -->\n      <div class=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n        <!-- 输入区域 -->\n        <div class=\"space-y-4\">\n          <div class=\"flex items-center justify-between\">\n            <h2 class=\"text-lg font-semibold\">输入文本</h2>\n            <div class=\"flex gap-2\">\n              <button\n                @click=\"pasteFromClipboard\"\n                class=\"px-3 py-1 text-sm text-muted-foreground hover:text-foreground transition-colors\"\n              >\n                粘贴\n              </button>\n              <button\n                @click=\"clearInput\"\n                class=\"px-3 py-1 text-sm text-muted-foreground hover:text-foreground transition-colors\"\n              >\n                清空\n              </button>\n            </div>\n          </div>\n\n          <textarea\n            v-model=\"inputText\"\n            placeholder=\"请输入要处理的文本...\"\n            class=\"w-full h-64 p-4 border rounded-lg resize-none focus:outline-none focus:ring-2 focus:ring-primary\"\n          ></textarea>\n\n          <div class=\"text-sm text-muted-foreground\">\n            <span>{{ inputText.length }} 个字符</span>\n          </div>\n        </div>\n\n        <!-- 输出区域 -->\n        <div class=\"space-y-4\">\n          <div class=\"flex items-center justify-between\">\n            <h2 class=\"text-lg font-semibold\">输出结果</h2>\n            <div class=\"flex gap-2\">\n              <button\n                v-if=\"outputText\"\n                @click=\"copyOutput\"\n                class=\"px-3 py-1 text-sm text-muted-foreground hover:text-foreground transition-colors\"\n              >\n                {{ copied ? '已复制' : '复制' }}\n              </button>\n              <button\n                v-if=\"outputText\"\n                @click=\"downloadOutput\"\n                class=\"px-3 py-1 text-sm text-muted-foreground hover:text-foreground transition-colors\"\n              >\n                下载\n              </button>\n            </div>\n          </div>\n\n          <textarea\n            v-model=\"outputText\"\n            readonly\n            placeholder=\"替换结果将显示在这里...\"\n            class=\"w-full h-64 p-4 bg-muted rounded-lg resize-none\"\n          ></textarea>\n\n          <div class=\"text-sm text-muted-foreground\">\n            <span>{{ outputText.length }} 个字符</span>\n            <span v-if=\"replaceCount > 0\" class=\"ml-2 text-primary\">\n              （已替换 {{ replaceCount }} 处）\n            </span>\n          </div>\n        </div>\n      </div>\n\n      <!-- 执行按钮 -->\n      <div class=\"flex justify-center gap-4\">\n        <button\n          @click=\"performReplace\"\n          :disabled=\"!inputText || !searchText\"\n          class=\"px-6 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\n        >\n          执行替换\n        </button>\n        <button\n          @click=\"resetAll\"\n          class=\"px-6 py-2 border border-border rounded-lg hover:bg-muted transition-colors\"\n        >\n          重置\n        </button>\n      </div>\n\n      <!-- 替换历史 -->\n      <div v-if=\"replaceHistory.length > 0\" class=\"bg-card   rounded-lg p-6\">\n        <div class=\"flex items-center justify-between mb-4\">\n          <h2 class=\"text-lg font-semibold\">替换历史</h2>\n          <button\n            @click=\"clearHistory\"\n            class=\"text-sm text-muted-foreground hover:text-foreground transition-colors\"\n          >\n            清空历史\n          </button>\n        </div>\n\n        <div class=\"space-y-2\">\n          <div\n            v-for=\"(item, index) in replaceHistory\"\n            :key=\"index\"\n            class=\"p-3 bg-muted rounded-lg text-sm\"\n          >\n            <div class=\"flex items-center justify-between mb-1\">\n              <span class=\"font-medium\">{{ item.mode === 'regex' ? '正则' : '文本' }}替换</span>\n              <span class=\"text-muted-foreground text-xs\">{{ item.time }}</span>\n            </div>\n            <div class=\"font-mono text-xs\">\n              \"{{ item.search }}\" → \"{{ item.replace }}\"\n            </div>\n            <div class=\"text-muted-foreground text-xs mt-1\">\n              替换了 {{ item.count }} 处\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- 常用正则表达式 -->\n      <div class=\"bg-card   rounded-lg p-6\">\n        <h2 class=\"text-lg font-semibold mb-4\">常用正则表达式</h2>\n        <div class=\"grid grid-cols-1 md:grid-cols-2 gap-3\">\n          <div\n            v-for=\"regex in commonRegex\"\n            :key=\"regex.name\"\n            class=\"flex items-center justify-between p-3 bg-muted rounded-lg\"\n          >\n            <div>\n              <div class=\"font-medium text-sm\">{{ regex.name }}</div>\n              <div class=\"font-mono text-xs text-muted-foreground mt-1\">{{ regex.pattern }}</div>\n            </div>\n            <button\n              @click=\"useRegex(regex)\"\n              class=\"px-3 py-1 text-sm bg-background hover:bg-background/80 rounded transition-colors\"\n            >\n              使用\n            </button>\n          </div>\n        </div>\n      </div>\n\n      <!-- 相关工具 -->\n      <div class=\"bg-card   rounded-lg p-6\">\n        <h3 class=\"text-lg font-semibold mb-4\">相关工具</h3>\n        <div class=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n          <NuxtLink\n            to=\"/tools/text/regex-tester\"\n            class=\"flex items-center gap-3 p-3 bg-muted rounded-lg hover:bg-muted/80 transition-colors group\"\n          >\n            <Regex class=\"w-5 h-5 text-primary\" />\n            <div>\n              <p class=\"font-medium group-hover:text-primary\">正则表达式测试</p>\n              <p class=\"text-xs text-muted-foreground\">测试正则表达式</p>\n            </div>\n            <ArrowRight class=\"w-4 h-4 ml-auto text-muted-foreground group-hover:text-primary\" />\n          </NuxtLink>\n          <NuxtLink\n            to=\"/tools/text/text-counter\"\n            class=\"flex items-center gap-3 p-3 bg-muted rounded-lg hover:bg-muted/80 transition-colors group\"\n          >\n            <FileText class=\"w-5 h-5 text-primary\" />\n            <div>\n              <p class=\"font-medium group-hover:text-primary\">字数统计</p>\n              <p class=\"text-xs text-muted-foreground\">统计文本信息</p>\n            </div>\n            <ArrowRight class=\"w-4 h-4 ml-auto text-muted-foreground group-hover:text-primary\" />\n          </NuxtLink>\n          <NuxtLink\n            to=\"/tools/text/case-converter\"\n            class=\"flex items-center gap-3 p-3 bg-muted rounded-lg hover:bg-muted/80 transition-colors group\"\n          >\n            <Type class=\"w-5 h-5 text-primary\" />\n            <div>\n              <p class=\"font-medium group-hover:text-primary\">大小写转换</p>\n              <p class=\"text-xs text-muted-foreground\">转换文本格式</p>\n            </div>\n            <ArrowRight class=\"w-4 h-4 ml-auto text-muted-foreground group-hover:text-primary\" />\n          </NuxtLink>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref } from 'vue'\nimport { X, Regex, FileText, Type, ArrowRight } from 'lucide-vue-next'\nimport Breadcrumb from '~/components/Breadcrumb.vue'\n\n// 分类信息\nconst category = { id: 'text', name: '文本处理', description: '文本处理工具集合' }\n\n// 状态管理\nconst inputText = ref('')\nconst outputText = ref('')\nconst searchText = ref('')\nconst replaceText = ref('')\nconst replaceMode = ref('text')\nconst replaceCount = ref(0)\nconst copied = ref(false)\nconst replaceHistory = ref([])\n\n// 正则选项\nconst regexOptions = ref({\n  global: true,\n  ignoreCase: false,\n  multiline: false\n})\n\n// 预设替换规则\nconst presetRules = [\n  {\n    name: '移除多余空格',\n    mode: 'regex',\n    search: '\\\\s+',\n    replace: ' ',\n    options: { global: true }\n  },\n  {\n    name: '移除空行',\n    mode: 'regex',\n    search: '^\\\\s*$\\\\n',\n    replace: '',\n    options: { global: true, multiline: true }\n  },\n  {\n    name: '首字母大写',\n    mode: 'regex',\n    search: '\\\\b\\\\w',\n    replace: (match) => match.toUpperCase(),\n    options: { global: true }\n  },\n  {\n    name: '添加逗号',\n    mode: 'text',\n    search: '\\n',\n    replace: ',\\n',\n    options: {}\n  },\n  {\n    name: '移除所有数字',\n    mode: 'regex',\n    search: '\\\\d',\n    replace: '',\n    options: { global: true }\n  }\n]\n\n// 常用正则表达式\nconst commonRegex = [\n  { name: '邮箱地址', pattern: '[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\\\.[a-zA-Z]{2,}' },\n  { name: '手机号', pattern: '1[3-9]\\\\d{9}' },\n  { name: 'URL链接', pattern: 'https?://[^\\\\s]+' },\n  { name: 'IP地址', pattern: '\\\\b(?:\\\\d{1,3}\\\\.){3}\\\\d{1,3}\\\\b' },\n  { name: '日期', pattern: '\\\\d{4}-\\\\d{2}-\\\\d{2}' },\n  { name: '中文字符', pattern: '[\\\\u4e00-\\\\u9fa5]+' }\n]\n\n// 执行替换\nconst performReplace = () => {\n  if (!inputText.value || !searchText.value) return\n\n  try {\n    let result = inputText.value\n    let count = 0\n\n    if (replaceMode.value === 'regex') {\n      // 构建正则表达式\n      const flags = []\n      if (regexOptions.value.global) flags.push('g')\n      if (regexOptions.value.ignoreCase) flags.push('i')\n      if (regexOptions.value.multiline) flags.push('m')\n\n      const regex = new RegExp(searchText.value, flags.join(''))\n      const matches = result.match(regex)\n      count = matches ? matches.length : 0\n\n      result = result.replace(regex, replaceText.value)\n    } else {\n      // 普通文本替换\n      if (regexOptions.value.global || regexOptions.value.ignoreCase) {\n        // 全局替换\n        const search = regexOptions.value.ignoreCase\n          ? new RegExp(searchText.value.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&'), 'gi')\n          : new RegExp(searchText.value.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&'), 'g')\n        const matches = result.match(search)\n        count = matches ? matches.length : 0\n        result = result.replace(search, replaceText.value)\n      } else {\n        // 仅替换第一个\n        const index = result.indexOf(searchText.value)\n        if (index !== -1) {\n          count = 1\n          result = result.substring(0, index) + replaceText.value + result.substring(index + searchText.value.length)\n        }\n      }\n    }\n\n    outputText.value = result\n    replaceCount.value = count\n\n    // 添加到历史记录\n    if (count > 0) {\n      replaceHistory.value.unshift({\n        mode: replaceMode.value,\n        search: searchText.value,\n        replace: replaceText.value,\n        count: count,\n        time: new Date().toLocaleTimeString()\n      })\n\n      // 限制历史记录数量\n      if (replaceHistory.value.length > 10) {\n        replaceHistory.value = replaceHistory.value.slice(0, 10)\n      }\n    }\n  } catch (error) {\n    outputText.value = '替换失败：' + error.message\n    replaceCount.value = 0\n  }\n}\n\n// 应用预设规则\nconst applyPreset = (preset) => {\n  replaceMode.value = preset.mode\n  searchText.value = preset.search\n  replaceText.value = typeof preset.replace === 'function' ? '' : preset.replace\n\n  if (preset.mode === 'regex' && preset.options) {\n    Object.assign(regexOptions.value, preset.options)\n  }\n\n  if (typeof preset.replace === 'function') {\n    // 对于需要函数的预设，直接执行\n    outputText.value = inputText.value.replace(\n      new RegExp(preset.search, 'g'),\n      preset.replace\n    )\n  }\n}\n\n// 使用正则表达式\nconst useRegex = (regex) => {\n  replaceMode.value = 'regex'\n  searchText.value = regex.pattern\n  regexOptions.value.global = true\n}\n\n// 从剪贴板粘贴\nconst pasteFromClipboard = async () => {\n  try {\n    const text = await navigator.clipboard.readText()\n    inputText.value = text\n  } catch (error) {\n    console.error('粘贴失败:', error)\n  }\n}\n\n// 清空输入\nconst clearInput = () => {\n  inputText.value = ''\n  outputText.value = ''\n  replaceCount.value = 0\n}\n\n// 复制输出\nconst copyOutput = async () => {\n  try {\n    await navigator.clipboard.writeText(outputText.value)\n    copied.value = true\n    setTimeout(() => {\n      copied.value = false\n    }, 2000)\n  } catch (error) {\n    // 降级方案\n    const textarea = document.createElement('textarea')\n    textarea.value = outputText.value\n    document.body.appendChild(textarea)\n    textarea.select()\n    document.execCommand('copy')\n    document.body.removeChild(textarea)\n    copied.value = true\n    setTimeout(() => {\n      copied.value = false\n    }, 2000)\n  }\n}\n\n// 下载输出\nconst downloadOutput = () => {\n  const blob = new Blob([outputText.value], { type: 'text/plain' })\n  const url = URL.createObjectURL(blob)\n  const a = document.createElement('a')\n  a.href = url\n  a.download = 'replaced-text.txt'\n  document.body.appendChild(a)\n  a.click()\n  document.body.removeChild(a)\n  URL.revokeObjectURL(url)\n}\n\n// 重置所有\nconst resetAll = () => {\n  inputText.value = ''\n  outputText.value = ''\n  searchText.value = ''\n  replaceText.value = ''\n  replaceCount.value = 0\n  replaceMode.value = 'text'\n}\n\n// 清空历史\nconst clearHistory = () => {\n  replaceHistory.value = []\n}\n\n// SEO配置\nuseSeoMeta({\n  title: '文本替换工具 - 在线批量查找替换文本',\n  description: '免费在线文本替换工具，支持普通文本和正则表达式的批量查找替换，提供预设规则和常用正则表达式。',\n  keywords: ['文本替换', '查找替换', '正则表达式', '批量替换', '在线工具']\n})\n\ndefinePageMeta({\n  layout: 'default'\n})\n</script>"],"version":3}