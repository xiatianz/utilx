{"file":"text-diff-BGnzugSA.js","mappings":"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","names":["_ssrRenderAttrs","_mergeProps","_ssrRenderComponent","_unref","_ssrInterpolate","_ssrRenderAttr","_ssrRenderList","_push","_parent","_ssrRenderVNode","_createVNode","_resolveDynamicComponent","_createBlock","_toDisplayString"],"sources":["../../../../src/pages/tools/text-diff.vue"],"sourcesContent":["<template>\n  <div class=\"max-w-8xl mx-auto\">\n    <!-- 面包屑导航 -->\n    <!-- <Breadcrumb :category=\"category\" :tool=\"tool\" /> -->\n\n    <!-- Hero 头部区 -->\n    <div class=\"mb-8\">\n      <h1 class=\"text-3xl font-bold text-foreground mb-3\">文本对比 - 在线文本差异比较工具</h1>\n      <p class=\"text-muted-foreground\">一款免费的在线文本差异比较工具。支持实时对比两个文本的差异，高亮显示不同之处。提供行级、字符级和单词级三种对比模式，完全本地计算，数据隐私安全。</p>\n    </div>\n\n    <!-- 工具交互区 -->\n    <div class=\"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8\">\n      <!-- 原始文本输入区 -->\n      <div class=\"flex flex-col h-full\">\n        <div class=\"flex items-center justify-between mb-3\">\n          <label class=\"text-sm font-medium text-foreground flex items-center gap-2\">\n            <FileText class=\"w-4 h-4\" />\n            原始文本\n          </label>\n          <div class=\"flex gap-2\">\n            <button\n              class=\"text-xs px-2 py-1 bg-muted hover:bg-muted/80 rounded text-muted-foreground\"\n              @click=\"clearOriginal\"\n            >\n              清空\n            </button>\n            <button\n              class=\"text-xs px-2 py-1 bg-muted hover:bg-muted/80 rounded text-muted-foreground\"\n              @click=\"pasteOriginal\"\n            >\n              粘贴\n            </button>\n          </div>\n        </div>\n        <textarea\n          v-model=\"originalText\"\n          class=\"flex-1 w-full min-h-[300px] p-4 bg-muted border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary resize-none font-mono text-sm\"\n          placeholder=\"输入原始文本...\"\n          @input=\"compareTexts\"\n        ></textarea>\n      </div>\n\n      <!-- 修改后的文本输入区 -->\n      <div class=\"flex flex-col h-full\">\n        <div class=\"flex items-center justify-between mb-3\">\n          <label class=\"text-sm font-medium text-foreground flex items-center gap-2\">\n            <FileDiff class=\"w-4 h-4\" />\n            修改后的文本\n          </label>\n          <div class=\"flex gap-2\">\n            <button\n              class=\"text-xs px-2 py-1 bg-muted hover:bg-muted/80 rounded text-muted-foreground\"\n              @click=\"clearModified\"\n            >\n              清空\n            </button>\n            <button\n              class=\"text-xs px-2 py-1 bg-muted hover:bg-muted/80 rounded text-muted-foreground\"\n              @click=\"pasteModified\"\n            >\n              粘贴\n            </button>\n          </div>\n        </div>\n        <textarea\n          v-model=\"modifiedText\"\n          class=\"flex-1 w-full min-h-[300px] p-4 bg-muted border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary resize-none font-mono text-sm\"\n          placeholder=\"输入修改后的文本...\"\n          @input=\"compareTexts\"\n        ></textarea>\n      </div>\n    </div>\n\n    <!-- 对比选项区 -->\n    <div class=\"bg-card border border-border rounded-lg p-4 mb-8\">\n      <h3 class=\"text-lg font-semibold text-foreground mb-4\">对比选项</h3>\n      <div class=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n        <!-- 对比模式 -->\n        <div>\n          <label class=\"block text-sm font-medium text-foreground mb-2\">对比模式</label>\n          <div class=\"space-y-2\">\n            <label class=\"flex items-center\">\n              <input\n                type=\"radio\"\n                v-model=\"compareMode\"\n                value=\"line\"\n                @change=\"compareTexts\"\n                class=\"mr-2\"\n              >\n              <span class=\"text-sm\">行级对比</span>\n            </label>\n            <label class=\"flex items-center\">\n              <input\n                type=\"radio\"\n                v-model=\"compareMode\"\n                value=\"word\"\n                @change=\"compareTexts\"\n                class=\"mr-2\"\n              >\n              <span class=\"text-sm\">单词级对比</span>\n            </label>\n            <label class=\"flex items-center\">\n              <input\n                type=\"radio\"\n                v-model=\"compareMode\"\n                value=\"char\"\n                @change=\"compareTexts\"\n                class=\"mr-2\"\n              >\n              <span class=\"text-sm\">字符级对比</span>\n            </label>\n          </div>\n        </div>\n\n        <!-- 对比设置 -->\n        <div>\n          <label class=\"block text-sm font-medium text-foreground mb-2\">对比设置</label>\n          <div class=\"space-y-2\">\n            <label class=\"flex items-center\">\n              <input\n                type=\"checkbox\"\n                v-model=\"ignoreWhitespace\"\n                @change=\"compareTexts\"\n                class=\"mr-2\"\n              >\n              <span class=\"text-sm\">忽略空格</span>\n            </label>\n            <label class=\"flex items-center\">\n              <input\n                type=\"checkbox\"\n                v-model=\"ignoreCase\"\n                @change=\"compareTexts\"\n                class=\"mr-2\"\n              >\n              <span class=\"text-sm\">忽略大小写</span>\n            </label>\n          </div>\n        </div>\n\n        <!-- 操作按钮 -->\n        <div>\n          <label class=\"block text-sm font-medium text-foreground mb-2\">快捷操作</label>\n          <div class=\"grid grid-cols-2 gap-2\">\n            <button\n              @click=\"loadExample\"\n              class=\"px-3 py-2 bg-muted hover:bg-muted/80 rounded text-sm text-foreground transition-colors\"\n            >\n              加载示例\n            </button>\n            <button\n              @click=\"swapTexts\"\n              class=\"px-3 py-2 bg-muted hover:bg-muted/80 rounded text-sm text-foreground transition-colors\"\n            >\n              交换文本\n            </button>\n            <button\n              @click=\"clearAll\"\n              class=\"px-3 py-2 bg-muted hover:bg-muted/80 rounded text-sm text-foreground transition-colors\"\n            >\n              清空全部\n            </button>\n            <button\n              @click=\"exportDiff\"\n              class=\"px-3 py-2 bg-muted hover:bg-muted/80 rounded text-sm text-foreground transition-colors\"\n            >\n              导出差异\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- 对比结果区 -->\n    <div class=\"bg-card border border-border rounded-lg p-6 mb-12\">\n      <div class=\"flex items-center justify-between mb-4\">\n        <h3 class=\"text-lg font-semibold text-foreground flex items-center gap-2\">\n          <GitCompare class=\"w-5 h-5\" />\n          对比结果\n        </h3>\n        <div class=\"flex items-center gap-4\">\n          <div class=\"text-sm text-muted-foreground\">\n            <span class=\"text-green-600 dark:text-green-400\">+{{ stats.added }}</span> 添加\n            <span class=\"text-red-600 dark:text-red-400 ml-2\">-{{ stats.removed }}</span> 删除\n            <span class=\"ml-2\">{{ stats.unchanged }}</span> 未改变\n          </div>\n          <button\n            @click=\"copyDiff\"\n            class=\"px-3 py-1 bg-primary text-primary-foreground rounded-md hover:bg-primary/90 transition-colors text-sm\"\n          >\n            复制差异\n          </button>\n        </div>\n      </div>\n\n      <!-- 差异显示 -->\n      <div class=\"bg-muted rounded-lg p-4 overflow-x-auto max-h-[400px] overflow-y-auto\">\n        <div v-if=\"diffHtml\" v-html=\"diffHtml\" class=\"font-mono text-sm whitespace-pre-wrap\"></div>\n        <div v-else class=\"text-center text-muted-foreground py-8\">\n          请输入文本进行对比\n        </div>\n      </div>\n    </div>\n\n    <!-- SEO 内容长尾区 -->\n    <div class=\"p-6 mb-12 relative\">\n      <!-- 折叠按钮 -->\n      <button\n        @click=\"toggleSeoContent\"\n        class=\"absolute top-4 right-4 text-muted-foreground hover:text-foreground transition-colors\"\n        :title=\"isSeoContentVisible ? '折叠内容' : '展开内容'\"\n      >\n        <HelpCircle v-if=\"!isSeoContentVisible\" class=\"w-5 h-5\" />\n        <ChevronUp v-else class=\"w-5 h-5\" />\n      </button>\n\n      <!-- 内容区域 -->\n      <div v-show=\"isSeoContentVisible\">\n        <h2 class=\"text-2xl font-bold text-foreground mb-4 flex items-center\">\n          <span class=\"text-primary mr-2\">#</span>\n          什么是文本对比工具？\n        </h2>\n        <p class=\"text-muted-foreground mb-4\">\n          文本对比工具（Text Diff Tool）是一种用于比较两个文本之间差异的专业工具。\n          它能够精确地识别出文本之间的增删改内容，并通过高亮显示让差异一目了然。\n          这类工具在版本控制、文档审阅、代码审查等场景中有着广泛的应用。\n        </p>\n        <p class=\"text-muted-foreground mb-6\">\n          无论您是程序员需要对比代码修改，还是编辑需要审阅文档修订，抑或是学生需要对比论文版本，\n          文本对比工具都能帮助您快速准确地找出所有差异，提高工作效率。\n        </p>\n\n        <h2 class=\"text-2xl font-bold text-foreground mt-8 mb-4 flex items-center\">\n          <span class=\"text-primary mr-2\">#</span>\n          如何使用本工具\n        </h2>\n        <ol class=\"list-decimal list-inside space-y-2 text-muted-foreground mb-6\">\n          <li>在左侧文本框中输入或粘贴原始文本</li>\n          <li>在右侧文本框中输入或粘贴修改后的文本</li>\n          <li>选择合适的对比模式（行级、单词级或字符级）</li>\n          <li>根据需要勾选\"忽略空格\"或\"忽略大小写\"选项</li>\n          <li>查看下方的对比结果，差异将以不同颜色高亮显示</li>\n          <li>使用\"复制差异\"或\"导出差异\"功能保存对比结果</li>\n        </ol>\n\n        <h2 class=\"text-2xl font-bold text-foreground mt-8 mb-4 flex items-center\">\n          <span class=\"text-primary mr-2\">#</span>\n          核心功能特性\n        </h2>\n        <ul class=\"list-disc list-inside space-y-2 text-muted-foreground mb-6\">\n          <li><strong>多种对比模式</strong>：支持行级、单词级和字符级三种对比模式，满足不同精度需求</li>\n          <li><strong>实时对比</strong>：输入文本时自动进行对比，无需手动点击按钮</li>\n          <li><strong>可视化差异</strong>：使用不同颜色标识添加、删除和修改的内容</li>\n          <li><strong>智能选项</strong>：支持忽略空格和大小写，让对比更加灵活</li>\n          <li><strong>本地安全</strong>：所有处理都在浏览器本地完成，数据不会上传到服务器</li>\n          <li><strong>便捷操作</strong>：提供清空、粘贴、交换文本等快捷操作</li>\n          <li><strong>导出功能</strong>：支持复制对比结果或导出为文本文件</li>\n        </ul>\n\n        <h2 class=\"text-2xl font-bold text-foreground mt-8 mb-4 flex items-center\">\n          <span class=\"text-primary mr-2\">#</span>\n          常见问题 (FAQ)\n        </h2>\n        <div class=\"space-y-4\">\n          <div>\n            <h3 class=\"text-lg font-semibold text-foreground\">文本对比工具支持哪些文件格式？</h3>\n            <p class=\"text-muted-foreground mt-1\">\n              我们的文本对比工具支持所有纯文本格式，包括 .txt、.md、.js、.py、.html、.css、.json、.xml 等文件类型。\n              只要是可以以文本形式打开的文件，都可以进行对比。对于二进制文件（如图片、视频等），本工具不支持。\n            </p>\n          </div>\n          <div>\n            <h3 class=\"text-lg font-semibold text-foreground\">行级、单词级和字符级对比有什么区别？</h3>\n            <p class=\"text-muted-foreground mt-1\">\n              行级对比以行为单位进行比较，适合代码和文档的大结构差异查看；\n              单词级对比以单词为单位进行比较，能够更精细地识别修改内容；\n              字符级对比最为精细，可以识别到每个字符的变化，适合对精度要求极高的场景。\n            </p>\n          </div>\n          <div>\n            <h3 class=\"text-lg font-semibold text-foreground\">对比结果中的颜色代表什么？</h3>\n            <p class=\"text-muted-foreground mt-1\">\n              绿色（通常带有+号）表示新增的内容，红色（通常带有-号）表示删除的内容，\n              没有特殊标记的普通文本表示未发生变化的内容。这种颜色编码让差异一目了然。\n            </p>\n          </div>\n          <div>\n            <h3 class=\"text-lg font-semibold text-foreground\">我的数据安全吗？</h3>\n            <p class=\"text-muted-foreground mt-1\">\n              绝对安全。我们的文本对比工具采用纯前端技术实现，所有文本对比处理都在您的浏览器本地完成，\n              不会上传到任何服务器。您处理的文本永远不会离开您的设备，确保了数据的绝对安全和隐私。\n            </p>\n          </div>\n          <div>\n            <h3 class=\"text-lg font-semibold text-foreground\">如何对比大文件？</h3>\n            <p class=\"text-muted-foreground mt-1\">\n              对于非常大的文件，建议先使用文本编辑器分割成较小的部分再进行对比。\n              虽然我们的工具能够处理相当大的文本，但浏览器内存有限，过大的文本可能会导致性能问题。\n              一般来说，几MB以内的文本文件都能流畅处理。\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- 相关推荐区 -->\n    <section class=\"mb-12\">\n      <h2 class=\"text-2xl font-bold text-foreground mb-4\">您可能还需要...</h2>\n      <div class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\n        <NuxtLink\n          v-for=\"relatedTool in relatedTools\"\n          :key=\"relatedTool.id\"\n          :to=\"`/tools/${relatedTool.id}`\"\n          class=\"block p-4 bg-card border border-border rounded-lg hover:bg-accent transition-colors\"\n        >\n          <div class=\"flex items-center gap-2 mb-2\">\n            <component\n              :is=\"iconMap[relatedTool.icon]\"\n              class=\"w-5 h-5 text-primary\"\n            />\n            <span class=\"font-medium text-foreground\">{{ relatedTool.name }}</span>\n          </div>\n          <p class=\"text-sm text-muted-foreground line-clamp-2\">{{ relatedTool.description }}</p>\n        </NuxtLink>\n      </div>\n    </section>\n  </div>\n</template>\n\n<script setup>\nimport { ref, computed } from 'vue'\nimport {\n  FileText, FileDiff, GitCompare, HelpCircle, ChevronUp,\n  Type, Hash, Code, RotateCcw, Copy, Download,\n  FileJson, FilePlus, Lock, Shield, Clock, Wifi, Image,\n  Database, Link, Timer, Regex, Globe, FolderOpen, GitBranch\n} from 'lucide-vue-next'\nimport { tools } from '~/data/tools'\nimport { categories } from '~/data/categories'\nimport { addRecentTool } from '~/composables/useTools'\n\ndefinePageMeta({\n  layout: 'default'\n})\n\n// 定义当前工具和分类\nconst tool = tools.find(t => t.id === 'text-diff')\nconst category = categories.find(c => c.id === 'text')\n\n// 响应式数据\nconst originalText = ref('')\nconst modifiedText = ref('')\nconst compareMode = ref('line')\nconst ignoreWhitespace = ref(false)\nconst ignoreCase = ref(false)\nconst diffHtml = ref('')\n\n// SEO内容折叠状态\nconst isSeoContentVisible = ref(true)\n\n// 图标映射\nconst iconMap = {\n  FileText, FileDiff, GitCompare, Type, Hash, Code, RotateCcw, Copy, Download,\n  FileJson, FilePlus, Lock, Shield, Clock, Wifi, Image,\n  Database, Link, Timer, Regex, Globe, FolderOpen, GitBranch\n}\n\n// 相关工具\nconst relatedTools = computed(() => {\n  // 获取相关工具：同一分类下的其他工具 + 推荐工具\n  const sameCategory = tools.filter(t =>\n    t.category === 'text' && t.id !== 'text-diff'\n  ).slice(0, 3)\n\n  // 添加一些推荐工具\n  const recommended = [\n    tools.find(t => t.id === 'text-counter'),\n    tools.find(t => t.id === 'text-replace'),\n    tools.find(t => t.id === 'base64-encode'),\n    tools.find(t => t.id === 'base64-decode')\n  ].filter(Boolean)\n\n  return [...sameCategory, ...recommended].slice(0, 4)\n})\n\n// 计算属性\nconst stats = computed(() => {\n  if (!diffHtml.value) return { added: 0, removed: 0, unchanged: 0 }\n\n  const added = (diffHtml.value.match(/class=\"added\"/g) || []).length\n  const removed = (diffHtml.value.match(/class=\"removed\"/g) || []).length\n\n  const originalLines = originalText.value.split('\\n').length\n  const unchanged = Math.max(0, originalLines - removed)\n\n  return { added, removed, unchanged }\n})\n\n// 方法\nconst compareTexts = () => {\n  if (!originalText.value && !modifiedText.value) {\n    diffHtml.value = ''\n    return\n  }\n\n  let original = originalText.value\n  let modified = modifiedText.value\n\n  // 处理选项\n  if (ignoreWhitespace.value) {\n    original = original.replace(/\\s+/g, ' ').trim()\n    modified = modified.replace(/\\s+/g, ' ').trim()\n  }\n\n  if (ignoreCase.value) {\n    original = original.toLowerCase()\n    modified = modified.toLowerCase()\n  }\n\n  // 简单的差异比较\n  if (compareMode.value === 'line') {\n    compareByLine(original, modified)\n  } else if (compareMode.value === 'char') {\n    compareByChar(original, modified)\n  } else if (compareMode.value === 'word') {\n    compareByWord(original, modified)\n  }\n}\n\nconst compareByLine = (original, modified) => {\n  const originalLines = original.split('\\n')\n  const modifiedLines = modified.split('\\n')\n  const maxLines = Math.max(originalLines.length, modifiedLines.length)\n\n  let html = ''\n\n  for (let i = 0; i < maxLines; i++) {\n    const originalLine = originalLines[i] || ''\n    const modifiedLine = modifiedLines[i] || ''\n\n    if (originalLine === modifiedLine) {\n      html += `<div class=\"unchanged\">${escapeHtml(originalLine) || '&nbsp;'}</div>`\n    } else {\n      if (originalLine) {\n        html += `<div class=\"removed\">- ${escapeHtml(originalLine)}</div>`\n      }\n      if (modifiedLine) {\n        html += `<div class=\"added\">+ ${escapeHtml(modifiedLine)}</div>`\n      }\n    }\n  }\n\n  diffHtml.value = html\n}\n\nconst compareByChar = (original, modified) => {\n  const diff = calculateCharDiff(original, modified)\n  let html = ''\n\n  for (const item of diff) {\n    if (item.status === 'equal') {\n      html += `<span class=\"unchanged\">${escapeHtml(item.value)}</span>`\n    } else if (item.status === 'added') {\n      html += `<span class=\"added\">${escapeHtml(item.value)}</span>`\n    } else if (item.status === 'removed') {\n      html += `<span class=\"removed\">${escapeHtml(item.value)}</span>`\n    }\n  }\n\n  diffHtml.value = html\n}\n\nconst compareByWord = (original, modified) => {\n  const originalWords = original.split(/(\\s+)/)\n  const modifiedWords = modified.split(/(\\s+)/)\n\n  const diff = calculateCharDiff(originalWords.join(''), modifiedWords.join(''))\n  const html = diff.map(item => {\n    const className = item.status === 'equal' ? 'unchanged' :\n                      item.status === 'added' ? 'added' : 'removed'\n    return `<span class=\"${className}\">${escapeHtml(item.value)}</span>`\n  }).join('')\n\n  diffHtml.value = html\n}\n\nconst calculateCharDiff = (str1, str2) => {\n  const m = str1.length\n  const n = str2.length\n  const dp = Array(m + 1).fill().map(() => Array(n + 1).fill(0))\n\n  for (let i = 0; i <= m; i++) dp[i][0] = i\n  for (let j = 0; j <= n; j++) dp[0][j] = j\n\n  for (let i = 1; i <= m; i++) {\n    for (let j = 1; j <= n; j++) {\n      if (str1[i-1] === str2[j-1]) {\n        dp[i][j] = dp[i-1][j-1]\n      } else {\n        dp[i][j] = Math.min(dp[i-1][j], dp[i][j-1]) + 1\n      }\n    }\n  }\n\n  // 简化版本：只返回字符级别的差异\n  const result = []\n  let i = 0, j = 0\n\n  while (i < m && j < n) {\n    if (str1[i] === str2[j]) {\n      result.push({ status: 'equal', value: str1[i] })\n      i++\n      j++\n    } else {\n      result.push({ status: 'removed', value: str1[i] })\n      i++\n    }\n  }\n\n  while (i < m) {\n    result.push({ status: 'removed', value: str1[i] })\n    i++\n  }\n\n  while (j < n) {\n    result.push({ status: 'added', value: str2[j] })\n    j++\n  }\n\n  return result\n}\n\nconst escapeHtml = (text) => {\n  return text\n    .replace(/&/g, '&amp;')\n    .replace(/</g, '&lt;')\n    .replace(/>/g, '&gt;')\n    .replace(/\"/g, '&quot;')\n    .replace(/'/g, '&#39;')\n}\n\nconst loadExample = () => {\n  originalText.value = `这是第一行文本\n这是第二行文本\n这是第三行文本\n这是第四行文本\n这是第五行文本`\n\n  modifiedText.value = `这是第一行文本\n这是修改后的第二行文本\n这是第三行文本\n这是新添加的第四行文本\n这是第五行文本\n这是新增的第六行文本`\n\n  compareTexts()\n}\n\nconst swapTexts = () => {\n  const temp = originalText.value\n  originalText.value = modifiedText.value\n  modifiedText.value = temp\n  compareTexts()\n}\n\nconst clearOriginal = () => {\n  originalText.value = ''\n  compareTexts()\n}\n\nconst clearModified = () => {\n  modifiedText.value = ''\n  compareTexts()\n}\n\nconst clearAll = () => {\n  originalText.value = ''\n  modifiedText.value = ''\n  diffHtml.value = ''\n}\n\nconst pasteOriginal = async () => {\n  try {\n    const text = await navigator.clipboard.readText()\n    originalText.value = text\n    compareTexts()\n  } catch (error) {\n    console.error('粘贴失败:', error)\n  }\n}\n\nconst pasteModified = async () => {\n  try {\n    const text = await navigator.clipboard.readText()\n    modifiedText.value = text\n    compareTexts()\n  } catch (error) {\n    console.error('粘贴失败:', error)\n  }\n}\n\nconst exportDiff = () => {\n  if (!diffHtml.value) {\n    return\n  }\n\n  const text = `原始文本:\n${originalText.value}\n\n修改后的文本:\n${modifiedText.value}\n\n差异统计:\n- 添加: ${stats.value.added}\n- 删除: ${stats.value.removed}\n- 未改变: ${stats.value.unchanged}`\n\n  const blob = new Blob([text], { type: 'text/plain' })\n  const url = URL.createObjectURL(blob)\n  const a = document.createElement('a')\n  a.href = url\n  a.download = 'text-diff.txt'\n  a.click()\n  URL.revokeObjectURL(url)\n}\n\nconst copyDiff = () => {\n  const text = diffHtml.value\n    .replace(/<[^>]*>/g, '')\n    .replace(/&lt;/g, '<')\n    .replace(/&gt;/g, '>')\n    .replace(/&amp;/g, '&')\n\n  navigator.clipboard.writeText(text).then(() => {\n    // 这里可以添加复制成功的提示\n  })\n}\n\nconst toggleSeoContent = () => {\n  isSeoContentVisible.value = !isSeoContentVisible.value\n}\n\n// 添加到最近使用\nif (tool) {\n  addRecentTool(tool.id)\n}\n</script>\n\n<style scoped>\n.unchanged {\n  color: hsl(var(--muted-foreground));\n}\n\n.added {\n  background-color: hsl(var(--success) / 0.2);\n  color: hsl(var(--success));\n  padding: 2px 4px;\n  border-radius: 2px;\n}\n\n.removed {\n  background-color: hsl(var(--destructive) / 0.2);\n  color: hsl(var(--destructive));\n  padding: 2px 4px;\n  border-radius: 2px;\n  text-decoration: line-through;\n}\n\n/* 暗色模式适配 */\n@media (prefers-color-scheme: dark) {\n  .added {\n    background-color: hsl(var(--success) / 0.3);\n  }\n\n  .removed {\n    background-color: hsl(var(--destructive) / 0.3);\n  }\n}\n</style>"],"version":3}