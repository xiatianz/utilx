<!doctype html><html lang=zh-cn dir=auto data-theme=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>2025å¹´å‰ç«¯æ€§èƒ½ä¼˜åŒ–ç»ˆææŒ‡å—ï¼šä»Core Web Vitalsåˆ°ç”¨æˆ·ä½“éªŒä¼˜åŒ– | æŠ€æœ¯åšå®¢ - æœ‰æ¡å·¥å…·</title><meta name=keywords content="å‰ç«¯æ€§èƒ½,Web Vitals,æ€§èƒ½ä¼˜åŒ–,ç”¨æˆ·ä½“éªŒ,ç°ä»£Web"><meta name=description content="æ·±å…¥æ¢è®¨2025å¹´å‰ç«¯æ€§èƒ½ä¼˜åŒ–çš„æœ€æ–°æŠ€æœ¯å’Œæœ€ä½³å®è·µï¼ŒåŒ…æ‹¬Core Web Vitalsä¼˜åŒ–ã€ä»£ç åˆ†å‰²ã€æ‡’åŠ è½½ã€ç¼“å­˜ç­–ç•¥å’Œç°ä»£Webæ€§èƒ½å·¥å…·çš„ä½¿ç”¨ã€‚"><meta name=author content="util.cn Team"><link rel=canonical href=/blog/articles/2025%E5%B9%B4%E5%89%8D%E7%AB%AF%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E7%BB%88%E6%9E%81%E6%8C%87%E5%8D%97%E4%BB%8Ecore-web-vitals%E5%88%B0%E7%94%A8%E6%88%B7%E4%BD%93%E9%AA%8C%E4%BC%98%E5%8C%96/><link crossorigin=anonymous href=/blog/assets/css/stylesheet.7e8505b7cdf8bb22ab2305e53c2700bb06c7e64faeb72cd3468823a9a3bd3d6e.css integrity="sha256-foUFt834uyKrIwXlPCcAuwbH5k+utyzTRogjqaO9PW4=" rel="preload stylesheet" as=style><link rel=icon href=/favicon.ico><link rel=icon type=image/png sizes=16x16 href=/blog/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=/blog/favicon-32x32.png><link rel=apple-touch-icon href=/blog/apple-touch-icon.png><link rel=mask-icon href=/blog/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=/blog/articles/2025%E5%B9%B4%E5%89%8D%E7%AB%AF%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E7%BB%88%E6%9E%81%E6%8C%87%E5%8D%97%E4%BB%8Ecore-web-vitals%E5%88%B0%E7%94%A8%E6%88%B7%E4%BD%93%E9%AA%8C%E4%BC%98%E5%8C%96/feed.xml title=rss><link rel=alternate hreflang=zh-cn href=/blog/articles/2025%E5%B9%B4%E5%89%8D%E7%AB%AF%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E7%BB%88%E6%9E%81%E6%8C%87%E5%8D%97%E4%BB%8Ecore-web-vitals%E5%88%B0%E7%94%A8%E6%88%B7%E4%BD%93%E9%AA%8C%E4%BC%98%E5%8C%96/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51);color-scheme:dark}.list{background:var(--theme)}.toc{background:var(--entry)}}@media(prefers-color-scheme:light){.list::-webkit-scrollbar-thumb{border-color:var(--code-bg)}}</style></noscript><script>localStorage.getItem("pref-theme")==="dark"?document.querySelector("html").dataset.theme="dark":localStorage.getItem("pref-theme")==="light"?document.querySelector("html").dataset.theme="light":window.matchMedia("(prefers-color-scheme: dark)").matches?document.querySelector("html").dataset.theme="dark":document.querySelector("html").dataset.theme="light"</script><script src=/js/external-link-config.js></script><script src=/js/external-link-interceptor.js></script><link rel=stylesheet href=/blog/css/custom.css media=screen><script type=application/ld+json>{"@context":"https://schema.org","@type":"WebSite","name":"æŠ€æœ¯åšå®¢ - æœ‰æ¡å·¥å…· | å¼€å‘è€…å·¥å…·ä½¿ç”¨æ•™ç¨‹ & ç¼–ç¨‹æŠ€å·§åˆ†äº«","url":"https://www.util.cn/blog/","description":"æœ‰æ¡å·¥å…·æŠ€æœ¯åšå®¢ - åˆ†äº«å¼€å‘è€…å·¥å…·ä½¿ç”¨æ•™ç¨‹ã€ç¼–ç¨‹æŠ€å·§å’Œå®æˆ˜å¼€å‘ç»éªŒã€‚æä¾›JSONæ ¼å¼åŒ–ã€SQLä¼˜åŒ–ã€Markdownç¼–è¾‘å™¨ç­‰åœ¨çº¿å·¥å…·çš„è¯¦ç»†ä½¿ç”¨æŒ‡å—ï¼Œå¸®åŠ©å¼€å‘è€…æå‡å·¥ä½œæ•ˆç‡ã€‚","publisher":{"@type":"Organization","name":"æœ‰æ¡å·¥å…·","url":"https://www.util.cn","logo":{"@type":"ImageObject","url":"https://www.util.cn/blog/logo/logo-256.png","width":256,"height":256}},"potentialAction":[{"@type":"SearchAction","target":"https://www.util.cn/blog/search?q={search_term_string}","query-input":"required name=search_term_string"}]}</script><meta property="og:type" content="website"><meta property="og:title" content="æŠ€æœ¯åšå®¢ - æœ‰æ¡å·¥å…· | å¼€å‘è€…å·¥å…·ä½¿ç”¨æ•™ç¨‹ & ç¼–ç¨‹æŠ€å·§åˆ†äº«"><meta property="og:description" content="æœ‰æ¡å·¥å…·æŠ€æœ¯åšå®¢ - åˆ†äº«å¼€å‘è€…å·¥å…·ä½¿ç”¨æ•™ç¨‹ã€ç¼–ç¨‹æŠ€å·§å’Œå®æˆ˜å¼€å‘ç»éªŒã€‚æä¾›JSONæ ¼å¼åŒ–ã€SQLä¼˜åŒ–ã€Markdownç¼–è¾‘å™¨ç­‰åœ¨çº¿å·¥å…·çš„è¯¦ç»†ä½¿ç”¨æŒ‡å—ï¼Œå¸®åŠ©å¼€å‘è€…æå‡å·¥ä½œæ•ˆç‡ã€‚"><meta property="og:url" content="https://www.util.cn/blog/"><meta property="og:site_name" content="æœ‰æ¡å·¥å…·æŠ€æœ¯åšå®¢"><meta property="og:image" content="https://www.util.cn/blog/logo/logo-256.png"><meta property="og:image:width" content="1200"><meta property="og:image:height" content="630"><meta name=twitter:card content="summary_large_image"><meta name=twitter:title content="æŠ€æœ¯åšå®¢ - æœ‰æ¡å·¥å…· | å¼€å‘è€…å·¥å…·ä½¿ç”¨æ•™ç¨‹ & ç¼–ç¨‹æŠ€å·§åˆ†äº«"><meta name=twitter:description content="æœ‰æ¡å·¥å…·æŠ€æœ¯åšå®¢ - åˆ†äº«å¼€å‘è€…å·¥å…·ä½¿ç”¨æ•™ç¨‹ã€ç¼–ç¨‹æŠ€å·§å’Œå®æˆ˜å¼€å‘ç»éªŒã€‚"><meta name=twitter:image content="https://www.util.cn/blog/logo/logo-256.png"><meta name=baidu-site-verification content><meta name=category content="æŠ€æœ¯åšå®¢,å¼€å‘è€…å·¥å…·,ç¼–ç¨‹æ•™ç¨‹"><meta name=coverage content="Worldwide"><meta name=distribution content="Global"><meta name=rating content="General"><script id=51la_code async crossorigin=anonymous src="https://sdk.51.la/js-sdk-pro.min.js?id=3OM52V0xJAPv6ozF&hash=pro"></script><script>window.addEventListener("load",function(){setTimeout(function(){typeof la!="undefined"?console.log("51laç»Ÿè®¡å·²åŠ è½½"):(console.warn("51laç»Ÿè®¡åŠ è½½å¤±è´¥ï¼Œä½¿ç”¨å¤‡ç”¨æ–¹æ¡ˆ"),function(){var e=document.createElement("script");e.src="https://sdk.51.la/js-sdk-pro.min.js?id=3OM52V0xJAPv6ozF&hash=backup",e.async=!0,document.head.appendChild(e)}())},3e3)})</script><meta property="og:url" content="/blog/articles/2025%E5%B9%B4%E5%89%8D%E7%AB%AF%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E7%BB%88%E6%9E%81%E6%8C%87%E5%8D%97%E4%BB%8Ecore-web-vitals%E5%88%B0%E7%94%A8%E6%88%B7%E4%BD%93%E9%AA%8C%E4%BC%98%E5%8C%96/"><meta property="og:site_name" content="æŠ€æœ¯åšå®¢ - æœ‰æ¡å·¥å…·"><meta property="og:title" content="2025å¹´å‰ç«¯æ€§èƒ½ä¼˜åŒ–ç»ˆææŒ‡å—ï¼šä»Core Web Vitalsåˆ°ç”¨æˆ·ä½“éªŒä¼˜åŒ–"><meta property="og:description" content="æ·±å…¥æ¢è®¨2025å¹´å‰ç«¯æ€§èƒ½ä¼˜åŒ–çš„æœ€æ–°æŠ€æœ¯å’Œæœ€ä½³å®è·µï¼ŒåŒ…æ‹¬Core Web Vitalsä¼˜åŒ–ã€ä»£ç åˆ†å‰²ã€æ‡’åŠ è½½ã€ç¼“å­˜ç­–ç•¥å’Œç°ä»£Webæ€§èƒ½å·¥å…·çš„ä½¿ç”¨ã€‚"><meta property="og:locale" content="zh-cn"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2025-12-22T15:00:00+08:00"><meta property="article:modified_time" content="2025-12-22T15:00:00+08:00"><meta property="article:tag" content="å‰ç«¯æ€§èƒ½"><meta property="article:tag" content="Web Vitals"><meta property="article:tag" content="æ€§èƒ½ä¼˜åŒ–"><meta property="article:tag" content="ç”¨æˆ·ä½“éªŒ"><meta property="article:tag" content="ç°ä»£Web"><meta name=twitter:card content="summary"><meta name=twitter:title content="2025å¹´å‰ç«¯æ€§èƒ½ä¼˜åŒ–ç»ˆææŒ‡å—ï¼šä»Core Web Vitalsåˆ°ç”¨æˆ·ä½“éªŒä¼˜åŒ–"><meta name=twitter:description content="æ·±å…¥æ¢è®¨2025å¹´å‰ç«¯æ€§èƒ½ä¼˜åŒ–çš„æœ€æ–°æŠ€æœ¯å’Œæœ€ä½³å®è·µï¼ŒåŒ…æ‹¬Core Web Vitalsä¼˜åŒ–ã€ä»£ç åˆ†å‰²ã€æ‡’åŠ è½½ã€ç¼“å­˜ç­–ç•¥å’Œç°ä»£Webæ€§èƒ½å·¥å…·çš„ä½¿ç”¨ã€‚"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"æ‰€æœ‰æ–‡ç« ","item":"/blog/posts/"},{"@type":"ListItem","position":2,"name":"2025å¹´å‰ç«¯æ€§èƒ½ä¼˜åŒ–ç»ˆææŒ‡å—ï¼šä»Core Web Vitalsåˆ°ç”¨æˆ·ä½“éªŒä¼˜åŒ–","item":"/blog/articles/2025%E5%B9%B4%E5%89%8D%E7%AB%AF%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E7%BB%88%E6%9E%81%E6%8C%87%E5%8D%97%E4%BB%8Ecore-web-vitals%E5%88%B0%E7%94%A8%E6%88%B7%E4%BD%93%E9%AA%8C%E4%BC%98%E5%8C%96/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"2025å¹´å‰ç«¯æ€§èƒ½ä¼˜åŒ–ç»ˆææŒ‡å—ï¼šä»Core Web Vitalsåˆ°ç”¨æˆ·ä½“éªŒä¼˜åŒ–","name":"2025å¹´å‰ç«¯æ€§èƒ½ä¼˜åŒ–ç»ˆææŒ‡å—ï¼šä»Core Web Vitalsåˆ°ç”¨æˆ·ä½“éªŒä¼˜åŒ–","description":"æ·±å…¥æ¢è®¨2025å¹´å‰ç«¯æ€§èƒ½ä¼˜åŒ–çš„æœ€æ–°æŠ€æœ¯å’Œæœ€ä½³å®è·µï¼ŒåŒ…æ‹¬Core Web Vitalsä¼˜åŒ–ã€ä»£ç åˆ†å‰²ã€æ‡’åŠ è½½ã€ç¼“å­˜ç­–ç•¥å’Œç°ä»£Webæ€§èƒ½å·¥å…·çš„ä½¿ç”¨ã€‚","keywords":["å‰ç«¯æ€§èƒ½","Web Vitals","æ€§èƒ½ä¼˜åŒ–","ç”¨æˆ·ä½“éªŒ","ç°ä»£Web"],"articleBody":"å‰ç«¯æ€§èƒ½ä¼˜åŒ–æ˜¯æå‡ç”¨æˆ·ä½“éªŒçš„å…³é”®å› ç´ ã€‚éšç€2025å¹´Webåº”ç”¨çš„å¤æ‚åº¦ä¸æ–­å¢åŠ ï¼ŒæŒæ¡æœ€æ–°çš„æ€§èƒ½ä¼˜åŒ–æŠ€æœ¯å˜å¾—å°¤ä¸ºé‡è¦ã€‚æœ¬æ–‡å°†å…¨é¢ä»‹ç»ç°ä»£å‰ç«¯æ€§èƒ½ä¼˜åŒ–çš„ç­–ç•¥å’Œå®è·µæ–¹æ³•ã€‚\nCore Web Vitalsä¼˜åŒ– Largest Contentful Paint (LCP) ä¼˜åŒ– LCPæµ‹é‡é¡µé¢åŠ è½½è¿‡ç¨‹ä¸­æœ€å¤§çš„å†…å®¹å…ƒç´ çš„ç»˜åˆ¶æ—¶é—´ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 // LCPä¼˜åŒ–å·¥å…·ç±» class LCPOptimizer { constructor() { this.lcpElements = new Set(); this.optimizationStrategies = new Map(); } // é¢„åŠ è½½å…³é”®èµ„æº preloadCriticalResources() { const criticalResources = [ { href: '/fonts/main.woff2', as: 'font', type: 'font/woff2', crossOrigin: 'anonymous' }, { href: '/css/critical.css', as: 'style' }, { href: '/images/hero.webp', as: 'image' } ]; criticalResources.forEach(resource =\u003e { const link = document.createElement('link'); link.rel = 'preload'; Object.entries(resource).forEach(([key, value]) =\u003e { link.setAttribute(key, value); }); document.head.appendChild(link); }); } // ä¼˜åŒ–å›¾ç‰‡åŠ è½½ optimizeImages() { const images = document.querySelectorAll('img'); images.forEach(img =\u003e { // ä½¿ç”¨ç°ä»£å›¾ç‰‡æ ¼å¼ this.convertToModernFormat(img); // å®ç°æ¸è¿›å¼åŠ è½½ this.implementProgressiveLoading(img); // ä¼˜åŒ–å›¾ç‰‡å°ºå¯¸ this.optimizeImageDimensions(img); }); } // è½¬æ¢ä¸ºç°ä»£å›¾ç‰‡æ ¼å¼ convertToModernFormat(img) { const src = img.src; if (src \u0026\u0026 !src.includes('.webp') \u0026\u0026 !src.includes('.avif')) { // åŠ¨æ€ç”ŸæˆWebPç‰ˆæœ¬ const webpSrc = src.replace(/\\.(jpg|jpeg|png)$/, '.webp'); // åˆ›å»ºPictureå…ƒç´  const picture = document.createElement('picture'); // AVIFæºï¼ˆä¼˜å…ˆçº§æœ€é«˜ï¼‰ const avifSource = document.createElement('source'); avifSource.srcset = src.replace(/\\.(jpg|jpeg|png)$/, '.avif'); avifSource.type = 'image/avif'; picture.appendChild(avifSource); // WebPæº const webpSource = document.createElement('source'); webpSource.srcset = webpSrc; webpSource.type = 'image/webp'; picture.appendChild(webpSource); // åŸå§‹å›¾ç‰‡ä½œä¸ºfallback picture.appendChild(img.cloneNode()); img.parentNode.replaceChild(picture, img); } } // å®ç°æ¸è¿›å¼å›¾ç‰‡åŠ è½½ implementProgressiveLoading(img) { img.loading = 'lazy'; img.decoding = 'async'; // æ·»åŠ ä½è´¨é‡å›¾ç‰‡å ä½ç¬¦ï¼ˆLQIPï¼‰ const lqipUrl = this.generateLQIP(img.src); if (lqipUrl) { img.style.filter = 'blur(10px)'; img.style.transition = 'filter 0.3s ease-out'; img.onload = () =\u003e { img.style.filter = 'none'; }; // è®¾ç½®LQIPä½œä¸ºsrc if (!img.src || img.src === window.location.href) { img.src = lqipUrl; img.dataset.src = img.dataset.src || img.getAttribute('data-src'); } } } // ç”Ÿæˆä½è´¨é‡å›¾ç‰‡å ä½ç¬¦ generateLQIP(src) { // å®é™…é¡¹ç›®ä¸­å¯ä»¥ä½¿ç”¨æœåŠ¡ç«¯ç”Ÿæˆçš„LQIP return `${src}?w=20\u0026h=20\u0026blur=10\u0026format=webp`; } // ä¼˜åŒ–å­—ä½“åŠ è½½ optimizeFontLoading() { // é¢„åŠ è½½å…³é”®å­—ä½“ const fontDisplay = 'swap'; // ä½¿ç”¨Font Face Observer const font = new FontFaceObserver('Main Font', { weight: 400 }); font.load().then(() =\u003e { document.documentElement.classList.add('fonts-loaded'); }); // ä¼˜åŒ–å­—ä½“å›é€€ç­–ç•¥ const style = document.createElement('style'); style.textContent = ` @font-face { font-family: 'Main Font'; font-display: ${fontDisplay}; src: url('/fonts/main.woff2') format('woff2'); } `; document.head.appendChild(style); } // ç›‘æ§LCPæ€§èƒ½ observeLCP() { new PerformanceObserver((entryList) =\u003e { const entries = entryList.getEntries(); const lastEntry = entries[entries.length - 1]; console.log('LCP:', { value: lastEntry.renderTime || lastEntry.loadTime, element: lastEntry.element?.tagName, url: lastEntry.url }); // å‘é€æ€§èƒ½æ•°æ®åˆ°åˆ†ææœåŠ¡ this.sendToAnalytics('LCP', { value: lastEntry.renderTime || lastEntry.loadTime, element: lastEntry.element?.tagName, url: lastEntry.url }); }).observe({ entryTypes: ['largest-contentful-paint'] }); } } First Input Delay (FID) ä¼˜åŒ– FIDæµ‹é‡ç”¨æˆ·é¦–æ¬¡äº¤äº’åˆ°æµè§ˆå™¨å“åº”çš„æ—¶é—´ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 162 163 164 165 166 167 168 169 170 171 172 173 174 175 176 177 178 179 180 // FIDä¼˜åŒ–å·¥å…·ç±» class FIDOptimizer { constructor() { this.eventListeners = new Map(); this.taskQueue = []; } // ä¼˜åŒ–JavaScriptæ‰§è¡Œ optimizeJavaScriptExecution() { // ä»£ç åˆ†å‰² this.implementCodeSplitting(); // å»¶è¿ŸåŠ è½½éå…³é”®JavaScript this.deferNonCriticalJS(); // ä¼˜åŒ–äº‹ä»¶ç›‘å¬å™¨ this.optimizeEventListeners(); // ä½¿ç”¨Web Workers this.setupWebWorkers(); } // å®ç°ä»£ç åˆ†å‰² implementCodeSplitting() { // åŠ¨æ€å¯¼å…¥æ¨¡å— const loadModule = async (moduleName) =\u003e { try { const module = await import(`/modules/${moduleName}.js`); return module.default; } catch (error) { console.error(`Failed to load module ${moduleName}:`, error); } }; // è·¯ç”±çº§åˆ«çš„ä»£ç åˆ†å‰² const loadRoute = async (route) =\u003e { const routeModule = await loadModule(`routes/${route}`); return routeModule; }; // ç»„ä»¶çº§åˆ«çš„æ‡’åŠ è½½ const LazyComponent = () =\u003e { return import('./components/HeavyComponent.js') .then(module =\u003e module.default); }; } // å»¶è¿ŸåŠ è½½éå…³é”®JavaScript deferNonCriticalJS() { const deferScripts = () =\u003e { const scripts = [ '/js/analytics.js', '/js/chat-widget.js', '/js/feedback-form.js' ]; scripts.forEach(src =\u003e { const script = document.createElement('script'); script.src = src; script.async = true; script.defer = true; document.body.appendChild(script); }); }; // åœ¨ä¸»çº¿ç¨‹ç©ºé—²æ—¶åŠ è½½ if ('requestIdleCallback' in window) { requestIdleCallback(deferScripts, { timeout: 2000 }); } else { setTimeout(deferScripts, 100); } } // ä¼˜åŒ–äº‹ä»¶ç›‘å¬å™¨ optimizeEventListeners() { // ä½¿ç”¨äº‹ä»¶å§”æ‰˜ document.addEventListener('click', (event) =\u003e { const target = event.target.closest('[data-action]'); if (target) { this.handleAction(target.dataset.action, event); } }); // é˜²æŠ–å’ŒèŠ‚æµ const debounce = (func, wait) =\u003e { let timeout; return function executedFunction(...args) { const later = () =\u003e { clearTimeout(timeout); func(...args); }; clearTimeout(timeout); timeout = setTimeout(later, wait); }; }; const throttle = (func, limit) =\u003e { let inThrottle; return function executedFunction(...args) { if (!inThrottle) { func.apply(this, args); inThrottle = true; setTimeout(() =\u003e inThrottle = false, limit); } }; }; // åº”ç”¨åˆ°æ»šåŠ¨äº‹ä»¶ window.addEventListener('scroll', throttle(() =\u003e { this.handleScroll(); }, 100)); // åº”ç”¨åˆ°è¾“å…¥äº‹ä»¶ const searchInput = document.getElementById('search'); if (searchInput) { searchInput.addEventListener('input', debounce((e) =\u003e { this.handleSearch(e.target.value); }, 300)); } } // è®¾ç½®Web Workers setupWebWorkers() { // åˆ›å»ºWeb Workerè¿›è¡Œå¤æ‚è®¡ç®— const workerCode = ` self.onmessage = function(e) { const { type, data } = e.data; switch(type) { case 'heavy_computation': const result = heavyComputation(data); self.postMessage({ type: 'computation_result', result }); break; case 'data_processing': const processedData = processData(data); self.postMessage({ type: 'processing_result', data: processedData }); break; } }; function heavyComputation(data) { // æ‰§è¡Œå¯†é›†è®¡ç®— return data.reduce((sum, item) =\u003e sum + item.value, 0); } function processData(data) { // å¤„ç†å¤§å‹æ•°æ®é›† return data.map(item =\u003e ({ ...item, processed: true })); } `; const blob = new Blob([workerCode], { type: 'application/javascript' }); const worker = new Worker(URL.createObjectURL(blob)); worker.onmessage = (e) =\u003e { this.handleWorkerMessage(e.data); }; this.worker = worker; } // ç›‘æ§FIDæ€§èƒ½ observeFID() { new PerformanceObserver((entryList) =\u003e { for (const entry of entryList.getEntries()) { console.log('FID:', { value: entry.processingStart - entry.startTime, inputType: entry.name }); // å‘é€æ€§èƒ½æ•°æ® this.sendToAnalytics('FID', { value: entry.processingStart - entry.startTime, inputType: entry.name }); } }).observe({ entryTypes: ['first-input'] }); } } Cumulative Layout Shift (CLS) ä¼˜åŒ– CLSæµ‹é‡é¡µé¢å†…å®¹çš„è§†è§‰ç¨³å®šæ€§ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 162 163 164 165 166 167 168 169 170 171 172 173 174 175 176 177 178 179 180 181 182 183 // CLSä¼˜åŒ–å·¥å…·ç±» class CLSOptimizer { constructor() { this.reservedSpace = new Map(); this.layoutShiftThreshold = 0.1; } // ä¸ºåŠ¨æ€å†…å®¹é¢„ç•™ç©ºé—´ reserveSpaceForDynamicContent() { // é¢„ç•™å¹¿å‘Šç©ºé—´ this.reserveAdSpace(); // é¢„ç•™å›¾ç‰‡ç©ºé—´ this.reserveImageSpace(); // é¢„ç•™å­—ä½“åŠ è½½ç©ºé—´ this.reserveFontSpace(); // é¢„ç•™åŠ¨æ€å†…å®¹ç©ºé—´ this.reserveDynamicContentSpace(); } // é¢„ç•™å¹¿å‘Šç©ºé—´ reserveAdSpace() { const adContainers = document.querySelectorAll('.ad-container'); adContainers.forEach(container =\u003e { const ad = container.querySelector('.ad'); if (!ad) { // åˆ›å»ºå ä½ç¬¦ const placeholder = document.createElement('div'); placeholder.className = 'ad-placeholder'; placeholder.style.cssText = ` width: 300px; height: 250px; background: #f0f0f0; display: flex; align-items: center; justify-content: center; color: #666; `; placeholder.textContent = 'Advertisement'; container.appendChild(placeholder); this.reservedSpace.set(container, placeholder); } }); } // é¢„ç•™å›¾ç‰‡ç©ºé—´ reserveImageSpace() { const images = document.querySelectorAll('img[data-width][data-height]'); images.forEach(img =\u003e { const width = img.dataset.width; const height = img.dataset.height; // è®¾ç½®æ˜ç¡®çš„å°ºå¯¸ä»¥é¿å…å¸ƒå±€åç§» img.style.width = `${width}px`; img.style.height = `${height}px`; img.style.aspectRatio = `${width}/${height}`; }); } // é¢„ç•™å­—ä½“ç©ºé—´ reserveFontSpace() { // è®¾ç½®æœ€å°å­—ä½“é«˜åº¦ä»¥é¿å…å­—ä½“åŠ è½½æ—¶çš„åç§» const style = document.createElement('style'); style.textContent = ` @font-face { font-family: 'Custom Font'; font-display: swap; src: url('/fonts/custom.woff2') format('woff2'); size-adjust: 95%; } body { font-family: 'Custom Font', system-ui, sans-serif; } /* é¢„ç•™å­—ä½“åŠ è½½ç©ºé—´ */ h1, h2, h3, h4, h5, h6 { height: 1.2em; line-height: 1.2; } p, div, span { min-height: 1em; line-height: 1.5; } `; document.head.appendChild(style); } // é¢„ç•™åŠ¨æ€å†…å®¹ç©ºé—´ reserveDynamicContentSpace() { const dynamicContainers = document.querySelectorAll('[data-dynamic-content]'); dynamicContainers.forEach(container =\u003e { const defaultHeight = container.dataset.defaultHeight || '100px'; const minHeight = container.dataset.minHeight || '50px'; container.style.cssText += ` min-height: ${minHeight}; height: ${defaultHeight}; transition: height 0.3s ease; `; // ç›‘å¬å†…å®¹åŠ è½½ this.observeDynamicContent(container); }); } // è§‚å¯ŸåŠ¨æ€å†…å®¹å˜åŒ– observeDynamicContent(container) { const resizeObserver = new ResizeObserver(entries =\u003e { for (const entry of entries) { const height = entry.contentRect.height; // å¹³æ»‘è°ƒæ•´é«˜åº¦ container.style.height = `${height}px`; // ç§»é™¤æœ€å°é«˜åº¦é™åˆ¶ if (height \u003e parseInt(container.dataset.minHeight)) { container.style.minHeight = 'auto'; } } }); resizeObserver.observe(container); } // ä¼˜åŒ–åŠ¨ç”»å’Œè¿‡æ¸¡ optimizeAnimations() { // ä½¿ç”¨transformå’Œopacityè¿›è¡ŒåŠ¨ç”» const animatedElements = document.querySelectorAll('[data-animate]'); animatedElements.forEach(element =\u003e { const animation = element.dataset.animate; // æ·»åŠ will-changeæç¤º element.style.willChange = 'transform, opacity'; // åŠ¨ç”»ç»“æŸåç§»é™¤will-change element.addEventListener('animationend', () =\u003e { element.style.willChange = 'auto'; }); // ä½¿ç”¨CSSåŠ¨ç”» element.style.animation = animation; }); } // ç›‘æ§CLSæ€§èƒ½ observeCLS() { let clsValue = 0; new PerformanceObserver((entryList) =\u003e { for (const entry of entryList.getEntries()) { if (!entry.hadRecentInput) { clsValue += entry.value; console.log('CLS:', { value: clsValue, entry: { value: entry.value, sources: entry.sources } }); // å¦‚æœCLSè¶…è¿‡é˜ˆå€¼ï¼Œå‘é€è­¦å‘Š if (clsValue \u003e this.layoutShiftThreshold) { console.warn('CLS threshold exceeded:', clsValue); this.sendToAnalytics('CLS_WARNING', { value: clsValue, threshold: this.layoutShiftThreshold }); } } } }).observe({ entryTypes: ['layout-shift'] }); } } ç°ä»£æ€§èƒ½ä¼˜åŒ–æŠ€æœ¯ èµ„æºä¼˜å…ˆçº§å’ŒåŠ è½½ç­–ç•¥ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 162 163 164 165 166 // èµ„æºåŠ è½½ä¼˜åŒ–å™¨ class ResourceLoadOptimizer { constructor() { this.loadingStrategies = new Map(); this.criticalResources = new Set(); this.preloadedResources = new Set(); } // å®ç°æ™ºèƒ½é¢„åŠ è½½ implementSmartPreloading() { // åŸºäºç”¨æˆ·è¡Œä¸ºé¢„æµ‹çš„é¢„åŠ è½½ this.setupBehavioralPreloading(); // åŸºäºè·¯ç”±çš„é¢„åŠ è½½ this.setupRoutePreloading(); // åŸºäºè§†å£çš„é¢„åŠ è½½ this.setupViewportPreloading(); } // åŸºäºç”¨æˆ·è¡Œä¸ºçš„é¢„åŠ è½½ setupBehavioralPreloading() { const behaviorTracker = { hoverTimer: null, clickPatterns: new Map(), init() { this.trackHoverBehavior(); this.trackClickPatterns(); this.trackScrollBehavior(); }, trackHoverBehavior() { document.addEventListener('mouseover', (e) =\u003e { const link = e.target.closest('a'); if (link \u0026\u0026 link.href) { this.hoverTimer = setTimeout(() =\u003e { this.preloadLink(link.href); }, 100); } }); document.addEventListener('mouseout', (e) =\u003e { if (this.hoverTimer) { clearTimeout(this.hoverTimer); } }); }, trackClickPatterns() { document.addEventListener('click', (e) =\u003e { const link = e.target.closest('a'); if (link \u0026\u0026 link.href) { const pattern = this.extractPattern(link.href); this.clickPatterns.set(pattern, (this.clickPatterns.get(pattern) || 0) + 1); // å¦‚æœæŸä¸ªæ¨¡å¼è¢«é¢‘ç¹ç‚¹å‡»ï¼Œé¢„åŠ è½½ç›¸å…³èµ„æº if (this.clickPatterns.get(pattern) \u003e 3) { this.preloadRelatedResources(pattern); } } }); }, extractPattern(url) { // æå–URLæ¨¡å¼ return new URL(url).pathname.replace(/\\/\\d+/, '/:id'); }, preloadLink(href) { const link = document.createElement('link'); link.rel = 'prefetch'; link.href = href; document.head.appendChild(link); }, preloadRelatedResources(pattern) { // æ ¹æ®æ¨¡å¼é¢„åŠ è½½ç›¸å…³èµ„æº const relatedResources = this.getRelatedResources(pattern); relatedResources.forEach(resource =\u003e { this.preloadResource(resource); }); } }; behaviorTracker.init(); } // å®ç°èµ„æºæç¤ºï¼ˆResource Hintsï¼‰ implementResourceHints() { // DNSé¢„è§£æ const dnsPrefetchDomains = [ 'fonts.googleapis.com', 'cdn.example.com', 'analytics.example.com' ]; dnsPrefetchDomains.forEach(domain =\u003e { const link = document.createElement('link'); link.rel = 'dns-prefetch'; link.href = `//${domain}`; document.head.appendChild(link); }); // é¢„è¿æ¥å…³é”®åŸŸå const preconnectDomains = [ 'https://fonts.gstatic.com', 'https://api.example.com' ]; preconnectDomains.forEach(domain =\u003e { const link = document.createElement('link'); link.rel = 'preconnect'; link.href = domain; link.crossOrigin = 'anonymous'; document.head.appendChild(link); }); } // ä¼˜åŒ–ç¬¬ä¸‰æ–¹èµ„æºåŠ è½½ optimizeThirdPartyResources() { // å»¶è¿ŸåŠ è½½éå…³é”®ç¬¬ä¸‰æ–¹è„šæœ¬ this.deferThirdPartyScripts(); // ä½¿ç”¨Web WorkersåŠ è½½ç¬¬ä¸‰æ–¹è„šæœ¬ this.loadThirdPartyInWorkers(); } // å»¶è¿ŸåŠ è½½ç¬¬ä¸‰æ–¹è„šæœ¬ deferThirdPartyScripts() { const thirdPartyScripts = [ { src: 'https://www.googletagmanager.com/gtag/js', name: 'google-analytics' }, { src: 'https://cdn.jsdelivr.net/npm/chart.js', name: 'chartjs' }, { src: 'https://platform.twitter.com/widgets.js', name: 'twitter' } ]; const loadThirdPartyScript = (scriptConfig) =\u003e { return new Promise((resolve, reject) =\u003e { const script = document.createElement('script'); script.src = scriptConfig.src; script.async = true; script.onload = resolve; script.onerror = reject; document.body.appendChild(script); }); }; // ä½¿ç”¨Intersection Observerå»¶è¿ŸåŠ è½½ const observer = new IntersectionObserver((entries) =\u003e { entries.forEach(entry =\u003e { if (entry.isIntersecting) { thirdPartyScripts.forEach(scriptConfig =\u003e { loadThirdPartyScript(scriptConfig); }); observer.disconnect(); } }); }); // è§‚å¯Ÿé¡µé¢åº•éƒ¨ const footer = document.querySelector('footer'); if (footer) { observer.observe(footer); } } } ç¼“å­˜ç­–ç•¥ä¼˜åŒ– 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 162 163 164 165 166 167 168 169 170 171 172 173 174 175 176 177 178 179 180 181 182 183 184 185 186 // æ™ºèƒ½ç¼“å­˜ç®¡ç†å™¨ class IntelligentCacheManager { constructor() { this.cacheStrategies = new Map(); this.serviceWorker = null; this.cacheVersion = 'v1.0.0'; } // å®ç°å¤šçº§ç¼“å­˜ç­–ç•¥ implementMultiLevelCaching() { // å†…å­˜ç¼“å­˜ this.setupMemoryCache(); // Service Workerç¼“å­˜ this.setupServiceWorkerCache(); // HTTPç¼“å­˜ä¼˜åŒ– this.optimizeHTTPCache(); // IndexedDBç¼“å­˜ this.setupIndexedDBCache(); } // è®¾ç½®å†…å­˜ç¼“å­˜ setupMemoryCache() { class MemoryCache { constructor(maxSize = 50) { this.cache = new Map(); this.maxSize = maxSize; } get(key) { if (this.cache.has(key)) { // ç§»åˆ°æœ€åï¼ˆLRUç­–ç•¥ï¼‰ const value = this.cache.get(key); this.cache.delete(key); this.cache.set(key, value); return value; } return null; } set(key, value, ttl = 300000) { // é»˜è®¤5åˆ†é’Ÿ if (this.cache.size \u003e= this.maxSize) { // åˆ é™¤æœ€æ—§çš„æ¡ç›® const firstKey = this.cache.keys().next().value; this.cache.delete(firstKey); } this.cache.set(key, { value, timestamp: Date.now(), ttl }); } cleanup() { const now = Date.now(); for (const [key, item] of this.cache.entries()) { if (now - item.timestamp \u003e item.ttl) { this.cache.delete(key); } } } } this.memoryCache = new MemoryCache(); // å®šæœŸæ¸…ç†è¿‡æœŸç¼“å­˜ setInterval(() =\u003e { this.memoryCache.cleanup(); }, 60000); } // è®¾ç½®Service Workerç¼“å­˜ async setupServiceWorkerCache() { if ('serviceWorker' in navigator) { const registration = await navigator.serviceWorker.register('/sw.js'); this.serviceWorker = registration.active || registration.installing; // ç›‘å¬Service Workeræ¶ˆæ¯ navigator.serviceWorker.addEventListener('message', (event) =\u003e { this.handleServiceWorkerMessage(event.data); }); } } // æ™ºèƒ½ç¼“å­˜ç­–ç•¥ getCacheStrategy(url, resourceType) { const strategies = { 'image': { strategy: 'cache-first', cacheName: 'images', maxAge: 2592000, // 30å¤© maxEntries: 100 }, 'script': { strategy: 'stale-while-revalidate', cacheName: 'scripts', maxAge: 86400, // 1å¤© maxEntries: 50 }, 'style': { strategy: 'cache-first', cacheName: 'styles', maxAge: 2592000, // 30å¤© maxEntries: 20 }, 'api': { strategy: 'network-first', cacheName: 'api', maxAge: 300, // 5åˆ†é’Ÿ maxEntries: 200 } }; return strategies[resourceType] || strategies['api']; } // å®ç°ç¼“å­˜é¢„çƒ­ implementCacheWarming() { // å…³é”®èµ„æºé¢„çƒ­ this.warmCriticalResources(); // åŸºäºç”¨æˆ·è¡Œä¸ºçš„ç¼“å­˜é¢„çƒ­ this.warmResourcesBasedOnBehavior(); } // é¢„çƒ­å…³é”®èµ„æº async warmCriticalResources() { const criticalResources = [ '/css/main.css', '/js/main.js', '/fonts/main.woff2', '/api/user/profile' ]; for (const resource of criticalResources) { try { await this.cacheResource(resource); console.log(`Warmed cache for: ${resource}`); } catch (error) { console.error(`Failed to warm cache for ${resource}:`, error); } } } // ç¼“å­˜èµ„æº async cacheResource(url) { const response = await fetch(url); if (response.ok) { const resourceType = this.getResourceType(url); const strategy = this.getCacheStrategy(url, resourceType); // æ ¹æ®ç­–ç•¥ç¼“å­˜èµ„æº if (this.serviceWorker) { this.serviceWorker.postMessage({ type: 'CACHE_RESOURCE', url, strategy }); } } } // è·å–èµ„æºç±»å‹ getResourceType(url) { const extension = url.split('.').pop().toLowerCase(); const typeMap = { 'jpg': 'image', 'jpeg': 'image', 'png': 'image', 'gif': 'image', 'webp': 'image', 'avif': 'image', 'svg': 'image', 'js': 'script', 'css': 'style', 'woff': 'font', 'woff2': 'font', 'ttf': 'font' }; return typeMap[extension] || 'other'; } } æ€§èƒ½ç›‘æ§ä¸åˆ†æ å®æ—¶æ€§èƒ½ç›‘æ§ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 162 163 164 165 166 167 168 169 170 171 172 173 174 175 176 177 178 179 180 181 182 183 184 185 186 187 188 189 190 191 192 193 194 195 196 197 198 199 200 201 202 203 204 205 206 207 208 209 210 211 212 213 214 215 216 217 218 219 220 221 222 223 224 225 226 227 228 229 230 231 232 233 234 235 236 237 238 239 240 241 242 243 244 245 246 247 248 249 250 251 252 253 254 255 256 257 258 259 260 261 262 263 264 265 266 267 268 269 270 271 272 273 274 275 276 277 // å®æ—¶æ€§èƒ½ç›‘æ§ç³»ç»Ÿ class RealTimePerformanceMonitor { constructor() { this.metrics = { navigation: {}, resources: [], vitals: {}, userInteractions: [] }; this.thresholds = { LCP: 2500, FID: 100, CLS: 0.1, TTFB: 800, FCP: 1800 }; this.startMonitoring(); } // å¼€å§‹ç›‘æ§ startMonitoring() { this.observeNavigation(); this.observeResources(); this.observeWebVitals(); this.observeUserInteractions(); this.startContinuousMonitoring(); } // è§‚å¯Ÿé¡µé¢å¯¼èˆª observeNavigation() { window.addEventListener('load', () =\u003e { const navigation = performance.getEntriesByType('navigation')[0]; this.metrics.navigation = { dnsLookup: navigation.domainLookupEnd - navigation.domainLookupStart, tcpConnect: navigation.connectEnd - navigation.connectStart, sslHandshake: navigation.secureConnectionStart \u003e 0 ? navigation.connectEnd - navigation.secureConnectionStart : 0, ttfb: navigation.responseStart - navigation.requestStart, download: navigation.responseEnd - navigation.responseStart, domParse: navigation.domContentLoadedEventStart - navigation.responseEnd, domReady: navigation.domContentLoadedEventEnd - navigation.domContentLoadedEventStart, pageLoad: navigation.loadEventEnd - navigation.loadEventStart }; this.analyzeNavigationPerformance(); }); } // è§‚å¯Ÿèµ„æºåŠ è½½ observeResources() { const observer = new PerformanceObserver((list) =\u003e { const entries = list.getEntries(); entries.forEach(entry =\u003e { if (entry.entryType === 'resource') { this.metrics.resources.push({ name: entry.name, type: this.getResourceType(entry.name), duration: entry.duration, size: entry.transferSize, cached: entry.transferSize === 0 \u0026\u0026 entry.decodedBodySize \u003e 0, startTime: entry.startTime }); } }); this.analyzeResourcePerformance(); }); observer.observe({ entryTypes: ['resource'] }); } // è§‚å¯ŸWeb Vitals observeWebVitals() { // LCP this.observeLCP(); // FID this.observeFID(); // CLS this.observeCLS(); // å…¶ä»–æŒ‡æ ‡ this.observeFCP(); this.observeTTFB(); } // è§‚å¯ŸLCP observeLCP() { new PerformanceObserver((entryList) =\u003e { const entries = entryList.getEntries(); const lastEntry = entries[entries.length - 1]; this.metrics.vitals.LCP = { value: lastEntry.renderTime || lastEntry.loadTime, element: lastEntry.element?.tagName, url: lastEntry.url }; this.evaluateMetric('LCP', this.metrics.vitals.LCP.value); }).observe({ entryTypes: ['largest-contentful-paint'] }); } // è§‚å¯Ÿç”¨æˆ·äº¤äº’ observeUserInteractions() { const interactionEvents = ['click', 'keydown', 'scroll', 'touchstart']; interactionEvents.forEach(eventType =\u003e { document.addEventListener(eventType, (event) =\u003e { const interaction = { type: eventType, timestamp: Date.now(), target: event.target.tagName, coordinates: { x: event.clientX, y: event.clientY } }; this.metrics.userInteractions.push(interaction); this.analyzeInteractionPattern(interaction); }); }); } // å¼€å§‹æŒç»­ç›‘æ§ startContinuousMonitoring() { setInterval(() =\u003e { this.collectRealTimeMetrics(); this.detectPerformanceAnomalies(); this.updateDashboard(); }, 5000); // æ¯5ç§’æ›´æ–°ä¸€æ¬¡ } // æ”¶é›†å®æ—¶æŒ‡æ ‡ collectRealTimeMetrics() { const realTimeMetrics = { timestamp: Date.now(), memory: this.getMemoryUsage(), network: this.getNetworkInfo(), rendering: this.getRenderingPerformance(), activeTime: this.getActiveTime() }; this.metrics.realTime = realTimeMetrics; } // è·å–å†…å­˜ä½¿ç”¨æƒ…å†µ getMemoryUsage() { if (performance.memory) { return { used: performance.memory.usedJSHeapSize, total: performance.memory.totalJSHeapSize, limit: performance.memory.jsHeapSizeLimit, percentage: (performance.memory.usedJSHeapSize / performance.memory.jsHeapSizeLimit) * 100 }; } return null; } // æ£€æµ‹æ€§èƒ½å¼‚å¸¸ detectPerformanceAnomalies() { const anomalies = []; // æ£€æµ‹å†…å­˜æ³„æ¼ if (this.metrics.realTime?.memory?.percentage \u003e 80) { anomalies.push({ type: 'memory_leak', severity: 'high', message: 'Memory usage is above 80%' }); } // æ£€æµ‹é•¿æ—¶é—´ä»»åŠ¡ const longTasks = this.getLongTasks(); if (longTasks.length \u003e 0) { anomalies.push({ type: 'long_tasks', severity: 'medium', message: `Detected ${longTasks.length} long tasks`, details: longTasks }); } // æ£€æµ‹ç½‘ç»œé—®é¢˜ if (this.metrics.realTime?.network?.effectiveType === 'slow-2g') { anomalies.push({ type: 'slow_network', severity: 'medium', message: 'Network connection is very slow' }); } if (anomalies.length \u003e 0) { this.handleAnomalies(anomalies); } } // å¤„ç†å¼‚å¸¸ handleAnomalies(anomalies) { anomalies.forEach(anomaly =\u003e { console.warn('Performance anomaly detected:', anomaly); // å‘é€å‘Šè­¦ this.sendAlert(anomaly); // å°è¯•è‡ªåŠ¨ä¿®å¤ this.attemptAutoFix(anomaly); }); } // å°è¯•è‡ªåŠ¨ä¿®å¤ attemptAutoFix(anomaly) { switch (anomaly.type) { case 'memory_leak': this.triggerGarbageCollection(); break; case 'long_tasks': this.optimizeTaskScheduling(); break; case 'slow_network': this.enableDataSavingMode(); break; } } // æ›´æ–°ä»ªè¡¨æ¿ updateDashboard() { const dashboardData = { vitals: this.metrics.vitals, realTime: this.metrics.realTime, resources: this.getResourceSummary(), score: this.calculatePerformanceScore() }; this.renderDashboard(dashboardData); } // è®¡ç®—æ€§èƒ½è¯„åˆ† calculatePerformanceScore() { const weights = { LCP: 0.3, FID: 0.2, CLS: 0.2, FCP: 0.15, TTFB: 0.15 }; let totalScore = 0; let totalWeight = 0; Object.entries(weights).forEach(([metric, weight]) =\u003e { const value = this.metrics.vitals[metric]?.value || 0; const threshold = this.thresholds[metric]; let score; if (value \u003c= threshold) { score = 100; } else if (value \u003c= threshold * 2) { score = 100 - ((value - threshold) / threshold) * 50; } else { score = 50 - ((value - threshold * 2) / threshold) * 25; score = Math.max(0, score); } totalScore += score * weight; totalWeight += weight; }); return totalScore / totalWeight; } } æ€»ç»“ å‰ç«¯æ€§èƒ½ä¼˜åŒ–æ˜¯ä¸€ä¸ªæŒç»­çš„è¿‡ç¨‹ï¼Œéœ€è¦ç»¼åˆè€ƒè™‘å¤šä¸ªæ–¹é¢ï¼š\nCore Web Vitalsä¼˜åŒ–ï¼šé‡ç‚¹å…³æ³¨LCPã€FIDã€CLSä¸‰å¤§æŒ‡æ ‡ èµ„æºåŠ è½½ä¼˜åŒ–ï¼šä½¿ç”¨ç°ä»£åŠ è½½ç­–ç•¥å’Œç¼“å­˜æŠ€æœ¯ ä»£ç ä¼˜åŒ–ï¼šå‡å°‘åŒ…å¤§å°ï¼Œä¼˜åŒ–æ‰§è¡Œæ•ˆç‡ æ¸²æŸ“æ€§èƒ½ï¼šä¼˜åŒ–DOMæ“ä½œå’Œæ ·å¼è®¡ç®— ç›‘æ§åˆ†æï¼šå»ºç«‹å®Œå–„çš„æ€§èƒ½ç›‘æ§ä½“ç³» é€šè¿‡åº”ç”¨è¿™äº›ä¼˜åŒ–æŠ€æœ¯ï¼Œä½ å¯ä»¥æ˜¾è‘—æå‡Webåº”ç”¨çš„æ€§èƒ½ï¼Œä¸ºç”¨æˆ·æä¾›æ›´å¥½çš„ä½¿ç”¨ä½“éªŒã€‚è®°ä½ï¼Œæ€§èƒ½ä¼˜åŒ–æ˜¯ä¸€ä¸ªæŒç»­è¿­ä»£çš„è¿‡ç¨‹ï¼Œéœ€è¦ä¸æ–­æµ‹è¯•ã€ç›‘æ§å’Œæ”¹è¿›ã€‚\n","wordCount":"3533","inLanguage":"zh-cn","datePublished":"2025-12-22T15:00:00+08:00","dateModified":"2025-12-22T15:00:00+08:00","author":{"@type":"Person","name":"util.cn Team"},"mainEntityOfPage":{"@type":"WebPage","@id":"/blog/articles/2025%E5%B9%B4%E5%89%8D%E7%AB%AF%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E7%BB%88%E6%9E%81%E6%8C%87%E5%8D%97%E4%BB%8Ecore-web-vitals%E5%88%B0%E7%94%A8%E6%88%B7%E4%BD%93%E9%AA%8C%E4%BC%98%E5%8C%96/"},"publisher":{"@type":"Organization","name":"æŠ€æœ¯åšå®¢ - æœ‰æ¡å·¥å…·","logo":{"@type":"ImageObject","url":"/favicon.ico"}}}</script></head><body id=top><header class=header><nav class=nav><div class=logo><a href=/blog/ accesskey=h title="æŠ€æœ¯åšå®¢ - æœ‰æ¡å·¥å…· (Alt + H)">æŠ€æœ¯åšå®¢ - æœ‰æ¡å·¥å…·</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=/blog/posts/ title="æ‰€æœ‰æ–‡ç« åˆ—è¡¨ - æœ‰æ¡å·¥å…·æŠ€æœ¯åšå®¢ï¼šæŸ¥çœ‹æ‰€æœ‰æŠ€æœ¯æ–‡ç« å’Œæ•™ç¨‹å†…å®¹"><span>æ–‡ç« </span></a></li><li><a href=https://www.util.cn title="æœ‰æ¡å·¥å…· - å¼€å‘è€…çš„å¸¸ç”¨å·¥å…·é›†åˆï¼šæ— å¹¿å‘Š Â· æœ¬åœ°è®¡ç®— Â· å³å¼€å³ç”¨çš„åœ¨çº¿å·¥å…·å¹³å°ï¼Œæä¾›JSONæ ¼å¼åŒ–ã€SQLæ ¼å¼åŒ–ã€Markdownç¼–è¾‘å™¨ç­‰å®ç”¨å·¥å…·"><span>æœ‰æ¡å·¥å…·</span>&nbsp;
<svg fill="none" shape-rendering="geometricPrecision" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"/><path d="M15 3h6v6"/><path d="M10 14 21 3"/></svg></a></li><li><a href=/blog/categories/ title="æ–‡ç« åˆ†ç±» - æœ‰æ¡å·¥å…·æŠ€æœ¯åšå®¢ï¼šæŒ‰æŠ€æœ¯é¢†åŸŸåˆ†ç±»çš„ä¼˜è´¨æ–‡ç« ï¼ŒåŒ…æ‹¬å‰ç«¯å¼€å‘ã€å·¥å…·ä½¿ç”¨ã€ç¼–ç¨‹æŠ€å·§ç­‰"><span>åˆ†ç±»</span></a></li><li><a href=/blog/tags/ title="æ ‡ç­¾äº‘ - æœ‰æ¡å·¥å…·æŠ€æœ¯åšå®¢ï¼šé€šè¿‡æ ‡ç­¾å¿«é€Ÿæ‰¾åˆ°æ„Ÿå…´è¶£çš„æŠ€æœ¯æ–‡ç« å’Œæ•™ç¨‹å†…å®¹"><span>æ ‡ç­¾</span></a></li><li><a href=/blog/archives/ title="æ–‡ç« å½’æ¡£ - æœ‰æ¡å·¥å…·æŠ€æœ¯åšå®¢ï¼šæŒ‰æ—¶é—´æŸ¥çœ‹å†å²æ–‡ç« "><span>å½’æ¡£</span></a></li><li><a href=/blog/search/ title="æœç´¢æ–‡ç«  - æœ‰æ¡å·¥å…·æŠ€æœ¯åšå®¢ï¼šé€šè¿‡å…³é”®è¯æœç´¢æ‰¾åˆ°æ„Ÿå…´è¶£çš„æŠ€æœ¯æ–‡ç« å’Œæ•™ç¨‹å†…å®¹ï¼Œæ”¯æŒæ ‡é¢˜ã€å†…å®¹ã€åˆ†ç±»å’Œæ ‡ç­¾æœç´¢"><span>æœç´¢</span></a></li></ul></nav></header><main class=main><article class=post-single><div class=post-content-wrapper><main class=post-content-main><header class=post-header-main><h1 class="post-title entry-hint-parent">2025å¹´å‰ç«¯æ€§èƒ½ä¼˜åŒ–ç»ˆææŒ‡å—ï¼šä»Core Web Vitalsåˆ°ç”¨æˆ·ä½“éªŒä¼˜åŒ–</h1><div class=post-meta><div class=post-meta-content><div class=post-categories-inline><a href=/blog/categories/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/ class=category-link>å‰ç«¯å¼€å‘</a></div><span class=post-date>2025-12-22</span><span class=post-author>util.cn Team</span></div><style>.post-meta-content{display:flex;align-items:center;flex-wrap:wrap;gap:.75rem;font-family:sf mono,monaco,courier new,monospace;font-size:.875rem;color:#9ca3af !important}.post-categories-inline{display:inline-flex;align-items:center;gap:.5rem}.category-link{display:inline-flex;align-items:center;gap:.25rem;padding:.25rem .75rem;background:rgba(255,255,255,.1);color:#e5e7eb !important;text-decoration:none;font-size:.75rem;font-weight:600;text-transform:uppercase;letter-spacing:.05em;border:1px solid rgba(255,255,255,.2);border-radius:0;transition:all .3s ease;white-space:nowrap}.category-link:hover{background:rgba(255,255,255,.2);color:#fff !important;border-color:rgba(255,255,255,.3);transform:translateY(-1px)}.category-link::before{content:'ğŸ“';font-size:.7rem;opacity:.8}.post-date,.post-reading-time,.post-word-count,.post-author{color:#9ca3af !important}[data-theme=dark] .post-meta-content{color:#9ca3af !important}[data-theme=dark] .category-link{background:rgba(255,255,255,.1);color:#e5e7eb !important;border-color:rgba(255,255,255,.2)}[data-theme=dark] .category-link:hover{background:rgba(255,255,255,.2);color:#fff !important;border-color:rgba(255,255,255,.3)}[data-theme=dark] .post-date,[data-theme=dark] .post-reading-time,[data-theme=dark] .post-word-count,[data-theme=dark] .post-author{color:#9ca3af !important}[data-theme=light] .post-meta-content{color:#6c757d !important}[data-theme=light] .category-link{background:rgba(0,0,0,5%);color:#495057 !important;border-color:rgba(0,0,0,.15)}[data-theme=light] .category-link:hover{background:rgba(0,102,204,.1);color:#212529 !important;border-color:rgba(0,102,204,.3)}[data-theme=light] .post-date,[data-theme=light] .post-reading-time,[data-theme=light] .post-word-count,[data-theme=light] .post-author{color:#6c757d !important}@media(max-width:768px){.post-meta-content{gap:.5rem;font-size:.8rem}.category-link{padding:.2rem .6rem;font-size:.7rem}}</style></div></header><div class=post-content><p>å‰ç«¯æ€§èƒ½ä¼˜åŒ–æ˜¯æå‡ç”¨æˆ·ä½“éªŒçš„å…³é”®å› ç´ ã€‚éšç€2025å¹´Webåº”ç”¨çš„å¤æ‚åº¦ä¸æ–­å¢åŠ ï¼ŒæŒæ¡æœ€æ–°çš„æ€§èƒ½ä¼˜åŒ–æŠ€æœ¯å˜å¾—å°¤ä¸ºé‡è¦ã€‚æœ¬æ–‡å°†å…¨é¢ä»‹ç»ç°ä»£å‰ç«¯æ€§èƒ½ä¼˜åŒ–çš„ç­–ç•¥å’Œå®è·µæ–¹æ³•ã€‚</p><h2 id=core-web-vitalsä¼˜åŒ–>Core Web Vitalsä¼˜åŒ–<a hidden class=anchor aria-hidden=true href=#core-web-vitalsä¼˜åŒ–>#</a></h2><h3 id=largest-contentful-paint-lcp-ä¼˜åŒ–>Largest Contentful Paint (LCP) ä¼˜åŒ–<a hidden class=anchor aria-hidden=true href=#largest-contentful-paint-lcp-ä¼˜åŒ–>#</a></h3><p>LCPæµ‹é‡é¡µé¢åŠ è½½è¿‡ç¨‹ä¸­æœ€å¤§çš„å†…å®¹å…ƒç´ çš„ç»˜åˆ¶æ—¶é—´ï¼š</p><div class=highlight><div style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:2;-o-tab-size:2;tab-size:2><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 56
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 57
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 58
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 59
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 60
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 61
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 62
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 63
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 64
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 65
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 66
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 67
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 68
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 69
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 70
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 71
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 72
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 73
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 74
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 75
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 76
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 77
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 78
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 79
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 80
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 81
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 82
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 83
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 84
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 85
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 86
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 87
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 88
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 89
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 90
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 91
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 92
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 93
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 94
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 95
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 96
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 97
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 98
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 99
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">100
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">101
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">102
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">103
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">104
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">105
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">106
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">107
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">108
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">109
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">110
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">111
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">112
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">113
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">114
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">115
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">116
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">117
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">118
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">119
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">120
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">121
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">122
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">123
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">124
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">125
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">126
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">127
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">128
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">129
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">130
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">131
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">132
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">133
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">134
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">135
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">136
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">137
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">138
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">139
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">140
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">141
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">142
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">143
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">144
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">145
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">146
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">147
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#8b949e;font-style:italic>// LCPä¼˜åŒ–å·¥å…·ç±»
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span><span style=color:#ff7b72>class</span> LCPOptimizer {
</span></span><span style=display:flex><span>  constructor() {
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>this</span>.lcpElements <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#ff7b72>new</span> Set();
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>this</span>.optimizationStrategies <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#ff7b72>new</span> Map();
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#8b949e;font-style:italic>// é¢„åŠ è½½å…³é”®èµ„æº
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>  preloadCriticalResources() {
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>const</span> criticalResources <span style=color:#ff7b72;font-weight:700>=</span> [
</span></span><span style=display:flex><span>      { href<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;/fonts/main.woff2&#39;</span>, as<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;font&#39;</span>, type<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;font/woff2&#39;</span>, crossOrigin<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;anonymous&#39;</span> },
</span></span><span style=display:flex><span>      { href<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;/css/critical.css&#39;</span>, as<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;style&#39;</span> },
</span></span><span style=display:flex><span>      { href<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;/images/hero.webp&#39;</span>, as<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;image&#39;</span> }
</span></span><span style=display:flex><span>    ];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    criticalResources.forEach(resource =&gt; {
</span></span><span style=display:flex><span>      <span style=color:#ff7b72>const</span> link <span style=color:#ff7b72;font-weight:700>=</span> document.createElement(<span style=color:#a5d6ff>&#39;link&#39;</span>);
</span></span><span style=display:flex><span>      link.rel <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#a5d6ff>&#39;preload&#39;</span>;
</span></span><span style=display:flex><span>      Object.entries(resource).forEach(([key, value]) =&gt; {
</span></span><span style=display:flex><span>        link.setAttribute(key, value);
</span></span><span style=display:flex><span>      });
</span></span><span style=display:flex><span>      document.head.appendChild(link);
</span></span><span style=display:flex><span>    });
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#8b949e;font-style:italic>// ä¼˜åŒ–å›¾ç‰‡åŠ è½½
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>  optimizeImages() {
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>const</span> images <span style=color:#ff7b72;font-weight:700>=</span> document.querySelectorAll(<span style=color:#a5d6ff>&#39;img&#39;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    images.forEach(img =&gt; {
</span></span><span style=display:flex><span>      <span style=color:#8b949e;font-style:italic>// ä½¿ç”¨ç°ä»£å›¾ç‰‡æ ¼å¼
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>      <span style=color:#ff7b72>this</span>.convertToModernFormat(img);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#8b949e;font-style:italic>// å®ç°æ¸è¿›å¼åŠ è½½
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>      <span style=color:#ff7b72>this</span>.implementProgressiveLoading(img);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#8b949e;font-style:italic>// ä¼˜åŒ–å›¾ç‰‡å°ºå¯¸
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>      <span style=color:#ff7b72>this</span>.optimizeImageDimensions(img);
</span></span><span style=display:flex><span>    });
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#8b949e;font-style:italic>// è½¬æ¢ä¸ºç°ä»£å›¾ç‰‡æ ¼å¼
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>  convertToModernFormat(img) {
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>const</span> src <span style=color:#ff7b72;font-weight:700>=</span> img.src;
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>if</span> (src <span style=color:#ff7b72;font-weight:700>&amp;&amp;</span> <span style=color:#ff7b72;font-weight:700>!</span>src.includes(<span style=color:#a5d6ff>&#39;.webp&#39;</span>) <span style=color:#ff7b72;font-weight:700>&amp;&amp;</span> <span style=color:#ff7b72;font-weight:700>!</span>src.includes(<span style=color:#a5d6ff>&#39;.avif&#39;</span>)) {
</span></span><span style=display:flex><span>      <span style=color:#8b949e;font-style:italic>// åŠ¨æ€ç”ŸæˆWebPç‰ˆæœ¬
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>      <span style=color:#ff7b72>const</span> webpSrc <span style=color:#ff7b72;font-weight:700>=</span> src.replace(<span style=color:#79c0ff>/\.(jpg|jpeg|png)$/</span>, <span style=color:#a5d6ff>&#39;.webp&#39;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#8b949e;font-style:italic>// åˆ›å»ºPictureå…ƒç´ 
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>      <span style=color:#ff7b72>const</span> picture <span style=color:#ff7b72;font-weight:700>=</span> document.createElement(<span style=color:#a5d6ff>&#39;picture&#39;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#8b949e;font-style:italic>// AVIFæºï¼ˆä¼˜å…ˆçº§æœ€é«˜ï¼‰
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>      <span style=color:#ff7b72>const</span> avifSource <span style=color:#ff7b72;font-weight:700>=</span> document.createElement(<span style=color:#a5d6ff>&#39;source&#39;</span>);
</span></span><span style=display:flex><span>      avifSource.srcset <span style=color:#ff7b72;font-weight:700>=</span> src.replace(<span style=color:#79c0ff>/\.(jpg|jpeg|png)$/</span>, <span style=color:#a5d6ff>&#39;.avif&#39;</span>);
</span></span><span style=display:flex><span>      avifSource.type <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#a5d6ff>&#39;image/avif&#39;</span>;
</span></span><span style=display:flex><span>      picture.appendChild(avifSource);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#8b949e;font-style:italic>// WebPæº
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>      <span style=color:#ff7b72>const</span> webpSource <span style=color:#ff7b72;font-weight:700>=</span> document.createElement(<span style=color:#a5d6ff>&#39;source&#39;</span>);
</span></span><span style=display:flex><span>      webpSource.srcset <span style=color:#ff7b72;font-weight:700>=</span> webpSrc;
</span></span><span style=display:flex><span>      webpSource.type <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#a5d6ff>&#39;image/webp&#39;</span>;
</span></span><span style=display:flex><span>      picture.appendChild(webpSource);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#8b949e;font-style:italic>// åŸå§‹å›¾ç‰‡ä½œä¸ºfallback
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>      picture.appendChild(img.cloneNode());
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      img.parentNode.replaceChild(picture, img);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#8b949e;font-style:italic>// å®ç°æ¸è¿›å¼å›¾ç‰‡åŠ è½½
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>  implementProgressiveLoading(img) {
</span></span><span style=display:flex><span>    img.loading <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#a5d6ff>&#39;lazy&#39;</span>;
</span></span><span style=display:flex><span>    img.decoding <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#a5d6ff>&#39;async&#39;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic>// æ·»åŠ ä½è´¨é‡å›¾ç‰‡å ä½ç¬¦ï¼ˆLQIPï¼‰
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    <span style=color:#ff7b72>const</span> lqipUrl <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#ff7b72>this</span>.generateLQIP(img.src);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>if</span> (lqipUrl) {
</span></span><span style=display:flex><span>      img.style.filter <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#a5d6ff>&#39;blur(10px)&#39;</span>;
</span></span><span style=display:flex><span>      img.style.transition <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#a5d6ff>&#39;filter 0.3s ease-out&#39;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      img.onload <span style=color:#ff7b72;font-weight:700>=</span> () =&gt; {
</span></span><span style=display:flex><span>        img.style.filter <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#a5d6ff>&#39;none&#39;</span>;
</span></span><span style=display:flex><span>      };
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#8b949e;font-style:italic>// è®¾ç½®LQIPä½œä¸ºsrc
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>      <span style=color:#ff7b72>if</span> (<span style=color:#ff7b72;font-weight:700>!</span>img.src <span style=color:#ff7b72;font-weight:700>||</span> img.src <span style=color:#ff7b72;font-weight:700>===</span> window.location.href) {
</span></span><span style=display:flex><span>        img.src <span style=color:#ff7b72;font-weight:700>=</span> lqipUrl;
</span></span><span style=display:flex><span>        img.dataset.src <span style=color:#ff7b72;font-weight:700>=</span> img.dataset.src <span style=color:#ff7b72;font-weight:700>||</span> img.getAttribute(<span style=color:#a5d6ff>&#39;data-src&#39;</span>);
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#8b949e;font-style:italic>// ç”Ÿæˆä½è´¨é‡å›¾ç‰‡å ä½ç¬¦
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>  generateLQIP(src) {
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic>// å®é™…é¡¹ç›®ä¸­å¯ä»¥ä½¿ç”¨æœåŠ¡ç«¯ç”Ÿæˆçš„LQIP
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    <span style=color:#ff7b72>return</span> <span style=color:#a5d6ff>`</span><span style=color:#a5d6ff>${</span>src<span style=color:#a5d6ff>}</span><span style=color:#a5d6ff>?w=20&amp;h=20&amp;blur=10&amp;format=webp`</span>;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#8b949e;font-style:italic>// ä¼˜åŒ–å­—ä½“åŠ è½½
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>  optimizeFontLoading() {
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic>// é¢„åŠ è½½å…³é”®å­—ä½“
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    <span style=color:#ff7b72>const</span> fontDisplay <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#a5d6ff>&#39;swap&#39;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic>// ä½¿ç”¨Font Face Observer
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    <span style=color:#ff7b72>const</span> font <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#ff7b72>new</span> FontFaceObserver(<span style=color:#a5d6ff>&#39;Main Font&#39;</span>, {
</span></span><span style=display:flex><span>      weight<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>400</span>
</span></span><span style=display:flex><span>    });
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    font.load().then(() =&gt; {
</span></span><span style=display:flex><span>      document.documentElement.classList.add(<span style=color:#a5d6ff>&#39;fonts-loaded&#39;</span>);
</span></span><span style=display:flex><span>    });
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic>// ä¼˜åŒ–å­—ä½“å›é€€ç­–ç•¥
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    <span style=color:#ff7b72>const</span> style <span style=color:#ff7b72;font-weight:700>=</span> document.createElement(<span style=color:#a5d6ff>&#39;style&#39;</span>);
</span></span><span style=display:flex><span>    style.textContent <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#a5d6ff>`
</span></span></span><span style=display:flex><span><span style=color:#a5d6ff>      @font-face {
</span></span></span><span style=display:flex><span><span style=color:#a5d6ff>        font-family: &#39;Main Font&#39;;
</span></span></span><span style=display:flex><span><span style=color:#a5d6ff>        font-display: </span><span style=color:#a5d6ff>${</span>fontDisplay<span style=color:#a5d6ff>}</span><span style=color:#a5d6ff>;
</span></span></span><span style=display:flex><span><span style=color:#a5d6ff>        src: url(&#39;/fonts/main.woff2&#39;) format(&#39;woff2&#39;);
</span></span></span><span style=display:flex><span><span style=color:#a5d6ff>      }
</span></span></span><span style=display:flex><span><span style=color:#a5d6ff>    `</span>;
</span></span><span style=display:flex><span>    document.head.appendChild(style);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#8b949e;font-style:italic>// ç›‘æ§LCPæ€§èƒ½
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>  observeLCP() {
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>new</span> PerformanceObserver((entryList) =&gt; {
</span></span><span style=display:flex><span>      <span style=color:#ff7b72>const</span> entries <span style=color:#ff7b72;font-weight:700>=</span> entryList.getEntries();
</span></span><span style=display:flex><span>      <span style=color:#ff7b72>const</span> lastEntry <span style=color:#ff7b72;font-weight:700>=</span> entries[entries.length <span style=color:#ff7b72;font-weight:700>-</span> <span style=color:#a5d6ff>1</span>];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      console.log(<span style=color:#a5d6ff>&#39;LCP:&#39;</span>, {
</span></span><span style=display:flex><span>        value<span style=color:#ff7b72;font-weight:700>:</span> lastEntry.renderTime <span style=color:#ff7b72;font-weight:700>||</span> lastEntry.loadTime,
</span></span><span style=display:flex><span>        element<span style=color:#ff7b72;font-weight:700>:</span> lastEntry.element<span style=color:#ff7b72;font-weight:700>?</span>.tagName,
</span></span><span style=display:flex><span>        url<span style=color:#ff7b72;font-weight:700>:</span> lastEntry.url
</span></span><span style=display:flex><span>      });
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#8b949e;font-style:italic>// å‘é€æ€§èƒ½æ•°æ®åˆ°åˆ†ææœåŠ¡
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>      <span style=color:#ff7b72>this</span>.sendToAnalytics(<span style=color:#a5d6ff>&#39;LCP&#39;</span>, {
</span></span><span style=display:flex><span>        value<span style=color:#ff7b72;font-weight:700>:</span> lastEntry.renderTime <span style=color:#ff7b72;font-weight:700>||</span> lastEntry.loadTime,
</span></span><span style=display:flex><span>        element<span style=color:#ff7b72;font-weight:700>:</span> lastEntry.element<span style=color:#ff7b72;font-weight:700>?</span>.tagName,
</span></span><span style=display:flex><span>        url<span style=color:#ff7b72;font-weight:700>:</span> lastEntry.url
</span></span><span style=display:flex><span>      });
</span></span><span style=display:flex><span>    }).observe({ entryTypes<span style=color:#ff7b72;font-weight:700>:</span> [<span style=color:#a5d6ff>&#39;largest-contentful-paint&#39;</span>] });
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span></code></pre></td></tr></table></div></div><h3 id=first-input-delay-fid-ä¼˜åŒ–>First Input Delay (FID) ä¼˜åŒ–<a hidden class=anchor aria-hidden=true href=#first-input-delay-fid-ä¼˜åŒ–>#</a></h3><p>FIDæµ‹é‡ç”¨æˆ·é¦–æ¬¡äº¤äº’åˆ°æµè§ˆå™¨å“åº”çš„æ—¶é—´ï¼š</p><div class=highlight><div style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:2;-o-tab-size:2;tab-size:2><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 56
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 57
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 58
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 59
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 60
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 61
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 62
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 63
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 64
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 65
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 66
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 67
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 68
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 69
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 70
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 71
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 72
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 73
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 74
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 75
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 76
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 77
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 78
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 79
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 80
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 81
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 82
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 83
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 84
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 85
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 86
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 87
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 88
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 89
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 90
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 91
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 92
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 93
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 94
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 95
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 96
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 97
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 98
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 99
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">100
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">101
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">102
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">103
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">104
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">105
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">106
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">107
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">108
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">109
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">110
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">111
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">112
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">113
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">114
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">115
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">116
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">117
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">118
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">119
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">120
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">121
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">122
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">123
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">124
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">125
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">126
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">127
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">128
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">129
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">130
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">131
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">132
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">133
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">134
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">135
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">136
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">137
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">138
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">139
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">140
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">141
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">142
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">143
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">144
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">145
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">146
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">147
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">148
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">149
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">150
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">151
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">152
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">153
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">154
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">155
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">156
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">157
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">158
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">159
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">160
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">161
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">162
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">163
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">164
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">165
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">166
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">167
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">168
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">169
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">170
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">171
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">172
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">173
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">174
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">175
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">176
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">177
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">178
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">179
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">180
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#8b949e;font-style:italic>// FIDä¼˜åŒ–å·¥å…·ç±»
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span><span style=color:#ff7b72>class</span> FIDOptimizer {
</span></span><span style=display:flex><span>  constructor() {
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>this</span>.eventListeners <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#ff7b72>new</span> Map();
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>this</span>.taskQueue <span style=color:#ff7b72;font-weight:700>=</span> [];
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#8b949e;font-style:italic>// ä¼˜åŒ–JavaScriptæ‰§è¡Œ
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>  optimizeJavaScriptExecution() {
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic>// ä»£ç åˆ†å‰²
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    <span style=color:#ff7b72>this</span>.implementCodeSplitting();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic>// å»¶è¿ŸåŠ è½½éå…³é”®JavaScript
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    <span style=color:#ff7b72>this</span>.deferNonCriticalJS();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic>// ä¼˜åŒ–äº‹ä»¶ç›‘å¬å™¨
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    <span style=color:#ff7b72>this</span>.optimizeEventListeners();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic>// ä½¿ç”¨Web Workers
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    <span style=color:#ff7b72>this</span>.setupWebWorkers();
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#8b949e;font-style:italic>// å®ç°ä»£ç åˆ†å‰²
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>  implementCodeSplitting() {
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic>// åŠ¨æ€å¯¼å…¥æ¨¡å—
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    <span style=color:#ff7b72>const</span> loadModule <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#ff7b72>async</span> (moduleName) =&gt; {
</span></span><span style=display:flex><span>      <span style=color:#ff7b72>try</span> {
</span></span><span style=display:flex><span>        <span style=color:#ff7b72>const</span> module <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#ff7b72>await</span> <span style=color:#ff7b72>import</span>(<span style=color:#a5d6ff>`/modules/</span><span style=color:#a5d6ff>${</span>moduleName<span style=color:#a5d6ff>}</span><span style=color:#a5d6ff>.js`</span>);
</span></span><span style=display:flex><span>        <span style=color:#ff7b72>return</span> module.<span style=color:#ff7b72>default</span>;
</span></span><span style=display:flex><span>      } <span style=color:#ff7b72>catch</span> (error) {
</span></span><span style=display:flex><span>        console.error(<span style=color:#a5d6ff>`Failed to load module </span><span style=color:#a5d6ff>${</span>moduleName<span style=color:#a5d6ff>}</span><span style=color:#a5d6ff>:`</span>, error);
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>    };
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic>// è·¯ç”±çº§åˆ«çš„ä»£ç åˆ†å‰²
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    <span style=color:#ff7b72>const</span> loadRoute <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#ff7b72>async</span> (route) =&gt; {
</span></span><span style=display:flex><span>      <span style=color:#ff7b72>const</span> routeModule <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#ff7b72>await</span> loadModule(<span style=color:#a5d6ff>`routes/</span><span style=color:#a5d6ff>${</span>route<span style=color:#a5d6ff>}</span><span style=color:#a5d6ff>`</span>);
</span></span><span style=display:flex><span>      <span style=color:#ff7b72>return</span> routeModule;
</span></span><span style=display:flex><span>    };
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic>// ç»„ä»¶çº§åˆ«çš„æ‡’åŠ è½½
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    <span style=color:#ff7b72>const</span> LazyComponent <span style=color:#ff7b72;font-weight:700>=</span> () =&gt; {
</span></span><span style=display:flex><span>      <span style=color:#ff7b72>return</span> <span style=color:#ff7b72>import</span>(<span style=color:#a5d6ff>&#39;./components/HeavyComponent.js&#39;</span>)
</span></span><span style=display:flex><span>        .then(module =&gt; module.<span style=color:#ff7b72>default</span>);
</span></span><span style=display:flex><span>    };
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#8b949e;font-style:italic>// å»¶è¿ŸåŠ è½½éå…³é”®JavaScript
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>  deferNonCriticalJS() {
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>const</span> deferScripts <span style=color:#ff7b72;font-weight:700>=</span> () =&gt; {
</span></span><span style=display:flex><span>      <span style=color:#ff7b72>const</span> scripts <span style=color:#ff7b72;font-weight:700>=</span> [
</span></span><span style=display:flex><span>        <span style=color:#a5d6ff>&#39;/js/analytics.js&#39;</span>,
</span></span><span style=display:flex><span>        <span style=color:#a5d6ff>&#39;/js/chat-widget.js&#39;</span>,
</span></span><span style=display:flex><span>        <span style=color:#a5d6ff>&#39;/js/feedback-form.js&#39;</span>
</span></span><span style=display:flex><span>      ];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      scripts.forEach(src =&gt; {
</span></span><span style=display:flex><span>        <span style=color:#ff7b72>const</span> script <span style=color:#ff7b72;font-weight:700>=</span> document.createElement(<span style=color:#a5d6ff>&#39;script&#39;</span>);
</span></span><span style=display:flex><span>        script.src <span style=color:#ff7b72;font-weight:700>=</span> src;
</span></span><span style=display:flex><span>        script.<span style=color:#ff7b72>async</span> <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#79c0ff>true</span>;
</span></span><span style=display:flex><span>        script.defer <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#79c0ff>true</span>;
</span></span><span style=display:flex><span>        document.body.appendChild(script);
</span></span><span style=display:flex><span>      });
</span></span><span style=display:flex><span>    };
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic>// åœ¨ä¸»çº¿ç¨‹ç©ºé—²æ—¶åŠ è½½
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    <span style=color:#ff7b72>if</span> (<span style=color:#a5d6ff>&#39;requestIdleCallback&#39;</span> <span style=color:#ff7b72>in</span> window) {
</span></span><span style=display:flex><span>      requestIdleCallback(deferScripts, { timeout<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>2000</span> });
</span></span><span style=display:flex><span>    } <span style=color:#ff7b72>else</span> {
</span></span><span style=display:flex><span>      setTimeout(deferScripts, <span style=color:#a5d6ff>100</span>);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#8b949e;font-style:italic>// ä¼˜åŒ–äº‹ä»¶ç›‘å¬å™¨
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>  optimizeEventListeners() {
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic>// ä½¿ç”¨äº‹ä»¶å§”æ‰˜
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    document.addEventListener(<span style=color:#a5d6ff>&#39;click&#39;</span>, (event) =&gt; {
</span></span><span style=display:flex><span>      <span style=color:#ff7b72>const</span> target <span style=color:#ff7b72;font-weight:700>=</span> event.target.closest(<span style=color:#a5d6ff>&#39;[data-action]&#39;</span>);
</span></span><span style=display:flex><span>      <span style=color:#ff7b72>if</span> (target) {
</span></span><span style=display:flex><span>        <span style=color:#ff7b72>this</span>.handleAction(target.dataset.action, event);
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>    });
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic>// é˜²æŠ–å’ŒèŠ‚æµ
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    <span style=color:#ff7b72>const</span> debounce <span style=color:#ff7b72;font-weight:700>=</span> (func, wait) =&gt; {
</span></span><span style=display:flex><span>      <span style=color:#ff7b72>let</span> timeout;
</span></span><span style=display:flex><span>      <span style=color:#ff7b72>return</span> <span style=color:#ff7b72>function</span> executedFunction(...args) {
</span></span><span style=display:flex><span>        <span style=color:#ff7b72>const</span> later <span style=color:#ff7b72;font-weight:700>=</span> () =&gt; {
</span></span><span style=display:flex><span>          clearTimeout(timeout);
</span></span><span style=display:flex><span>          func(...args);
</span></span><span style=display:flex><span>        };
</span></span><span style=display:flex><span>        clearTimeout(timeout);
</span></span><span style=display:flex><span>        timeout <span style=color:#ff7b72;font-weight:700>=</span> setTimeout(later, wait);
</span></span><span style=display:flex><span>      };
</span></span><span style=display:flex><span>    };
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>const</span> throttle <span style=color:#ff7b72;font-weight:700>=</span> (func, limit) =&gt; {
</span></span><span style=display:flex><span>      <span style=color:#ff7b72>let</span> inThrottle;
</span></span><span style=display:flex><span>      <span style=color:#ff7b72>return</span> <span style=color:#ff7b72>function</span> executedFunction(...args) {
</span></span><span style=display:flex><span>        <span style=color:#ff7b72>if</span> (<span style=color:#ff7b72;font-weight:700>!</span>inThrottle) {
</span></span><span style=display:flex><span>          func.apply(<span style=color:#ff7b72>this</span>, args);
</span></span><span style=display:flex><span>          inThrottle <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#79c0ff>true</span>;
</span></span><span style=display:flex><span>          setTimeout(() =&gt; inThrottle <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#79c0ff>false</span>, limit);
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>      };
</span></span><span style=display:flex><span>    };
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic>// åº”ç”¨åˆ°æ»šåŠ¨äº‹ä»¶
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    window.addEventListener(<span style=color:#a5d6ff>&#39;scroll&#39;</span>, throttle(() =&gt; {
</span></span><span style=display:flex><span>      <span style=color:#ff7b72>this</span>.handleScroll();
</span></span><span style=display:flex><span>    }, <span style=color:#a5d6ff>100</span>));
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic>// åº”ç”¨åˆ°è¾“å…¥äº‹ä»¶
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    <span style=color:#ff7b72>const</span> searchInput <span style=color:#ff7b72;font-weight:700>=</span> document.getElementById(<span style=color:#a5d6ff>&#39;search&#39;</span>);
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>if</span> (searchInput) {
</span></span><span style=display:flex><span>      searchInput.addEventListener(<span style=color:#a5d6ff>&#39;input&#39;</span>, debounce((e) =&gt; {
</span></span><span style=display:flex><span>        <span style=color:#ff7b72>this</span>.handleSearch(e.target.value);
</span></span><span style=display:flex><span>      }, <span style=color:#a5d6ff>300</span>));
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#8b949e;font-style:italic>// è®¾ç½®Web Workers
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>  setupWebWorkers() {
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic>// åˆ›å»ºWeb Workerè¿›è¡Œå¤æ‚è®¡ç®—
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    <span style=color:#ff7b72>const</span> workerCode <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#a5d6ff>`
</span></span></span><span style=display:flex><span><span style=color:#a5d6ff>      self.onmessage = function(e) {
</span></span></span><span style=display:flex><span><span style=color:#a5d6ff>        const { type, data } = e.data;
</span></span></span><span style=display:flex><span><span style=color:#a5d6ff>
</span></span></span><span style=display:flex><span><span style=color:#a5d6ff>        switch(type) {
</span></span></span><span style=display:flex><span><span style=color:#a5d6ff>          case &#39;heavy_computation&#39;:
</span></span></span><span style=display:flex><span><span style=color:#a5d6ff>            const result = heavyComputation(data);
</span></span></span><span style=display:flex><span><span style=color:#a5d6ff>            self.postMessage({ type: &#39;computation_result&#39;, result });
</span></span></span><span style=display:flex><span><span style=color:#a5d6ff>            break;
</span></span></span><span style=display:flex><span><span style=color:#a5d6ff>
</span></span></span><span style=display:flex><span><span style=color:#a5d6ff>          case &#39;data_processing&#39;:
</span></span></span><span style=display:flex><span><span style=color:#a5d6ff>            const processedData = processData(data);
</span></span></span><span style=display:flex><span><span style=color:#a5d6ff>            self.postMessage({ type: &#39;processing_result&#39;, data: processedData });
</span></span></span><span style=display:flex><span><span style=color:#a5d6ff>            break;
</span></span></span><span style=display:flex><span><span style=color:#a5d6ff>        }
</span></span></span><span style=display:flex><span><span style=color:#a5d6ff>      };
</span></span></span><span style=display:flex><span><span style=color:#a5d6ff>
</span></span></span><span style=display:flex><span><span style=color:#a5d6ff>      function heavyComputation(data) {
</span></span></span><span style=display:flex><span><span style=color:#a5d6ff>        // æ‰§è¡Œå¯†é›†è®¡ç®—
</span></span></span><span style=display:flex><span><span style=color:#a5d6ff>        return data.reduce((sum, item) =&gt; sum + item.value, 0);
</span></span></span><span style=display:flex><span><span style=color:#a5d6ff>      }
</span></span></span><span style=display:flex><span><span style=color:#a5d6ff>
</span></span></span><span style=display:flex><span><span style=color:#a5d6ff>      function processData(data) {
</span></span></span><span style=display:flex><span><span style=color:#a5d6ff>        // å¤„ç†å¤§å‹æ•°æ®é›†
</span></span></span><span style=display:flex><span><span style=color:#a5d6ff>        return data.map(item =&gt; ({ ...item, processed: true }));
</span></span></span><span style=display:flex><span><span style=color:#a5d6ff>      }
</span></span></span><span style=display:flex><span><span style=color:#a5d6ff>    `</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>const</span> blob <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#ff7b72>new</span> Blob([workerCode], { type<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;application/javascript&#39;</span> });
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>const</span> worker <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#ff7b72>new</span> Worker(URL.createObjectURL(blob));
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    worker.onmessage <span style=color:#ff7b72;font-weight:700>=</span> (e) =&gt; {
</span></span><span style=display:flex><span>      <span style=color:#ff7b72>this</span>.handleWorkerMessage(e.data);
</span></span><span style=display:flex><span>    };
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>this</span>.worker <span style=color:#ff7b72;font-weight:700>=</span> worker;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#8b949e;font-style:italic>// ç›‘æ§FIDæ€§èƒ½
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>  observeFID() {
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>new</span> PerformanceObserver((entryList) =&gt; {
</span></span><span style=display:flex><span>      <span style=color:#ff7b72>for</span> (<span style=color:#ff7b72>const</span> entry <span style=color:#ff7b72>of</span> entryList.getEntries()) {
</span></span><span style=display:flex><span>        console.log(<span style=color:#a5d6ff>&#39;FID:&#39;</span>, {
</span></span><span style=display:flex><span>          value<span style=color:#ff7b72;font-weight:700>:</span> entry.processingStart <span style=color:#ff7b72;font-weight:700>-</span> entry.startTime,
</span></span><span style=display:flex><span>          inputType<span style=color:#ff7b72;font-weight:700>:</span> entry.name
</span></span><span style=display:flex><span>        });
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#8b949e;font-style:italic>// å‘é€æ€§èƒ½æ•°æ®
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>        <span style=color:#ff7b72>this</span>.sendToAnalytics(<span style=color:#a5d6ff>&#39;FID&#39;</span>, {
</span></span><span style=display:flex><span>          value<span style=color:#ff7b72;font-weight:700>:</span> entry.processingStart <span style=color:#ff7b72;font-weight:700>-</span> entry.startTime,
</span></span><span style=display:flex><span>          inputType<span style=color:#ff7b72;font-weight:700>:</span> entry.name
</span></span><span style=display:flex><span>        });
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>    }).observe({ entryTypes<span style=color:#ff7b72;font-weight:700>:</span> [<span style=color:#a5d6ff>&#39;first-input&#39;</span>] });
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span></code></pre></td></tr></table></div></div><h3 id=cumulative-layout-shift-cls-ä¼˜åŒ–>Cumulative Layout Shift (CLS) ä¼˜åŒ–<a hidden class=anchor aria-hidden=true href=#cumulative-layout-shift-cls-ä¼˜åŒ–>#</a></h3><p>CLSæµ‹é‡é¡µé¢å†…å®¹çš„è§†è§‰ç¨³å®šæ€§ï¼š</p><div class=highlight><div style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:2;-o-tab-size:2;tab-size:2><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 56
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 57
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 58
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 59
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 60
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 61
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 62
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 63
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 64
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 65
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 66
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 67
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 68
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 69
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 70
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 71
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 72
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 73
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 74
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 75
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 76
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 77
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 78
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 79
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 80
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 81
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 82
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 83
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 84
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 85
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 86
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 87
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 88
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 89
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 90
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 91
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 92
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 93
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 94
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 95
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 96
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 97
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 98
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 99
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">100
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">101
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">102
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">103
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">104
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">105
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">106
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">107
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">108
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">109
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">110
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">111
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">112
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">113
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">114
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">115
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">116
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">117
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">118
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">119
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">120
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">121
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">122
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">123
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">124
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">125
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">126
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">127
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">128
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">129
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">130
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">131
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">132
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">133
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">134
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">135
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">136
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">137
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">138
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">139
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">140
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">141
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">142
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">143
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">144
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">145
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">146
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">147
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">148
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">149
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">150
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">151
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">152
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">153
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">154
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">155
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">156
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">157
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">158
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">159
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">160
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">161
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">162
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">163
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">164
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">165
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">166
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">167
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">168
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">169
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">170
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">171
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">172
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">173
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">174
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">175
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">176
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">177
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">178
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">179
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">180
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">181
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">182
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">183
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#8b949e;font-style:italic>// CLSä¼˜åŒ–å·¥å…·ç±»
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span><span style=color:#ff7b72>class</span> CLSOptimizer {
</span></span><span style=display:flex><span>  constructor() {
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>this</span>.reservedSpace <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#ff7b72>new</span> Map();
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>this</span>.layoutShiftThreshold <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#a5d6ff>0.1</span>;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#8b949e;font-style:italic>// ä¸ºåŠ¨æ€å†…å®¹é¢„ç•™ç©ºé—´
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>  reserveSpaceForDynamicContent() {
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic>// é¢„ç•™å¹¿å‘Šç©ºé—´
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    <span style=color:#ff7b72>this</span>.reserveAdSpace();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic>// é¢„ç•™å›¾ç‰‡ç©ºé—´
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    <span style=color:#ff7b72>this</span>.reserveImageSpace();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic>// é¢„ç•™å­—ä½“åŠ è½½ç©ºé—´
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    <span style=color:#ff7b72>this</span>.reserveFontSpace();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic>// é¢„ç•™åŠ¨æ€å†…å®¹ç©ºé—´
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    <span style=color:#ff7b72>this</span>.reserveDynamicContentSpace();
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#8b949e;font-style:italic>// é¢„ç•™å¹¿å‘Šç©ºé—´
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>  reserveAdSpace() {
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>const</span> adContainers <span style=color:#ff7b72;font-weight:700>=</span> document.querySelectorAll(<span style=color:#a5d6ff>&#39;.ad-container&#39;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    adContainers.forEach(container =&gt; {
</span></span><span style=display:flex><span>      <span style=color:#ff7b72>const</span> ad <span style=color:#ff7b72;font-weight:700>=</span> container.querySelector(<span style=color:#a5d6ff>&#39;.ad&#39;</span>);
</span></span><span style=display:flex><span>      <span style=color:#ff7b72>if</span> (<span style=color:#ff7b72;font-weight:700>!</span>ad) {
</span></span><span style=display:flex><span>        <span style=color:#8b949e;font-style:italic>// åˆ›å»ºå ä½ç¬¦
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>        <span style=color:#ff7b72>const</span> placeholder <span style=color:#ff7b72;font-weight:700>=</span> document.createElement(<span style=color:#a5d6ff>&#39;div&#39;</span>);
</span></span><span style=display:flex><span>        placeholder.className <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#a5d6ff>&#39;ad-placeholder&#39;</span>;
</span></span><span style=display:flex><span>        placeholder.style.cssText <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#a5d6ff>`
</span></span></span><span style=display:flex><span><span style=color:#a5d6ff>          width: 300px;
</span></span></span><span style=display:flex><span><span style=color:#a5d6ff>          height: 250px;
</span></span></span><span style=display:flex><span><span style=color:#a5d6ff>          background: #f0f0f0;
</span></span></span><span style=display:flex><span><span style=color:#a5d6ff>          display: flex;
</span></span></span><span style=display:flex><span><span style=color:#a5d6ff>          align-items: center;
</span></span></span><span style=display:flex><span><span style=color:#a5d6ff>          justify-content: center;
</span></span></span><span style=display:flex><span><span style=color:#a5d6ff>          color: #666;
</span></span></span><span style=display:flex><span><span style=color:#a5d6ff>        `</span>;
</span></span><span style=display:flex><span>        placeholder.textContent <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#a5d6ff>&#39;Advertisement&#39;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        container.appendChild(placeholder);
</span></span><span style=display:flex><span>        <span style=color:#ff7b72>this</span>.reservedSpace.set(container, placeholder);
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>    });
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#8b949e;font-style:italic>// é¢„ç•™å›¾ç‰‡ç©ºé—´
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>  reserveImageSpace() {
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>const</span> images <span style=color:#ff7b72;font-weight:700>=</span> document.querySelectorAll(<span style=color:#a5d6ff>&#39;img[data-width][data-height]&#39;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    images.forEach(img =&gt; {
</span></span><span style=display:flex><span>      <span style=color:#ff7b72>const</span> width <span style=color:#ff7b72;font-weight:700>=</span> img.dataset.width;
</span></span><span style=display:flex><span>      <span style=color:#ff7b72>const</span> height <span style=color:#ff7b72;font-weight:700>=</span> img.dataset.height;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#8b949e;font-style:italic>// è®¾ç½®æ˜ç¡®çš„å°ºå¯¸ä»¥é¿å…å¸ƒå±€åç§»
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>      img.style.width <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#a5d6ff>`</span><span style=color:#a5d6ff>${</span>width<span style=color:#a5d6ff>}</span><span style=color:#a5d6ff>px`</span>;
</span></span><span style=display:flex><span>      img.style.height <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#a5d6ff>`</span><span style=color:#a5d6ff>${</span>height<span style=color:#a5d6ff>}</span><span style=color:#a5d6ff>px`</span>;
</span></span><span style=display:flex><span>      img.style.aspectRatio <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#a5d6ff>`</span><span style=color:#a5d6ff>${</span>width<span style=color:#a5d6ff>}</span><span style=color:#a5d6ff>/</span><span style=color:#a5d6ff>${</span>height<span style=color:#a5d6ff>}</span><span style=color:#a5d6ff>`</span>;
</span></span><span style=display:flex><span>    });
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#8b949e;font-style:italic>// é¢„ç•™å­—ä½“ç©ºé—´
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>  reserveFontSpace() {
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic>// è®¾ç½®æœ€å°å­—ä½“é«˜åº¦ä»¥é¿å…å­—ä½“åŠ è½½æ—¶çš„åç§»
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    <span style=color:#ff7b72>const</span> style <span style=color:#ff7b72;font-weight:700>=</span> document.createElement(<span style=color:#a5d6ff>&#39;style&#39;</span>);
</span></span><span style=display:flex><span>    style.textContent <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#a5d6ff>`
</span></span></span><span style=display:flex><span><span style=color:#a5d6ff>      @font-face {
</span></span></span><span style=display:flex><span><span style=color:#a5d6ff>        font-family: &#39;Custom Font&#39;;
</span></span></span><span style=display:flex><span><span style=color:#a5d6ff>        font-display: swap;
</span></span></span><span style=display:flex><span><span style=color:#a5d6ff>        src: url(&#39;/fonts/custom.woff2&#39;) format(&#39;woff2&#39;);
</span></span></span><span style=display:flex><span><span style=color:#a5d6ff>        size-adjust: 95%;
</span></span></span><span style=display:flex><span><span style=color:#a5d6ff>      }
</span></span></span><span style=display:flex><span><span style=color:#a5d6ff>
</span></span></span><span style=display:flex><span><span style=color:#a5d6ff>      body {
</span></span></span><span style=display:flex><span><span style=color:#a5d6ff>        font-family: &#39;Custom Font&#39;, system-ui, sans-serif;
</span></span></span><span style=display:flex><span><span style=color:#a5d6ff>      }
</span></span></span><span style=display:flex><span><span style=color:#a5d6ff>
</span></span></span><span style=display:flex><span><span style=color:#a5d6ff>      /* é¢„ç•™å­—ä½“åŠ è½½ç©ºé—´ */
</span></span></span><span style=display:flex><span><span style=color:#a5d6ff>      h1, h2, h3, h4, h5, h6 {
</span></span></span><span style=display:flex><span><span style=color:#a5d6ff>        height: 1.2em;
</span></span></span><span style=display:flex><span><span style=color:#a5d6ff>        line-height: 1.2;
</span></span></span><span style=display:flex><span><span style=color:#a5d6ff>      }
</span></span></span><span style=display:flex><span><span style=color:#a5d6ff>
</span></span></span><span style=display:flex><span><span style=color:#a5d6ff>      p, div, span {
</span></span></span><span style=display:flex><span><span style=color:#a5d6ff>        min-height: 1em;
</span></span></span><span style=display:flex><span><span style=color:#a5d6ff>        line-height: 1.5;
</span></span></span><span style=display:flex><span><span style=color:#a5d6ff>      }
</span></span></span><span style=display:flex><span><span style=color:#a5d6ff>    `</span>;
</span></span><span style=display:flex><span>    document.head.appendChild(style);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#8b949e;font-style:italic>// é¢„ç•™åŠ¨æ€å†…å®¹ç©ºé—´
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>  reserveDynamicContentSpace() {
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>const</span> dynamicContainers <span style=color:#ff7b72;font-weight:700>=</span> document.querySelectorAll(<span style=color:#a5d6ff>&#39;[data-dynamic-content]&#39;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    dynamicContainers.forEach(container =&gt; {
</span></span><span style=display:flex><span>      <span style=color:#ff7b72>const</span> defaultHeight <span style=color:#ff7b72;font-weight:700>=</span> container.dataset.defaultHeight <span style=color:#ff7b72;font-weight:700>||</span> <span style=color:#a5d6ff>&#39;100px&#39;</span>;
</span></span><span style=display:flex><span>      <span style=color:#ff7b72>const</span> minHeight <span style=color:#ff7b72;font-weight:700>=</span> container.dataset.minHeight <span style=color:#ff7b72;font-weight:700>||</span> <span style=color:#a5d6ff>&#39;50px&#39;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      container.style.cssText <span style=color:#ff7b72;font-weight:700>+=</span> <span style=color:#a5d6ff>`
</span></span></span><span style=display:flex><span><span style=color:#a5d6ff>        min-height: </span><span style=color:#a5d6ff>${</span>minHeight<span style=color:#a5d6ff>}</span><span style=color:#a5d6ff>;
</span></span></span><span style=display:flex><span><span style=color:#a5d6ff>        height: </span><span style=color:#a5d6ff>${</span>defaultHeight<span style=color:#a5d6ff>}</span><span style=color:#a5d6ff>;
</span></span></span><span style=display:flex><span><span style=color:#a5d6ff>        transition: height 0.3s ease;
</span></span></span><span style=display:flex><span><span style=color:#a5d6ff>      `</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#8b949e;font-style:italic>// ç›‘å¬å†…å®¹åŠ è½½
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>      <span style=color:#ff7b72>this</span>.observeDynamicContent(container);
</span></span><span style=display:flex><span>    });
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#8b949e;font-style:italic>// è§‚å¯ŸåŠ¨æ€å†…å®¹å˜åŒ–
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>  observeDynamicContent(container) {
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>const</span> resizeObserver <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#ff7b72>new</span> ResizeObserver(entries =&gt; {
</span></span><span style=display:flex><span>      <span style=color:#ff7b72>for</span> (<span style=color:#ff7b72>const</span> entry <span style=color:#ff7b72>of</span> entries) {
</span></span><span style=display:flex><span>        <span style=color:#ff7b72>const</span> height <span style=color:#ff7b72;font-weight:700>=</span> entry.contentRect.height;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#8b949e;font-style:italic>// å¹³æ»‘è°ƒæ•´é«˜åº¦
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>        container.style.height <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#a5d6ff>`</span><span style=color:#a5d6ff>${</span>height<span style=color:#a5d6ff>}</span><span style=color:#a5d6ff>px`</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#8b949e;font-style:italic>// ç§»é™¤æœ€å°é«˜åº¦é™åˆ¶
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>        <span style=color:#ff7b72>if</span> (height <span style=color:#ff7b72;font-weight:700>&gt;</span> parseInt(container.dataset.minHeight)) {
</span></span><span style=display:flex><span>          container.style.minHeight <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#a5d6ff>&#39;auto&#39;</span>;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>    });
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    resizeObserver.observe(container);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#8b949e;font-style:italic>// ä¼˜åŒ–åŠ¨ç”»å’Œè¿‡æ¸¡
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>  optimizeAnimations() {
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic>// ä½¿ç”¨transformå’Œopacityè¿›è¡ŒåŠ¨ç”»
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    <span style=color:#ff7b72>const</span> animatedElements <span style=color:#ff7b72;font-weight:700>=</span> document.querySelectorAll(<span style=color:#a5d6ff>&#39;[data-animate]&#39;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    animatedElements.forEach(element =&gt; {
</span></span><span style=display:flex><span>      <span style=color:#ff7b72>const</span> animation <span style=color:#ff7b72;font-weight:700>=</span> element.dataset.animate;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#8b949e;font-style:italic>// æ·»åŠ will-changeæç¤º
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>      element.style.willChange <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#a5d6ff>&#39;transform, opacity&#39;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#8b949e;font-style:italic>// åŠ¨ç”»ç»“æŸåç§»é™¤will-change
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>      element.addEventListener(<span style=color:#a5d6ff>&#39;animationend&#39;</span>, () =&gt; {
</span></span><span style=display:flex><span>        element.style.willChange <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#a5d6ff>&#39;auto&#39;</span>;
</span></span><span style=display:flex><span>      });
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#8b949e;font-style:italic>// ä½¿ç”¨CSSåŠ¨ç”»
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>      element.style.animation <span style=color:#ff7b72;font-weight:700>=</span> animation;
</span></span><span style=display:flex><span>    });
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#8b949e;font-style:italic>// ç›‘æ§CLSæ€§èƒ½
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>  observeCLS() {
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>let</span> clsValue <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#a5d6ff>0</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>new</span> PerformanceObserver((entryList) =&gt; {
</span></span><span style=display:flex><span>      <span style=color:#ff7b72>for</span> (<span style=color:#ff7b72>const</span> entry <span style=color:#ff7b72>of</span> entryList.getEntries()) {
</span></span><span style=display:flex><span>        <span style=color:#ff7b72>if</span> (<span style=color:#ff7b72;font-weight:700>!</span>entry.hadRecentInput) {
</span></span><span style=display:flex><span>          clsValue <span style=color:#ff7b72;font-weight:700>+=</span> entry.value;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>          console.log(<span style=color:#a5d6ff>&#39;CLS:&#39;</span>, {
</span></span><span style=display:flex><span>            value<span style=color:#ff7b72;font-weight:700>:</span> clsValue,
</span></span><span style=display:flex><span>            entry<span style=color:#ff7b72;font-weight:700>:</span> {
</span></span><span style=display:flex><span>              value<span style=color:#ff7b72;font-weight:700>:</span> entry.value,
</span></span><span style=display:flex><span>              sources<span style=color:#ff7b72;font-weight:700>:</span> entry.sources
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>          });
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>          <span style=color:#8b949e;font-style:italic>// å¦‚æœCLSè¶…è¿‡é˜ˆå€¼ï¼Œå‘é€è­¦å‘Š
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>          <span style=color:#ff7b72>if</span> (clsValue <span style=color:#ff7b72;font-weight:700>&gt;</span> <span style=color:#ff7b72>this</span>.layoutShiftThreshold) {
</span></span><span style=display:flex><span>            console.warn(<span style=color:#a5d6ff>&#39;CLS threshold exceeded:&#39;</span>, clsValue);
</span></span><span style=display:flex><span>            <span style=color:#ff7b72>this</span>.sendToAnalytics(<span style=color:#a5d6ff>&#39;CLS_WARNING&#39;</span>, {
</span></span><span style=display:flex><span>              value<span style=color:#ff7b72;font-weight:700>:</span> clsValue,
</span></span><span style=display:flex><span>              threshold<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#ff7b72>this</span>.layoutShiftThreshold
</span></span><span style=display:flex><span>            });
</span></span><span style=display:flex><span>          }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>    }).observe({ entryTypes<span style=color:#ff7b72;font-weight:700>:</span> [<span style=color:#a5d6ff>&#39;layout-shift&#39;</span>] });
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span></code></pre></td></tr></table></div></div><h2 id=ç°ä»£æ€§èƒ½ä¼˜åŒ–æŠ€æœ¯>ç°ä»£æ€§èƒ½ä¼˜åŒ–æŠ€æœ¯<a hidden class=anchor aria-hidden=true href=#ç°ä»£æ€§èƒ½ä¼˜åŒ–æŠ€æœ¯>#</a></h2><h3 id=èµ„æºä¼˜å…ˆçº§å’ŒåŠ è½½ç­–ç•¥>èµ„æºä¼˜å…ˆçº§å’ŒåŠ è½½ç­–ç•¥<a hidden class=anchor aria-hidden=true href=#èµ„æºä¼˜å…ˆçº§å’ŒåŠ è½½ç­–ç•¥>#</a></h3><div class=highlight><div style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:2;-o-tab-size:2;tab-size:2><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 56
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 57
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 58
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 59
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 60
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 61
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 62
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 63
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 64
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 65
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 66
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 67
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 68
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 69
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 70
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 71
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 72
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 73
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 74
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 75
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 76
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 77
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 78
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 79
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 80
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 81
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 82
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 83
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 84
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 85
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 86
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 87
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 88
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 89
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 90
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 91
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 92
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 93
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 94
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 95
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 96
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 97
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 98
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 99
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">100
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">101
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">102
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">103
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">104
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">105
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">106
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">107
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">108
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">109
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">110
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">111
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">112
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">113
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">114
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">115
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">116
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">117
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">118
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">119
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">120
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">121
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">122
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">123
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">124
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">125
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">126
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">127
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">128
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">129
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">130
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">131
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">132
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">133
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">134
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">135
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">136
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">137
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">138
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">139
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">140
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">141
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">142
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">143
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">144
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">145
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">146
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">147
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">148
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">149
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">150
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">151
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">152
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">153
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">154
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">155
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">156
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">157
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">158
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">159
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">160
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">161
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">162
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">163
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">164
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">165
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">166
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#8b949e;font-style:italic>// èµ„æºåŠ è½½ä¼˜åŒ–å™¨
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span><span style=color:#ff7b72>class</span> ResourceLoadOptimizer {
</span></span><span style=display:flex><span>  constructor() {
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>this</span>.loadingStrategies <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#ff7b72>new</span> Map();
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>this</span>.criticalResources <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#ff7b72>new</span> Set();
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>this</span>.preloadedResources <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#ff7b72>new</span> Set();
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#8b949e;font-style:italic>// å®ç°æ™ºèƒ½é¢„åŠ è½½
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>  implementSmartPreloading() {
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic>// åŸºäºç”¨æˆ·è¡Œä¸ºé¢„æµ‹çš„é¢„åŠ è½½
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    <span style=color:#ff7b72>this</span>.setupBehavioralPreloading();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic>// åŸºäºè·¯ç”±çš„é¢„åŠ è½½
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    <span style=color:#ff7b72>this</span>.setupRoutePreloading();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic>// åŸºäºè§†å£çš„é¢„åŠ è½½
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    <span style=color:#ff7b72>this</span>.setupViewportPreloading();
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#8b949e;font-style:italic>// åŸºäºç”¨æˆ·è¡Œä¸ºçš„é¢„åŠ è½½
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>  setupBehavioralPreloading() {
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>const</span> behaviorTracker <span style=color:#ff7b72;font-weight:700>=</span> {
</span></span><span style=display:flex><span>      hoverTimer<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#79c0ff>null</span>,
</span></span><span style=display:flex><span>      clickPatterns<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#ff7b72>new</span> Map(),
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      init() {
</span></span><span style=display:flex><span>        <span style=color:#ff7b72>this</span>.trackHoverBehavior();
</span></span><span style=display:flex><span>        <span style=color:#ff7b72>this</span>.trackClickPatterns();
</span></span><span style=display:flex><span>        <span style=color:#ff7b72>this</span>.trackScrollBehavior();
</span></span><span style=display:flex><span>      },
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      trackHoverBehavior() {
</span></span><span style=display:flex><span>        document.addEventListener(<span style=color:#a5d6ff>&#39;mouseover&#39;</span>, (e) =&gt; {
</span></span><span style=display:flex><span>          <span style=color:#ff7b72>const</span> link <span style=color:#ff7b72;font-weight:700>=</span> e.target.closest(<span style=color:#a5d6ff>&#39;a&#39;</span>);
</span></span><span style=display:flex><span>          <span style=color:#ff7b72>if</span> (link <span style=color:#ff7b72;font-weight:700>&amp;&amp;</span> link.href) {
</span></span><span style=display:flex><span>            <span style=color:#ff7b72>this</span>.hoverTimer <span style=color:#ff7b72;font-weight:700>=</span> setTimeout(() =&gt; {
</span></span><span style=display:flex><span>              <span style=color:#ff7b72>this</span>.preloadLink(link.href);
</span></span><span style=display:flex><span>            }, <span style=color:#a5d6ff>100</span>);
</span></span><span style=display:flex><span>          }
</span></span><span style=display:flex><span>        });
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        document.addEventListener(<span style=color:#a5d6ff>&#39;mouseout&#39;</span>, (e) =&gt; {
</span></span><span style=display:flex><span>          <span style=color:#ff7b72>if</span> (<span style=color:#ff7b72>this</span>.hoverTimer) {
</span></span><span style=display:flex><span>            clearTimeout(<span style=color:#ff7b72>this</span>.hoverTimer);
</span></span><span style=display:flex><span>          }
</span></span><span style=display:flex><span>        });
</span></span><span style=display:flex><span>      },
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      trackClickPatterns() {
</span></span><span style=display:flex><span>        document.addEventListener(<span style=color:#a5d6ff>&#39;click&#39;</span>, (e) =&gt; {
</span></span><span style=display:flex><span>          <span style=color:#ff7b72>const</span> link <span style=color:#ff7b72;font-weight:700>=</span> e.target.closest(<span style=color:#a5d6ff>&#39;a&#39;</span>);
</span></span><span style=display:flex><span>          <span style=color:#ff7b72>if</span> (link <span style=color:#ff7b72;font-weight:700>&amp;&amp;</span> link.href) {
</span></span><span style=display:flex><span>            <span style=color:#ff7b72>const</span> pattern <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#ff7b72>this</span>.extractPattern(link.href);
</span></span><span style=display:flex><span>            <span style=color:#ff7b72>this</span>.clickPatterns.set(pattern, (<span style=color:#ff7b72>this</span>.clickPatterns.get(pattern) <span style=color:#ff7b72;font-weight:700>||</span> <span style=color:#a5d6ff>0</span>) <span style=color:#ff7b72;font-weight:700>+</span> <span style=color:#a5d6ff>1</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#8b949e;font-style:italic>// å¦‚æœæŸä¸ªæ¨¡å¼è¢«é¢‘ç¹ç‚¹å‡»ï¼Œé¢„åŠ è½½ç›¸å…³èµ„æº
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>            <span style=color:#ff7b72>if</span> (<span style=color:#ff7b72>this</span>.clickPatterns.get(pattern) <span style=color:#ff7b72;font-weight:700>&gt;</span> <span style=color:#a5d6ff>3</span>) {
</span></span><span style=display:flex><span>              <span style=color:#ff7b72>this</span>.preloadRelatedResources(pattern);
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>          }
</span></span><span style=display:flex><span>        });
</span></span><span style=display:flex><span>      },
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      extractPattern(url) {
</span></span><span style=display:flex><span>        <span style=color:#8b949e;font-style:italic>// æå–URLæ¨¡å¼
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>        <span style=color:#ff7b72>return</span> <span style=color:#ff7b72>new</span> URL(url).pathname.replace(<span style=color:#79c0ff>/\/\d+/</span>, <span style=color:#a5d6ff>&#39;/:id&#39;</span>);
</span></span><span style=display:flex><span>      },
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      preloadLink(href) {
</span></span><span style=display:flex><span>        <span style=color:#ff7b72>const</span> link <span style=color:#ff7b72;font-weight:700>=</span> document.createElement(<span style=color:#a5d6ff>&#39;link&#39;</span>);
</span></span><span style=display:flex><span>        link.rel <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#a5d6ff>&#39;prefetch&#39;</span>;
</span></span><span style=display:flex><span>        link.href <span style=color:#ff7b72;font-weight:700>=</span> href;
</span></span><span style=display:flex><span>        document.head.appendChild(link);
</span></span><span style=display:flex><span>      },
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      preloadRelatedResources(pattern) {
</span></span><span style=display:flex><span>        <span style=color:#8b949e;font-style:italic>// æ ¹æ®æ¨¡å¼é¢„åŠ è½½ç›¸å…³èµ„æº
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>        <span style=color:#ff7b72>const</span> relatedResources <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#ff7b72>this</span>.getRelatedResources(pattern);
</span></span><span style=display:flex><span>        relatedResources.forEach(resource =&gt; {
</span></span><span style=display:flex><span>          <span style=color:#ff7b72>this</span>.preloadResource(resource);
</span></span><span style=display:flex><span>        });
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>    };
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    behaviorTracker.init();
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#8b949e;font-style:italic>// å®ç°èµ„æºæç¤ºï¼ˆResource Hintsï¼‰
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>  implementResourceHints() {
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic>// DNSé¢„è§£æ
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    <span style=color:#ff7b72>const</span> dnsPrefetchDomains <span style=color:#ff7b72;font-weight:700>=</span> [
</span></span><span style=display:flex><span>      <span style=color:#a5d6ff>&#39;fonts.googleapis.com&#39;</span>,
</span></span><span style=display:flex><span>      <span style=color:#a5d6ff>&#39;cdn.example.com&#39;</span>,
</span></span><span style=display:flex><span>      <span style=color:#a5d6ff>&#39;analytics.example.com&#39;</span>
</span></span><span style=display:flex><span>    ];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    dnsPrefetchDomains.forEach(domain =&gt; {
</span></span><span style=display:flex><span>      <span style=color:#ff7b72>const</span> link <span style=color:#ff7b72;font-weight:700>=</span> document.createElement(<span style=color:#a5d6ff>&#39;link&#39;</span>);
</span></span><span style=display:flex><span>      link.rel <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#a5d6ff>&#39;dns-prefetch&#39;</span>;
</span></span><span style=display:flex><span>      link.href <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#a5d6ff>`//</span><span style=color:#a5d6ff>${</span>domain<span style=color:#a5d6ff>}</span><span style=color:#a5d6ff>`</span>;
</span></span><span style=display:flex><span>      document.head.appendChild(link);
</span></span><span style=display:flex><span>    });
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic>// é¢„è¿æ¥å…³é”®åŸŸå
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    <span style=color:#ff7b72>const</span> preconnectDomains <span style=color:#ff7b72;font-weight:700>=</span> [
</span></span><span style=display:flex><span>      <span style=color:#a5d6ff>&#39;https://fonts.gstatic.com&#39;</span>,
</span></span><span style=display:flex><span>      <span style=color:#a5d6ff>&#39;https://api.example.com&#39;</span>
</span></span><span style=display:flex><span>    ];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    preconnectDomains.forEach(domain =&gt; {
</span></span><span style=display:flex><span>      <span style=color:#ff7b72>const</span> link <span style=color:#ff7b72;font-weight:700>=</span> document.createElement(<span style=color:#a5d6ff>&#39;link&#39;</span>);
</span></span><span style=display:flex><span>      link.rel <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#a5d6ff>&#39;preconnect&#39;</span>;
</span></span><span style=display:flex><span>      link.href <span style=color:#ff7b72;font-weight:700>=</span> domain;
</span></span><span style=display:flex><span>      link.crossOrigin <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#a5d6ff>&#39;anonymous&#39;</span>;
</span></span><span style=display:flex><span>      document.head.appendChild(link);
</span></span><span style=display:flex><span>    });
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#8b949e;font-style:italic>// ä¼˜åŒ–ç¬¬ä¸‰æ–¹èµ„æºåŠ è½½
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>  optimizeThirdPartyResources() {
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic>// å»¶è¿ŸåŠ è½½éå…³é”®ç¬¬ä¸‰æ–¹è„šæœ¬
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    <span style=color:#ff7b72>this</span>.deferThirdPartyScripts();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic>// ä½¿ç”¨Web WorkersåŠ è½½ç¬¬ä¸‰æ–¹è„šæœ¬
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    <span style=color:#ff7b72>this</span>.loadThirdPartyInWorkers();
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#8b949e;font-style:italic>// å»¶è¿ŸåŠ è½½ç¬¬ä¸‰æ–¹è„šæœ¬
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>  deferThirdPartyScripts() {
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>const</span> thirdPartyScripts <span style=color:#ff7b72;font-weight:700>=</span> [
</span></span><span style=display:flex><span>      { src<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;https://www.googletagmanager.com/gtag/js&#39;</span>, name<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;google-analytics&#39;</span> },
</span></span><span style=display:flex><span>      { src<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;https://cdn.jsdelivr.net/npm/chart.js&#39;</span>, name<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;chartjs&#39;</span> },
</span></span><span style=display:flex><span>      { src<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;https://platform.twitter.com/widgets.js&#39;</span>, name<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;twitter&#39;</span> }
</span></span><span style=display:flex><span>    ];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>const</span> loadThirdPartyScript <span style=color:#ff7b72;font-weight:700>=</span> (scriptConfig) =&gt; {
</span></span><span style=display:flex><span>      <span style=color:#ff7b72>return</span> <span style=color:#ff7b72>new</span> Promise((resolve, reject) =&gt; {
</span></span><span style=display:flex><span>        <span style=color:#ff7b72>const</span> script <span style=color:#ff7b72;font-weight:700>=</span> document.createElement(<span style=color:#a5d6ff>&#39;script&#39;</span>);
</span></span><span style=display:flex><span>        script.src <span style=color:#ff7b72;font-weight:700>=</span> scriptConfig.src;
</span></span><span style=display:flex><span>        script.<span style=color:#ff7b72>async</span> <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#79c0ff>true</span>;
</span></span><span style=display:flex><span>        script.onload <span style=color:#ff7b72;font-weight:700>=</span> resolve;
</span></span><span style=display:flex><span>        script.onerror <span style=color:#ff7b72;font-weight:700>=</span> reject;
</span></span><span style=display:flex><span>        document.body.appendChild(script);
</span></span><span style=display:flex><span>      });
</span></span><span style=display:flex><span>    };
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic>// ä½¿ç”¨Intersection Observerå»¶è¿ŸåŠ è½½
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    <span style=color:#ff7b72>const</span> observer <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#ff7b72>new</span> IntersectionObserver((entries) =&gt; {
</span></span><span style=display:flex><span>      entries.forEach(entry =&gt; {
</span></span><span style=display:flex><span>        <span style=color:#ff7b72>if</span> (entry.isIntersecting) {
</span></span><span style=display:flex><span>          thirdPartyScripts.forEach(scriptConfig =&gt; {
</span></span><span style=display:flex><span>            loadThirdPartyScript(scriptConfig);
</span></span><span style=display:flex><span>          });
</span></span><span style=display:flex><span>          observer.disconnect();
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>      });
</span></span><span style=display:flex><span>    });
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic>// è§‚å¯Ÿé¡µé¢åº•éƒ¨
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    <span style=color:#ff7b72>const</span> footer <span style=color:#ff7b72;font-weight:700>=</span> document.querySelector(<span style=color:#a5d6ff>&#39;footer&#39;</span>);
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>if</span> (footer) {
</span></span><span style=display:flex><span>      observer.observe(footer);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span></code></pre></td></tr></table></div></div><h3 id=ç¼“å­˜ç­–ç•¥ä¼˜åŒ–>ç¼“å­˜ç­–ç•¥ä¼˜åŒ–<a hidden class=anchor aria-hidden=true href=#ç¼“å­˜ç­–ç•¥ä¼˜åŒ–>#</a></h3><div class=highlight><div style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:2;-o-tab-size:2;tab-size:2><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 56
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 57
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 58
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 59
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 60
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 61
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 62
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 63
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 64
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 65
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 66
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 67
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 68
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 69
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 70
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 71
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 72
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 73
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 74
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 75
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 76
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 77
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 78
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 79
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 80
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 81
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 82
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 83
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 84
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 85
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 86
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 87
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 88
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 89
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 90
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 91
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 92
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 93
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 94
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 95
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 96
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 97
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 98
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 99
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">100
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">101
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">102
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">103
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">104
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">105
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">106
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">107
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">108
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">109
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">110
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">111
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">112
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">113
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">114
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">115
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">116
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">117
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">118
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">119
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">120
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">121
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">122
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">123
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">124
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">125
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">126
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">127
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">128
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">129
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">130
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">131
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">132
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">133
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">134
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">135
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">136
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">137
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">138
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">139
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">140
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">141
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">142
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">143
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">144
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">145
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">146
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">147
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">148
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">149
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">150
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">151
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">152
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">153
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">154
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">155
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">156
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">157
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">158
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">159
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">160
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">161
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">162
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">163
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">164
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">165
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">166
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">167
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">168
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">169
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">170
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">171
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">172
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">173
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">174
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">175
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">176
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">177
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">178
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">179
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">180
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">181
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">182
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">183
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">184
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">185
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">186
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#8b949e;font-style:italic>// æ™ºèƒ½ç¼“å­˜ç®¡ç†å™¨
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span><span style=color:#ff7b72>class</span> IntelligentCacheManager {
</span></span><span style=display:flex><span>  constructor() {
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>this</span>.cacheStrategies <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#ff7b72>new</span> Map();
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>this</span>.serviceWorker <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#79c0ff>null</span>;
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>this</span>.cacheVersion <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#a5d6ff>&#39;v1.0.0&#39;</span>;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#8b949e;font-style:italic>// å®ç°å¤šçº§ç¼“å­˜ç­–ç•¥
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>  implementMultiLevelCaching() {
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic>// å†…å­˜ç¼“å­˜
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    <span style=color:#ff7b72>this</span>.setupMemoryCache();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic>// Service Workerç¼“å­˜
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    <span style=color:#ff7b72>this</span>.setupServiceWorkerCache();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic>// HTTPç¼“å­˜ä¼˜åŒ–
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    <span style=color:#ff7b72>this</span>.optimizeHTTPCache();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic>// IndexedDBç¼“å­˜
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    <span style=color:#ff7b72>this</span>.setupIndexedDBCache();
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#8b949e;font-style:italic>// è®¾ç½®å†…å­˜ç¼“å­˜
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>  setupMemoryCache() {
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>class</span> MemoryCache {
</span></span><span style=display:flex><span>      constructor(maxSize <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#a5d6ff>50</span>) {
</span></span><span style=display:flex><span>        <span style=color:#ff7b72>this</span>.cache <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#ff7b72>new</span> Map();
</span></span><span style=display:flex><span>        <span style=color:#ff7b72>this</span>.maxSize <span style=color:#ff7b72;font-weight:700>=</span> maxSize;
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      get(key) {
</span></span><span style=display:flex><span>        <span style=color:#ff7b72>if</span> (<span style=color:#ff7b72>this</span>.cache.has(key)) {
</span></span><span style=display:flex><span>          <span style=color:#8b949e;font-style:italic>// ç§»åˆ°æœ€åï¼ˆLRUç­–ç•¥ï¼‰
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>          <span style=color:#ff7b72>const</span> value <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#ff7b72>this</span>.cache.get(key);
</span></span><span style=display:flex><span>          <span style=color:#ff7b72>this</span>.cache.<span style=color:#ff7b72>delete</span>(key);
</span></span><span style=display:flex><span>          <span style=color:#ff7b72>this</span>.cache.set(key, value);
</span></span><span style=display:flex><span>          <span style=color:#ff7b72>return</span> value;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#ff7b72>return</span> <span style=color:#79c0ff>null</span>;
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      set(key, value, ttl <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#a5d6ff>300000</span>) { <span style=color:#8b949e;font-style:italic>// é»˜è®¤5åˆ†é’Ÿ
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>        <span style=color:#ff7b72>if</span> (<span style=color:#ff7b72>this</span>.cache.size <span style=color:#ff7b72;font-weight:700>&gt;=</span> <span style=color:#ff7b72>this</span>.maxSize) {
</span></span><span style=display:flex><span>          <span style=color:#8b949e;font-style:italic>// åˆ é™¤æœ€æ—§çš„æ¡ç›®
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>          <span style=color:#ff7b72>const</span> firstKey <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#ff7b72>this</span>.cache.keys().next().value;
</span></span><span style=display:flex><span>          <span style=color:#ff7b72>this</span>.cache.<span style=color:#ff7b72>delete</span>(firstKey);
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#ff7b72>this</span>.cache.set(key, {
</span></span><span style=display:flex><span>          value,
</span></span><span style=display:flex><span>          timestamp<span style=color:#ff7b72;font-weight:700>:</span> Date.now(),
</span></span><span style=display:flex><span>          ttl
</span></span><span style=display:flex><span>        });
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      cleanup() {
</span></span><span style=display:flex><span>        <span style=color:#ff7b72>const</span> now <span style=color:#ff7b72;font-weight:700>=</span> Date.now();
</span></span><span style=display:flex><span>        <span style=color:#ff7b72>for</span> (<span style=color:#ff7b72>const</span> [key, item] <span style=color:#ff7b72>of</span> <span style=color:#ff7b72>this</span>.cache.entries()) {
</span></span><span style=display:flex><span>          <span style=color:#ff7b72>if</span> (now <span style=color:#ff7b72;font-weight:700>-</span> item.timestamp <span style=color:#ff7b72;font-weight:700>&gt;</span> item.ttl) {
</span></span><span style=display:flex><span>            <span style=color:#ff7b72>this</span>.cache.<span style=color:#ff7b72>delete</span>(key);
</span></span><span style=display:flex><span>          }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>this</span>.memoryCache <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#ff7b72>new</span> MemoryCache();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic>// å®šæœŸæ¸…ç†è¿‡æœŸç¼“å­˜
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    setInterval(() =&gt; {
</span></span><span style=display:flex><span>      <span style=color:#ff7b72>this</span>.memoryCache.cleanup();
</span></span><span style=display:flex><span>    }, <span style=color:#a5d6ff>60000</span>);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#8b949e;font-style:italic>// è®¾ç½®Service Workerç¼“å­˜
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>  <span style=color:#ff7b72>async</span> setupServiceWorkerCache() {
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>if</span> (<span style=color:#a5d6ff>&#39;serviceWorker&#39;</span> <span style=color:#ff7b72>in</span> navigator) {
</span></span><span style=display:flex><span>      <span style=color:#ff7b72>const</span> registration <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#ff7b72>await</span> navigator.serviceWorker.register(<span style=color:#a5d6ff>&#39;/sw.js&#39;</span>);
</span></span><span style=display:flex><span>      <span style=color:#ff7b72>this</span>.serviceWorker <span style=color:#ff7b72;font-weight:700>=</span> registration.active <span style=color:#ff7b72;font-weight:700>||</span> registration.installing;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#8b949e;font-style:italic>// ç›‘å¬Service Workeræ¶ˆæ¯
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>      navigator.serviceWorker.addEventListener(<span style=color:#a5d6ff>&#39;message&#39;</span>, (event) =&gt; {
</span></span><span style=display:flex><span>        <span style=color:#ff7b72>this</span>.handleServiceWorkerMessage(event.data);
</span></span><span style=display:flex><span>      });
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#8b949e;font-style:italic>// æ™ºèƒ½ç¼“å­˜ç­–ç•¥
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>  getCacheStrategy(url, resourceType) {
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>const</span> strategies <span style=color:#ff7b72;font-weight:700>=</span> {
</span></span><span style=display:flex><span>      <span style=color:#a5d6ff>&#39;image&#39;</span><span style=color:#ff7b72;font-weight:700>:</span> {
</span></span><span style=display:flex><span>        strategy<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;cache-first&#39;</span>,
</span></span><span style=display:flex><span>        cacheName<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;images&#39;</span>,
</span></span><span style=display:flex><span>        maxAge<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>2592000</span>, <span style=color:#8b949e;font-style:italic>// 30å¤©
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>        maxEntries<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>100</span>
</span></span><span style=display:flex><span>      },
</span></span><span style=display:flex><span>      <span style=color:#a5d6ff>&#39;script&#39;</span><span style=color:#ff7b72;font-weight:700>:</span> {
</span></span><span style=display:flex><span>        strategy<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;stale-while-revalidate&#39;</span>,
</span></span><span style=display:flex><span>        cacheName<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;scripts&#39;</span>,
</span></span><span style=display:flex><span>        maxAge<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>86400</span>, <span style=color:#8b949e;font-style:italic>// 1å¤©
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>        maxEntries<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>50</span>
</span></span><span style=display:flex><span>      },
</span></span><span style=display:flex><span>      <span style=color:#a5d6ff>&#39;style&#39;</span><span style=color:#ff7b72;font-weight:700>:</span> {
</span></span><span style=display:flex><span>        strategy<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;cache-first&#39;</span>,
</span></span><span style=display:flex><span>        cacheName<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;styles&#39;</span>,
</span></span><span style=display:flex><span>        maxAge<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>2592000</span>, <span style=color:#8b949e;font-style:italic>// 30å¤©
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>        maxEntries<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>20</span>
</span></span><span style=display:flex><span>      },
</span></span><span style=display:flex><span>      <span style=color:#a5d6ff>&#39;api&#39;</span><span style=color:#ff7b72;font-weight:700>:</span> {
</span></span><span style=display:flex><span>        strategy<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;network-first&#39;</span>,
</span></span><span style=display:flex><span>        cacheName<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;api&#39;</span>,
</span></span><span style=display:flex><span>        maxAge<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>300</span>, <span style=color:#8b949e;font-style:italic>// 5åˆ†é’Ÿ
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>        maxEntries<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>200</span>
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>    };
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>return</span> strategies[resourceType] <span style=color:#ff7b72;font-weight:700>||</span> strategies[<span style=color:#a5d6ff>&#39;api&#39;</span>];
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#8b949e;font-style:italic>// å®ç°ç¼“å­˜é¢„çƒ­
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>  implementCacheWarming() {
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic>// å…³é”®èµ„æºé¢„çƒ­
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    <span style=color:#ff7b72>this</span>.warmCriticalResources();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic>// åŸºäºç”¨æˆ·è¡Œä¸ºçš„ç¼“å­˜é¢„çƒ­
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    <span style=color:#ff7b72>this</span>.warmResourcesBasedOnBehavior();
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#8b949e;font-style:italic>// é¢„çƒ­å…³é”®èµ„æº
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>  <span style=color:#ff7b72>async</span> warmCriticalResources() {
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>const</span> criticalResources <span style=color:#ff7b72;font-weight:700>=</span> [
</span></span><span style=display:flex><span>      <span style=color:#a5d6ff>&#39;/css/main.css&#39;</span>,
</span></span><span style=display:flex><span>      <span style=color:#a5d6ff>&#39;/js/main.js&#39;</span>,
</span></span><span style=display:flex><span>      <span style=color:#a5d6ff>&#39;/fonts/main.woff2&#39;</span>,
</span></span><span style=display:flex><span>      <span style=color:#a5d6ff>&#39;/api/user/profile&#39;</span>
</span></span><span style=display:flex><span>    ];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>for</span> (<span style=color:#ff7b72>const</span> resource <span style=color:#ff7b72>of</span> criticalResources) {
</span></span><span style=display:flex><span>      <span style=color:#ff7b72>try</span> {
</span></span><span style=display:flex><span>        <span style=color:#ff7b72>await</span> <span style=color:#ff7b72>this</span>.cacheResource(resource);
</span></span><span style=display:flex><span>        console.log(<span style=color:#a5d6ff>`Warmed cache for: </span><span style=color:#a5d6ff>${</span>resource<span style=color:#a5d6ff>}</span><span style=color:#a5d6ff>`</span>);
</span></span><span style=display:flex><span>      } <span style=color:#ff7b72>catch</span> (error) {
</span></span><span style=display:flex><span>        console.error(<span style=color:#a5d6ff>`Failed to warm cache for </span><span style=color:#a5d6ff>${</span>resource<span style=color:#a5d6ff>}</span><span style=color:#a5d6ff>:`</span>, error);
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#8b949e;font-style:italic>// ç¼“å­˜èµ„æº
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>  <span style=color:#ff7b72>async</span> cacheResource(url) {
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>const</span> response <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#ff7b72>await</span> fetch(url);
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>if</span> (response.ok) {
</span></span><span style=display:flex><span>      <span style=color:#ff7b72>const</span> resourceType <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#ff7b72>this</span>.getResourceType(url);
</span></span><span style=display:flex><span>      <span style=color:#ff7b72>const</span> strategy <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#ff7b72>this</span>.getCacheStrategy(url, resourceType);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#8b949e;font-style:italic>// æ ¹æ®ç­–ç•¥ç¼“å­˜èµ„æº
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>      <span style=color:#ff7b72>if</span> (<span style=color:#ff7b72>this</span>.serviceWorker) {
</span></span><span style=display:flex><span>        <span style=color:#ff7b72>this</span>.serviceWorker.postMessage({
</span></span><span style=display:flex><span>          type<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;CACHE_RESOURCE&#39;</span>,
</span></span><span style=display:flex><span>          url,
</span></span><span style=display:flex><span>          strategy
</span></span><span style=display:flex><span>        });
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#8b949e;font-style:italic>// è·å–èµ„æºç±»å‹
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>  getResourceType(url) {
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>const</span> extension <span style=color:#ff7b72;font-weight:700>=</span> url.split(<span style=color:#a5d6ff>&#39;.&#39;</span>).pop().toLowerCase();
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>const</span> typeMap <span style=color:#ff7b72;font-weight:700>=</span> {
</span></span><span style=display:flex><span>      <span style=color:#a5d6ff>&#39;jpg&#39;</span><span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;image&#39;</span>,
</span></span><span style=display:flex><span>      <span style=color:#a5d6ff>&#39;jpeg&#39;</span><span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;image&#39;</span>,
</span></span><span style=display:flex><span>      <span style=color:#a5d6ff>&#39;png&#39;</span><span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;image&#39;</span>,
</span></span><span style=display:flex><span>      <span style=color:#a5d6ff>&#39;gif&#39;</span><span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;image&#39;</span>,
</span></span><span style=display:flex><span>      <span style=color:#a5d6ff>&#39;webp&#39;</span><span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;image&#39;</span>,
</span></span><span style=display:flex><span>      <span style=color:#a5d6ff>&#39;avif&#39;</span><span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;image&#39;</span>,
</span></span><span style=display:flex><span>      <span style=color:#a5d6ff>&#39;svg&#39;</span><span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;image&#39;</span>,
</span></span><span style=display:flex><span>      <span style=color:#a5d6ff>&#39;js&#39;</span><span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;script&#39;</span>,
</span></span><span style=display:flex><span>      <span style=color:#a5d6ff>&#39;css&#39;</span><span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;style&#39;</span>,
</span></span><span style=display:flex><span>      <span style=color:#a5d6ff>&#39;woff&#39;</span><span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;font&#39;</span>,
</span></span><span style=display:flex><span>      <span style=color:#a5d6ff>&#39;woff2&#39;</span><span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;font&#39;</span>,
</span></span><span style=display:flex><span>      <span style=color:#a5d6ff>&#39;ttf&#39;</span><span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;font&#39;</span>
</span></span><span style=display:flex><span>    };
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>return</span> typeMap[extension] <span style=color:#ff7b72;font-weight:700>||</span> <span style=color:#a5d6ff>&#39;other&#39;</span>;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span></code></pre></td></tr></table></div></div><h2 id=æ€§èƒ½ç›‘æ§ä¸åˆ†æ>æ€§èƒ½ç›‘æ§ä¸åˆ†æ<a hidden class=anchor aria-hidden=true href=#æ€§èƒ½ç›‘æ§ä¸åˆ†æ>#</a></h2><h3 id=å®æ—¶æ€§èƒ½ç›‘æ§>å®æ—¶æ€§èƒ½ç›‘æ§<a hidden class=anchor aria-hidden=true href=#å®æ—¶æ€§èƒ½ç›‘æ§>#</a></h3><div class=highlight><div style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:2;-o-tab-size:2;tab-size:2><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 56
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 57
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 58
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 59
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 60
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 61
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 62
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 63
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 64
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 65
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 66
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 67
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 68
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 69
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 70
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 71
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 72
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 73
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 74
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 75
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 76
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 77
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 78
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 79
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 80
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 81
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 82
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 83
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 84
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 85
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 86
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 87
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 88
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 89
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 90
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 91
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 92
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 93
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 94
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 95
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 96
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 97
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 98
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 99
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">100
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">101
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">102
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">103
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">104
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">105
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">106
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">107
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">108
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">109
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">110
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">111
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">112
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">113
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">114
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">115
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">116
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">117
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">118
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">119
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">120
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">121
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">122
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">123
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">124
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">125
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">126
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">127
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">128
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">129
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">130
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">131
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">132
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">133
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">134
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">135
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">136
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">137
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">138
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">139
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">140
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">141
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">142
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">143
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">144
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">145
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">146
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">147
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">148
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">149
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">150
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">151
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">152
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">153
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">154
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">155
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">156
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">157
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">158
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">159
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">160
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">161
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">162
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">163
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">164
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">165
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">166
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">167
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">168
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">169
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">170
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">171
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">172
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">173
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">174
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">175
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">176
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">177
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">178
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">179
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">180
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">181
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">182
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">183
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">184
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">185
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">186
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">187
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">188
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">189
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">190
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">191
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">192
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">193
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">194
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">195
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">196
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">197
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">198
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">199
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">200
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">201
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">202
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">203
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">204
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">205
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">206
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">207
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">208
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">209
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">210
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">211
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">212
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">213
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">214
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">215
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">216
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">217
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">218
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">219
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">220
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">221
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">222
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">223
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">224
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">225
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">226
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">227
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">228
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">229
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">230
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">231
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">232
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">233
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">234
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">235
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">236
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">237
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">238
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">239
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">240
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">241
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">242
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">243
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">244
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">245
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">246
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">247
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">248
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">249
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">250
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">251
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">252
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">253
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">254
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">255
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">256
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">257
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">258
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">259
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">260
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">261
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">262
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">263
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">264
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">265
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">266
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">267
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">268
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">269
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">270
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">271
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">272
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">273
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">274
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">275
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">276
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">277
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#8b949e;font-style:italic>// å®æ—¶æ€§èƒ½ç›‘æ§ç³»ç»Ÿ
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span><span style=color:#ff7b72>class</span> RealTimePerformanceMonitor {
</span></span><span style=display:flex><span>  constructor() {
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>this</span>.metrics <span style=color:#ff7b72;font-weight:700>=</span> {
</span></span><span style=display:flex><span>      navigation<span style=color:#ff7b72;font-weight:700>:</span> {},
</span></span><span style=display:flex><span>      resources<span style=color:#ff7b72;font-weight:700>:</span> [],
</span></span><span style=display:flex><span>      vitals<span style=color:#ff7b72;font-weight:700>:</span> {},
</span></span><span style=display:flex><span>      userInteractions<span style=color:#ff7b72;font-weight:700>:</span> []
</span></span><span style=display:flex><span>    };
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>this</span>.thresholds <span style=color:#ff7b72;font-weight:700>=</span> {
</span></span><span style=display:flex><span>      LCP<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>2500</span>,
</span></span><span style=display:flex><span>      FID<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>100</span>,
</span></span><span style=display:flex><span>      CLS<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>0.1</span>,
</span></span><span style=display:flex><span>      TTFB<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>800</span>,
</span></span><span style=display:flex><span>      FCP<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>1800</span>
</span></span><span style=display:flex><span>    };
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>this</span>.startMonitoring();
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#8b949e;font-style:italic>// å¼€å§‹ç›‘æ§
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>  startMonitoring() {
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>this</span>.observeNavigation();
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>this</span>.observeResources();
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>this</span>.observeWebVitals();
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>this</span>.observeUserInteractions();
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>this</span>.startContinuousMonitoring();
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#8b949e;font-style:italic>// è§‚å¯Ÿé¡µé¢å¯¼èˆª
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>  observeNavigation() {
</span></span><span style=display:flex><span>    window.addEventListener(<span style=color:#a5d6ff>&#39;load&#39;</span>, () =&gt; {
</span></span><span style=display:flex><span>      <span style=color:#ff7b72>const</span> navigation <span style=color:#ff7b72;font-weight:700>=</span> performance.getEntriesByType(<span style=color:#a5d6ff>&#39;navigation&#39;</span>)[<span style=color:#a5d6ff>0</span>];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#ff7b72>this</span>.metrics.navigation <span style=color:#ff7b72;font-weight:700>=</span> {
</span></span><span style=display:flex><span>        dnsLookup<span style=color:#ff7b72;font-weight:700>:</span> navigation.domainLookupEnd <span style=color:#ff7b72;font-weight:700>-</span> navigation.domainLookupStart,
</span></span><span style=display:flex><span>        tcpConnect<span style=color:#ff7b72;font-weight:700>:</span> navigation.connectEnd <span style=color:#ff7b72;font-weight:700>-</span> navigation.connectStart,
</span></span><span style=display:flex><span>        sslHandshake<span style=color:#ff7b72;font-weight:700>:</span> navigation.secureConnectionStart <span style=color:#ff7b72;font-weight:700>&gt;</span> <span style=color:#a5d6ff>0</span>
</span></span><span style=display:flex><span>          <span style=color:#ff7b72;font-weight:700>?</span> navigation.connectEnd <span style=color:#ff7b72;font-weight:700>-</span> navigation.secureConnectionStart
</span></span><span style=display:flex><span>          <span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>0</span>,
</span></span><span style=display:flex><span>        ttfb<span style=color:#ff7b72;font-weight:700>:</span> navigation.responseStart <span style=color:#ff7b72;font-weight:700>-</span> navigation.requestStart,
</span></span><span style=display:flex><span>        download<span style=color:#ff7b72;font-weight:700>:</span> navigation.responseEnd <span style=color:#ff7b72;font-weight:700>-</span> navigation.responseStart,
</span></span><span style=display:flex><span>        domParse<span style=color:#ff7b72;font-weight:700>:</span> navigation.domContentLoadedEventStart <span style=color:#ff7b72;font-weight:700>-</span> navigation.responseEnd,
</span></span><span style=display:flex><span>        domReady<span style=color:#ff7b72;font-weight:700>:</span> navigation.domContentLoadedEventEnd <span style=color:#ff7b72;font-weight:700>-</span> navigation.domContentLoadedEventStart,
</span></span><span style=display:flex><span>        pageLoad<span style=color:#ff7b72;font-weight:700>:</span> navigation.loadEventEnd <span style=color:#ff7b72;font-weight:700>-</span> navigation.loadEventStart
</span></span><span style=display:flex><span>      };
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#ff7b72>this</span>.analyzeNavigationPerformance();
</span></span><span style=display:flex><span>    });
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#8b949e;font-style:italic>// è§‚å¯Ÿèµ„æºåŠ è½½
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>  observeResources() {
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>const</span> observer <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#ff7b72>new</span> PerformanceObserver((list) =&gt; {
</span></span><span style=display:flex><span>      <span style=color:#ff7b72>const</span> entries <span style=color:#ff7b72;font-weight:700>=</span> list.getEntries();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      entries.forEach(entry =&gt; {
</span></span><span style=display:flex><span>        <span style=color:#ff7b72>if</span> (entry.entryType <span style=color:#ff7b72;font-weight:700>===</span> <span style=color:#a5d6ff>&#39;resource&#39;</span>) {
</span></span><span style=display:flex><span>          <span style=color:#ff7b72>this</span>.metrics.resources.push({
</span></span><span style=display:flex><span>            name<span style=color:#ff7b72;font-weight:700>:</span> entry.name,
</span></span><span style=display:flex><span>            type<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#ff7b72>this</span>.getResourceType(entry.name),
</span></span><span style=display:flex><span>            duration<span style=color:#ff7b72;font-weight:700>:</span> entry.duration,
</span></span><span style=display:flex><span>            size<span style=color:#ff7b72;font-weight:700>:</span> entry.transferSize,
</span></span><span style=display:flex><span>            cached<span style=color:#ff7b72;font-weight:700>:</span> entry.transferSize <span style=color:#ff7b72;font-weight:700>===</span> <span style=color:#a5d6ff>0</span> <span style=color:#ff7b72;font-weight:700>&amp;&amp;</span> entry.decodedBodySize <span style=color:#ff7b72;font-weight:700>&gt;</span> <span style=color:#a5d6ff>0</span>,
</span></span><span style=display:flex><span>            startTime<span style=color:#ff7b72;font-weight:700>:</span> entry.startTime
</span></span><span style=display:flex><span>          });
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>      });
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#ff7b72>this</span>.analyzeResourcePerformance();
</span></span><span style=display:flex><span>    });
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    observer.observe({ entryTypes<span style=color:#ff7b72;font-weight:700>:</span> [<span style=color:#a5d6ff>&#39;resource&#39;</span>] });
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#8b949e;font-style:italic>// è§‚å¯ŸWeb Vitals
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>  observeWebVitals() {
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic>// LCP
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    <span style=color:#ff7b72>this</span>.observeLCP();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic>// FID
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    <span style=color:#ff7b72>this</span>.observeFID();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic>// CLS
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    <span style=color:#ff7b72>this</span>.observeCLS();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic>// å…¶ä»–æŒ‡æ ‡
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    <span style=color:#ff7b72>this</span>.observeFCP();
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>this</span>.observeTTFB();
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#8b949e;font-style:italic>// è§‚å¯ŸLCP
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>  observeLCP() {
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>new</span> PerformanceObserver((entryList) =&gt; {
</span></span><span style=display:flex><span>      <span style=color:#ff7b72>const</span> entries <span style=color:#ff7b72;font-weight:700>=</span> entryList.getEntries();
</span></span><span style=display:flex><span>      <span style=color:#ff7b72>const</span> lastEntry <span style=color:#ff7b72;font-weight:700>=</span> entries[entries.length <span style=color:#ff7b72;font-weight:700>-</span> <span style=color:#a5d6ff>1</span>];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#ff7b72>this</span>.metrics.vitals.LCP <span style=color:#ff7b72;font-weight:700>=</span> {
</span></span><span style=display:flex><span>        value<span style=color:#ff7b72;font-weight:700>:</span> lastEntry.renderTime <span style=color:#ff7b72;font-weight:700>||</span> lastEntry.loadTime,
</span></span><span style=display:flex><span>        element<span style=color:#ff7b72;font-weight:700>:</span> lastEntry.element<span style=color:#ff7b72;font-weight:700>?</span>.tagName,
</span></span><span style=display:flex><span>        url<span style=color:#ff7b72;font-weight:700>:</span> lastEntry.url
</span></span><span style=display:flex><span>      };
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#ff7b72>this</span>.evaluateMetric(<span style=color:#a5d6ff>&#39;LCP&#39;</span>, <span style=color:#ff7b72>this</span>.metrics.vitals.LCP.value);
</span></span><span style=display:flex><span>    }).observe({ entryTypes<span style=color:#ff7b72;font-weight:700>:</span> [<span style=color:#a5d6ff>&#39;largest-contentful-paint&#39;</span>] });
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#8b949e;font-style:italic>// è§‚å¯Ÿç”¨æˆ·äº¤äº’
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>  observeUserInteractions() {
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>const</span> interactionEvents <span style=color:#ff7b72;font-weight:700>=</span> [<span style=color:#a5d6ff>&#39;click&#39;</span>, <span style=color:#a5d6ff>&#39;keydown&#39;</span>, <span style=color:#a5d6ff>&#39;scroll&#39;</span>, <span style=color:#a5d6ff>&#39;touchstart&#39;</span>];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    interactionEvents.forEach(eventType =&gt; {
</span></span><span style=display:flex><span>      document.addEventListener(eventType, (event) =&gt; {
</span></span><span style=display:flex><span>        <span style=color:#ff7b72>const</span> interaction <span style=color:#ff7b72;font-weight:700>=</span> {
</span></span><span style=display:flex><span>          type<span style=color:#ff7b72;font-weight:700>:</span> eventType,
</span></span><span style=display:flex><span>          timestamp<span style=color:#ff7b72;font-weight:700>:</span> Date.now(),
</span></span><span style=display:flex><span>          target<span style=color:#ff7b72;font-weight:700>:</span> event.target.tagName,
</span></span><span style=display:flex><span>          coordinates<span style=color:#ff7b72;font-weight:700>:</span> {
</span></span><span style=display:flex><span>            x<span style=color:#ff7b72;font-weight:700>:</span> event.clientX,
</span></span><span style=display:flex><span>            y<span style=color:#ff7b72;font-weight:700>:</span> event.clientY
</span></span><span style=display:flex><span>          }
</span></span><span style=display:flex><span>        };
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#ff7b72>this</span>.metrics.userInteractions.push(interaction);
</span></span><span style=display:flex><span>        <span style=color:#ff7b72>this</span>.analyzeInteractionPattern(interaction);
</span></span><span style=display:flex><span>      });
</span></span><span style=display:flex><span>    });
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#8b949e;font-style:italic>// å¼€å§‹æŒç»­ç›‘æ§
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>  startContinuousMonitoring() {
</span></span><span style=display:flex><span>    setInterval(() =&gt; {
</span></span><span style=display:flex><span>      <span style=color:#ff7b72>this</span>.collectRealTimeMetrics();
</span></span><span style=display:flex><span>      <span style=color:#ff7b72>this</span>.detectPerformanceAnomalies();
</span></span><span style=display:flex><span>      <span style=color:#ff7b72>this</span>.updateDashboard();
</span></span><span style=display:flex><span>    }, <span style=color:#a5d6ff>5000</span>); <span style=color:#8b949e;font-style:italic>// æ¯5ç§’æ›´æ–°ä¸€æ¬¡
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#8b949e;font-style:italic>// æ”¶é›†å®æ—¶æŒ‡æ ‡
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>  collectRealTimeMetrics() {
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>const</span> realTimeMetrics <span style=color:#ff7b72;font-weight:700>=</span> {
</span></span><span style=display:flex><span>      timestamp<span style=color:#ff7b72;font-weight:700>:</span> Date.now(),
</span></span><span style=display:flex><span>      memory<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#ff7b72>this</span>.getMemoryUsage(),
</span></span><span style=display:flex><span>      network<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#ff7b72>this</span>.getNetworkInfo(),
</span></span><span style=display:flex><span>      rendering<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#ff7b72>this</span>.getRenderingPerformance(),
</span></span><span style=display:flex><span>      activeTime<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#ff7b72>this</span>.getActiveTime()
</span></span><span style=display:flex><span>    };
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>this</span>.metrics.realTime <span style=color:#ff7b72;font-weight:700>=</span> realTimeMetrics;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#8b949e;font-style:italic>// è·å–å†…å­˜ä½¿ç”¨æƒ…å†µ
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>  getMemoryUsage() {
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>if</span> (performance.memory) {
</span></span><span style=display:flex><span>      <span style=color:#ff7b72>return</span> {
</span></span><span style=display:flex><span>        used<span style=color:#ff7b72;font-weight:700>:</span> performance.memory.usedJSHeapSize,
</span></span><span style=display:flex><span>        total<span style=color:#ff7b72;font-weight:700>:</span> performance.memory.totalJSHeapSize,
</span></span><span style=display:flex><span>        limit<span style=color:#ff7b72;font-weight:700>:</span> performance.memory.jsHeapSizeLimit,
</span></span><span style=display:flex><span>        percentage<span style=color:#ff7b72;font-weight:700>:</span> (performance.memory.usedJSHeapSize <span style=color:#ff7b72;font-weight:700>/</span> performance.memory.jsHeapSizeLimit) <span style=color:#ff7b72;font-weight:700>*</span> <span style=color:#a5d6ff>100</span>
</span></span><span style=display:flex><span>      };
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>return</span> <span style=color:#79c0ff>null</span>;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#8b949e;font-style:italic>// æ£€æµ‹æ€§èƒ½å¼‚å¸¸
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>  detectPerformanceAnomalies() {
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>const</span> anomalies <span style=color:#ff7b72;font-weight:700>=</span> [];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic>// æ£€æµ‹å†…å­˜æ³„æ¼
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    <span style=color:#ff7b72>if</span> (<span style=color:#ff7b72>this</span>.metrics.realTime<span style=color:#ff7b72;font-weight:700>?</span>.memory<span style=color:#ff7b72;font-weight:700>?</span>.percentage <span style=color:#ff7b72;font-weight:700>&gt;</span> <span style=color:#a5d6ff>80</span>) {
</span></span><span style=display:flex><span>      anomalies.push({
</span></span><span style=display:flex><span>        type<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;memory_leak&#39;</span>,
</span></span><span style=display:flex><span>        severity<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;high&#39;</span>,
</span></span><span style=display:flex><span>        message<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;Memory usage is above 80%&#39;</span>
</span></span><span style=display:flex><span>      });
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic>// æ£€æµ‹é•¿æ—¶é—´ä»»åŠ¡
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    <span style=color:#ff7b72>const</span> longTasks <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#ff7b72>this</span>.getLongTasks();
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>if</span> (longTasks.length <span style=color:#ff7b72;font-weight:700>&gt;</span> <span style=color:#a5d6ff>0</span>) {
</span></span><span style=display:flex><span>      anomalies.push({
</span></span><span style=display:flex><span>        type<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;long_tasks&#39;</span>,
</span></span><span style=display:flex><span>        severity<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;medium&#39;</span>,
</span></span><span style=display:flex><span>        message<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>`Detected </span><span style=color:#a5d6ff>${</span>longTasks.length<span style=color:#a5d6ff>}</span><span style=color:#a5d6ff> long tasks`</span>,
</span></span><span style=display:flex><span>        details<span style=color:#ff7b72;font-weight:700>:</span> longTasks
</span></span><span style=display:flex><span>      });
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic>// æ£€æµ‹ç½‘ç»œé—®é¢˜
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>    <span style=color:#ff7b72>if</span> (<span style=color:#ff7b72>this</span>.metrics.realTime<span style=color:#ff7b72;font-weight:700>?</span>.network<span style=color:#ff7b72;font-weight:700>?</span>.effectiveType <span style=color:#ff7b72;font-weight:700>===</span> <span style=color:#a5d6ff>&#39;slow-2g&#39;</span>) {
</span></span><span style=display:flex><span>      anomalies.push({
</span></span><span style=display:flex><span>        type<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;slow_network&#39;</span>,
</span></span><span style=display:flex><span>        severity<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;medium&#39;</span>,
</span></span><span style=display:flex><span>        message<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>&#39;Network connection is very slow&#39;</span>
</span></span><span style=display:flex><span>      });
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>if</span> (anomalies.length <span style=color:#ff7b72;font-weight:700>&gt;</span> <span style=color:#a5d6ff>0</span>) {
</span></span><span style=display:flex><span>      <span style=color:#ff7b72>this</span>.handleAnomalies(anomalies);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#8b949e;font-style:italic>// å¤„ç†å¼‚å¸¸
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>  handleAnomalies(anomalies) {
</span></span><span style=display:flex><span>    anomalies.forEach(anomaly =&gt; {
</span></span><span style=display:flex><span>      console.warn(<span style=color:#a5d6ff>&#39;Performance anomaly detected:&#39;</span>, anomaly);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#8b949e;font-style:italic>// å‘é€å‘Šè­¦
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>      <span style=color:#ff7b72>this</span>.sendAlert(anomaly);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#8b949e;font-style:italic>// å°è¯•è‡ªåŠ¨ä¿®å¤
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>      <span style=color:#ff7b72>this</span>.attemptAutoFix(anomaly);
</span></span><span style=display:flex><span>    });
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#8b949e;font-style:italic>// å°è¯•è‡ªåŠ¨ä¿®å¤
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>  attemptAutoFix(anomaly) {
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>switch</span> (anomaly.type) {
</span></span><span style=display:flex><span>      <span style=color:#ff7b72>case</span> <span style=color:#a5d6ff>&#39;memory_leak&#39;</span><span style=color:#ff7b72;font-weight:700>:</span>
</span></span><span style=display:flex><span>        <span style=color:#ff7b72>this</span>.triggerGarbageCollection();
</span></span><span style=display:flex><span>        <span style=color:#ff7b72>break</span>;
</span></span><span style=display:flex><span>      <span style=color:#ff7b72>case</span> <span style=color:#a5d6ff>&#39;long_tasks&#39;</span><span style=color:#ff7b72;font-weight:700>:</span>
</span></span><span style=display:flex><span>        <span style=color:#ff7b72>this</span>.optimizeTaskScheduling();
</span></span><span style=display:flex><span>        <span style=color:#ff7b72>break</span>;
</span></span><span style=display:flex><span>      <span style=color:#ff7b72>case</span> <span style=color:#a5d6ff>&#39;slow_network&#39;</span><span style=color:#ff7b72;font-weight:700>:</span>
</span></span><span style=display:flex><span>        <span style=color:#ff7b72>this</span>.enableDataSavingMode();
</span></span><span style=display:flex><span>        <span style=color:#ff7b72>break</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#8b949e;font-style:italic>// æ›´æ–°ä»ªè¡¨æ¿
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>  updateDashboard() {
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>const</span> dashboardData <span style=color:#ff7b72;font-weight:700>=</span> {
</span></span><span style=display:flex><span>      vitals<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#ff7b72>this</span>.metrics.vitals,
</span></span><span style=display:flex><span>      realTime<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#ff7b72>this</span>.metrics.realTime,
</span></span><span style=display:flex><span>      resources<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#ff7b72>this</span>.getResourceSummary(),
</span></span><span style=display:flex><span>      score<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#ff7b72>this</span>.calculatePerformanceScore()
</span></span><span style=display:flex><span>    };
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>this</span>.renderDashboard(dashboardData);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#8b949e;font-style:italic>// è®¡ç®—æ€§èƒ½è¯„åˆ†
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span>  calculatePerformanceScore() {
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>const</span> weights <span style=color:#ff7b72;font-weight:700>=</span> {
</span></span><span style=display:flex><span>      LCP<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>0.3</span>,
</span></span><span style=display:flex><span>      FID<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>0.2</span>,
</span></span><span style=display:flex><span>      CLS<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>0.2</span>,
</span></span><span style=display:flex><span>      FCP<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>0.15</span>,
</span></span><span style=display:flex><span>      TTFB<span style=color:#ff7b72;font-weight:700>:</span> <span style=color:#a5d6ff>0.15</span>
</span></span><span style=display:flex><span>    };
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>let</span> totalScore <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#a5d6ff>0</span>;
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>let</span> totalWeight <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#a5d6ff>0</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    Object.entries(weights).forEach(([metric, weight]) =&gt; {
</span></span><span style=display:flex><span>      <span style=color:#ff7b72>const</span> value <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#ff7b72>this</span>.metrics.vitals[metric]<span style=color:#ff7b72;font-weight:700>?</span>.value <span style=color:#ff7b72;font-weight:700>||</span> <span style=color:#a5d6ff>0</span>;
</span></span><span style=display:flex><span>      <span style=color:#ff7b72>const</span> threshold <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#ff7b72>this</span>.thresholds[metric];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#ff7b72>let</span> score;
</span></span><span style=display:flex><span>      <span style=color:#ff7b72>if</span> (value <span style=color:#ff7b72;font-weight:700>&lt;=</span> threshold) {
</span></span><span style=display:flex><span>        score <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#a5d6ff>100</span>;
</span></span><span style=display:flex><span>      } <span style=color:#ff7b72>else</span> <span style=color:#ff7b72>if</span> (value <span style=color:#ff7b72;font-weight:700>&lt;=</span> threshold <span style=color:#ff7b72;font-weight:700>*</span> <span style=color:#a5d6ff>2</span>) {
</span></span><span style=display:flex><span>        score <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#a5d6ff>100</span> <span style=color:#ff7b72;font-weight:700>-</span> ((value <span style=color:#ff7b72;font-weight:700>-</span> threshold) <span style=color:#ff7b72;font-weight:700>/</span> threshold) <span style=color:#ff7b72;font-weight:700>*</span> <span style=color:#a5d6ff>50</span>;
</span></span><span style=display:flex><span>      } <span style=color:#ff7b72>else</span> {
</span></span><span style=display:flex><span>        score <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#a5d6ff>50</span> <span style=color:#ff7b72;font-weight:700>-</span> ((value <span style=color:#ff7b72;font-weight:700>-</span> threshold <span style=color:#ff7b72;font-weight:700>*</span> <span style=color:#a5d6ff>2</span>) <span style=color:#ff7b72;font-weight:700>/</span> threshold) <span style=color:#ff7b72;font-weight:700>*</span> <span style=color:#a5d6ff>25</span>;
</span></span><span style=display:flex><span>        score <span style=color:#ff7b72;font-weight:700>=</span> Math.max(<span style=color:#a5d6ff>0</span>, score);
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      totalScore <span style=color:#ff7b72;font-weight:700>+=</span> score <span style=color:#ff7b72;font-weight:700>*</span> weight;
</span></span><span style=display:flex><span>      totalWeight <span style=color:#ff7b72;font-weight:700>+=</span> weight;
</span></span><span style=display:flex><span>    });
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>return</span> totalScore <span style=color:#ff7b72;font-weight:700>/</span> totalWeight;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span></code></pre></td></tr></table></div></div><h2 id=æ€»ç»“>æ€»ç»“<a hidden class=anchor aria-hidden=true href=#æ€»ç»“>#</a></h2><p>å‰ç«¯æ€§èƒ½ä¼˜åŒ–æ˜¯ä¸€ä¸ªæŒç»­çš„è¿‡ç¨‹ï¼Œéœ€è¦ç»¼åˆè€ƒè™‘å¤šä¸ªæ–¹é¢ï¼š</p><ol><li><strong>Core Web Vitalsä¼˜åŒ–</strong>ï¼šé‡ç‚¹å…³æ³¨LCPã€FIDã€CLSä¸‰å¤§æŒ‡æ ‡</li><li><strong>èµ„æºåŠ è½½ä¼˜åŒ–</strong>ï¼šä½¿ç”¨ç°ä»£åŠ è½½ç­–ç•¥å’Œç¼“å­˜æŠ€æœ¯</li><li><strong>ä»£ç ä¼˜åŒ–</strong>ï¼šå‡å°‘åŒ…å¤§å°ï¼Œä¼˜åŒ–æ‰§è¡Œæ•ˆç‡</li><li><strong>æ¸²æŸ“æ€§èƒ½</strong>ï¼šä¼˜åŒ–DOMæ“ä½œå’Œæ ·å¼è®¡ç®—</li><li><strong>ç›‘æ§åˆ†æ</strong>ï¼šå»ºç«‹å®Œå–„çš„æ€§èƒ½ç›‘æ§ä½“ç³»</li></ol><p>é€šè¿‡åº”ç”¨è¿™äº›ä¼˜åŒ–æŠ€æœ¯ï¼Œä½ å¯ä»¥æ˜¾è‘—æå‡Webåº”ç”¨çš„æ€§èƒ½ï¼Œä¸ºç”¨æˆ·æä¾›æ›´å¥½çš„ä½¿ç”¨ä½“éªŒã€‚è®°ä½ï¼Œæ€§èƒ½ä¼˜åŒ–æ˜¯ä¸€ä¸ªæŒç»­è¿­ä»£çš„è¿‡ç¨‹ï¼Œéœ€è¦ä¸æ–­æµ‹è¯•ã€ç›‘æ§å’Œæ”¹è¿›ã€‚</p></div><footer class=post-footer-modern><div class=post-tags-modern><span class=tags-label>ğŸ·ï¸ æ ‡ç­¾</span><div class=tags-list><a href=/blog/tags/%E5%89%8D%E7%AB%AF%E6%80%A7%E8%83%BD/ class=tag-pill>å‰ç«¯æ€§èƒ½
</a><a href=/blog/tags/web-vitals/ class=tag-pill>Web Vitals
</a><a href=/blog/tags/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/ class=tag-pill>æ€§èƒ½ä¼˜åŒ–
</a><a href=/blog/tags/%E7%94%A8%E6%88%B7%E4%BD%93%E9%AA%8C/ class=tag-pill>ç”¨æˆ·ä½“éªŒ
</a><a href=/blog/tags/%E7%8E%B0%E4%BB%A3web/ class=tag-pill>ç°ä»£Web</a></div></div><style>.post-footer-modern{margin-top:3rem;padding-top:2rem;border-top:1px solid var(--border,#333333)}.post-tags-modern{display:flex;align-items:center;gap:1rem;margin-bottom:2rem;flex-wrap:wrap}.tags-label{font-size:.875rem;font-weight:600;color:var(--secondary,#999999) !important;white-space:nowrap}.tags-list{display:flex;flex-wrap:wrap;gap:.5rem;flex:1}.tag-pill{display:inline-block;padding:.25rem .75rem;background:rgba(255,255,255,5%);border:1px solid var(--border,#333333);border-radius:0;color:var(--secondary,#cccccc) !important;text-decoration:none;font-size:.8rem;font-weight:500;transition:all .2s ease}.tag-pill:hover{background:var(--primary,#ffffff);color:var(--background,#000000) !important;border-color:var(--primary,#ffffff);transform:translateY(-1px)}.post-nav-modern{margin-top:2rem}.nav-grid{display:grid;grid-template-columns:1fr 1fr;gap:1rem}.nav-card{display:flex;align-items:center;gap:1rem;padding:1.25rem;background:rgba(255,255,255,2%);border:1px solid var(--border,#333333);border-radius:12px;text-decoration:none;transition:all .2s ease;min-height:80px}.nav-card:hover{background:rgba(255,255,255,5%);border-color:var(--primary,#ffffff);transform:translateY(-2px)}.nav-card.nav-prev{justify-content:flex-start}.nav-card.nav-next{justify-content:flex-end;text-align:right}.nav-card.nav-next .nav-content{text-align:right}.nav-empty{display:flex;align-items:center;justify-content:center;background:rgba(255,255,255,1%);border:1px dashed var(--border,#333333);color:var(--secondary,#666666)}.nav-arrow{font-size:1.5rem;color:var(--primary,#ffffff);font-weight:300}.nav-content{flex:1}.nav-title{font-size:.95rem;font-weight:600;color:var(--primary,#ffffff) !important;line-height:1.4;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}[data-theme=light] .post-footer-modern{border-color:var(--border-light,#dee2e6)}[data-theme=light] .tags-label{color:var(--secondary-light,#6c757d) !important}[data-theme=light] .tag-pill{background:rgba(0,0,0,5%);border-color:var(--border-light,#dee2e6);color:var(--secondary-light,#495057) !important}[data-theme=light] .tag-pill:hover{background:var(--primary-light,#0066cc);color:var(--background-light,#ffffff) !important;border-color:var(--primary-light,#0066cc)}[data-theme=light] .nav-card{background:rgba(0,0,0,2%);border-color:var(--border-light,#dee2e6)}[data-theme=light] .nav-card:hover{background:rgba(0,102,204,5%);border-color:var(--primary-light,#0066cc)}[data-theme=light] .nav-empty{background:rgba(0,0,0,1%);border-color:var(--border-light,#dee2e6);color:var(--secondary-light,#6c757d)}[data-theme=light] .nav-arrow{color:var(--primary-light,#0066cc)}[data-theme=light] .nav-title{color:var(--primary-light,#212529) !important}@media(max-width:768px){.nav-grid{grid-template-columns:1fr;gap:.75rem}.nav-card{padding:1rem;min-height:70px}.nav-card.nav-next{text-align:left}.nav-card.nav-next .nav-content{text-align:left}.nav-title{font-size:.875rem}.post-tags-modern{flex-direction:column;gap:.75rem}}@media(max-width:480px){.nav-arrow{font-size:1.25rem}.nav-card{padding:.875rem}.nav-title{font-size:.8rem;-webkit-line-clamp:1}}</style><nav class=post-nav-modern><div class=nav-grid><a href=/blog/articles/%E7%8E%B0%E4%BB%A3%E6%9C%8D%E5%8A%A1%E5%99%A8%E8%BF%90%E7%BB%B4%E5%AE%8C%E5%85%A8%E6%8C%87%E5%8D%97%E8%87%AA%E5%8A%A8%E5%8C%96%E7%9B%91%E6%8E%A7%E4%B8%8E%E6%99%BA%E8%83%BD%E8%BF%90%E7%BB%B4%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5/ class="nav-card nav-prev"><div class=nav-arrow>â†</div><div class=nav-content><div class=nav-title>ç°ä»£æœåŠ¡å™¨è¿ç»´å®Œå…¨æŒ‡å—ï¼šè‡ªåŠ¨åŒ–ç›‘æ§ä¸æ™ºèƒ½è¿ç»´æœ€ä½³å®è·µ</div></div></a><div class="nav-card nav-empty"><div class=nav-content><div class=nav-title>å·²æ˜¯æœ€åä¸€ç¯‡</div></div></div></div></nav></footer></main><aside class=post-sidebar><div class=sidebar-toc id=sidebar-toc><div class=toc-header><div class=toc-title>ç›®å½•</div><button class=toc-toggle id=toc-toggle aria-label="Toggle TOC">
<svg class="toc-toggle-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M18 6 6 18M6 6l12 12"/></svg></button></div><div class=toc-content id=toc-content><ul class=toc-list><li class="toc-item toc-h2"><a href=#h2-0 class=toc-item-link><span class=toc-item-text>Core Web Vitalsä¼˜åŒ–</span></a></li><li class="toc-item toc-h2"><a href=#h2-1 class=toc-item-link><span class=toc-item-text>ç°ä»£æ€§èƒ½ä¼˜åŒ–æŠ€æœ¯</span></a></li><li class="toc-item toc-h2"><a href=#h2-2 class=toc-item-link><span class=toc-item-text>æ€§èƒ½ç›‘æ§ä¸åˆ†æ</span></a></li><li class="toc-item toc-h2"><a href=#h2-3 class=toc-item-link><span class=toc-item-text>æ€»ç»“</span></a></li></ul></div></div><script>document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("sidebar-toc"),t=document.getElementById("toc-toggle"),o=document.getElementById("toc-content"),i=t?.querySelector(".toc-toggle-icon");if(!e)return;let n=!1;t&&t.addEventListener("click",function(){n=!n,n?(o.style.display="none",e.style.width="auto",i.innerHTML='<path d="M9 18l6-6-6-6"/>'):(o.style.display="block",e.style.width="200px",i.innerHTML='<path d="M18 6L6 18M6 6l12 12"/>')});const s=document.querySelector(".post-content");if(s){const e=s.querySelectorAll("h1");e.forEach((e,t)=>{e.id=`h1-${t}`});const t=s.querySelectorAll("h2");t.forEach((e,t)=>{e.id=`h2-${t}`})}const a=document.querySelectorAll(".toc-item-link");a.forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();const n=this.getAttribute("href").substring(1),t=document.getElementById(n);if(t){const e=document.querySelector(".post-header-main")?.offsetHeight||0,n=t.offsetTop-e-20;window.scrollTo({top:n,behavior:"smooth"})}})})})</script><style>.sidebar-toc{position:sticky;top:2rem;width:200px;background:#fff;border:1px solid #e5e7eb;border-radius:4px;overflow:hidden;box-shadow:0 1px 3px rgba(0,0,0,.1);z-index:100}.sidebar-toc.hidden{display:none}.toc-header{padding:12px 16px;border-bottom:1px solid #e5e7eb;background:#fafbfc;display:flex;align-items:center;justify-content:space-between}.toc-title{margin:0;font-size:13px;font-weight:500;color:#374151 !important;font-family:-apple-system,BlinkMacSystemFont,segoe ui,Roboto,sans-serif;text-transform:uppercase;letter-spacing:1px}.toc-toggle{background:0 0;border:none;cursor:pointer;padding:4px;border-radius:4px;display:flex;align-items:center;justify-content:center;transition:all .2s ease;color:#6b7280}.toc-toggle:hover{background:#e5e7eb;color:#374151}.toc-toggle-icon{transition:transform .2s ease}.toc-content{padding:12px 0}.toc-list{list-style:none;margin:0;padding:0}.toc-item{margin-bottom:4px;display:block !important;visibility:visible !important}.toc-h1,.toc-h2{display:block !important}.toc-h2{margin-left:0}.toc-item-link{display:flex;align-items:center;gap:8px;padding:8px 12px;color:#374151 !important;text-decoration:none;font-size:13px;line-height:1.4;border-radius:3px;transition:all .2s ease;font-weight:400}.toc-item-link:hover{background:#f8fafc;color:#1f2937 !important}.toc-item-link.active{background:#e0f2fe;color:#01579b !important;font-weight:500}.toc-dot{width:8px;height:8px;border-radius:50%;flex-shrink:0}.dot-red{background:#ef4444}.dot-blue{background:#2196f3}.toc-item-text{color:#1f2937 !important;font-weight:400;flex:1;display:inline !important;visibility:visible !important;opacity:1 !important;font-size:13px !important;line-height:1.4 !important}.toc-item-link .toc-item-text{color:#1f2937 !important;display:inline !important;visibility:visible !important;opacity:1 !important}.toc-item.active .dot-red{background:#d32f2f}.toc-item.active .dot-blue{background:#1976d2}[data-theme=dark] .sidebar-toc{background:#1f2937;border-color:#374151;box-shadow:0 1px 3px rgba(0,0,0,.3)}[data-theme=dark] .toc-header{background:#111827;border-color:#374151}[data-theme=dark] .toc-title{color:#f3f4f6 !important}[data-theme=dark] .toc-toggle{color:#9ca3af}[data-theme=dark] .toc-toggle:hover{background:#374151;color:#f3f4f6}[data-theme=dark] .toc-item-link{color:#e5e7eb !important}[data-theme=dark] .toc-item-link:hover{background:#374151;color:#f9fafb !important}[data-theme=dark] .toc-item-link.active{background:#0d47a1;color:#fff !important}[data-theme=dark] .toc-item-text{color:#f9fafb !important;display:inline !important;visibility:visible !important;opacity:1 !important}[data-theme=dark] .toc-item-link .toc-item-text{color:#f9fafb !important;display:inline !important;visibility:visible !important;opacity:1 !important}@media(max-width:1024px){.sidebar-toc{display:none}.post-content-wrapper{grid-template-columns:1fr !important;padding:0 1rem !important}}</style><style>.post-content-wrapper{display:grid;grid-template-columns:1fr 200px;gap:2rem;padding:0 2rem;max-width:100%}.post-content-main{min-width:0}.post-sidebar{position:sticky;top:2rem;height:fit-content;min-width:0}.post-header-main{margin-bottom:2rem;padding-bottom:1rem;border-bottom:1px solid var(--border,#333333)}.post-header-main .post-title{color:var(--primary,#ffffff) !important;font-size:2.5rem;font-weight:700;line-height:1.2;margin-bottom:1rem}.post-header-main .post-description{color:var(--secondary,#cccccc) !important;font-size:1.1rem;line-height:1.6;margin-bottom:1rem}.post-header-main .post-meta{margin-bottom:0}@media(max-width:1024px){.post-content-wrapper{grid-template-columns:1fr !important;gap:1rem;padding:0 1rem !important}.post-sidebar{display:none}}@media(max-width:768px){.post-header-main .post-title{font-size:2rem}.post-header-main .post-description{font-size:1rem}}</style></aside></div></article></main><footer class=footer><span>Â© 2024-2025 æœ‰æ¡å·¥å…·æŠ€æœ¯åšå®¢</span> Â·</footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");if(menu){const e=localStorage.getItem("menu-scroll-position");e&&(menu.scrollLeft=parseInt(e,10)),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}}document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{const e=document.querySelector("html");e.dataset.theme==="dark"?(e.dataset.theme="light",localStorage.setItem("pref-theme","light")):(e.dataset.theme="dark",localStorage.setItem("pref-theme","dark"))})</script></body></html>