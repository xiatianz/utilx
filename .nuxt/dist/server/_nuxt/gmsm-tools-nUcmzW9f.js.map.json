{"file":"gmsm-tools-nUcmzW9f.js","mappings":"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","names":["_ssrRenderAttrs","_mergeProps","_ssrRenderList","_ssrInterpolate","_ssrIncludeBooleanAttr","_unref"],"sources":["../../../../src/pages/tools/gmsm-tools.vue"],"sourcesContent":["<template>\n  <div class=\"max-w-8xl mx-auto\">\n    <!-- 面包屑导航 -->\n    <!-- <Breadcrumb :category=\"category\" /> -->\n\n    <!-- 工具标题 -->\n    <div class=\"mt-4 mb-8\">\n      <h1 class=\"text-3xl font-bold mb-3\">国密算法工具箱</h1>\n      <p class=\"text-muted-foreground max-w-3xl\">中国国家密码算法（SM系列）在线工具集，包括SM2、SM3、SM4等商用密码算法，满足国内密码应用需求。</p>\n    </div>\n\n    <!-- 算法选择标签 -->\n    <div class=\"flex flex-wrap gap-2 mb-8\">\n      <button\n        v-for=\"algo in algorithms\"\n        :key=\"algo.id\"\n        @click=\"selectedAlgorithm = algo.id\"\n        class=\"px-4 py-2 rounded-lg transition-colors\"\n        :class=\"{\n          'bg-primary text-primary-foreground': selectedAlgorithm === algo.id,\n          'bg-muted text-muted-foreground hover:bg-muted/80': selectedAlgorithm !== algo.id\n        }\"\n      >\n        {{ algo.name }}\n      </button>\n    </div>\n\n    <!-- SM2 非对称加密 -->\n    <div v-if=\"selectedAlgorithm === 'sm2'\" class=\"space-y-6\">\n      <!-- 密钥生成 -->\n      <div class=\"border border-border rounded-lg p-6\">\n        <h3 class=\"text-lg font-semibold mb-4\">SM2密钥对生成</h3>\n        <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n          <button\n            @click=\"generateSM2KeyPair\"\n            class=\"px-6 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors\"\n          >\n            生成SM2密钥对\n          </button>\n          <button\n            @click=\"downloadSM2Keys\"\n            :disabled=\"!sm2PublicKey || !sm2PrivateKey\"\n            class=\"px-6 py-2 bg-secondary text-secondary-foreground rounded-lg hover:bg-secondary/80 transition-colors disabled:opacity-50\"\n          >\n            下载密钥文件\n          </button>\n        </div>\n\n        <div v-if=\"sm2PublicKey || sm2PrivateKey\" class=\"mt-6 grid grid-cols-1 lg:grid-cols-2 gap-6\">\n          <div>\n            <label class=\"text-sm font-medium mb-2 block\">SM2公钥</label>\n            <textarea\n              v-model=\"sm2PublicKey\"\n              readonly\n              class=\"w-full h-32 p-3 border border-border rounded-lg bg-muted/50 font-mono text-xs\"\n            ></textarea>\n          </div>\n          <div>\n            <label class=\"text-sm font-medium mb-2 block\">SM2私钥</label>\n            <textarea\n              v-model=\"sm2PrivateKey\"\n              readonly\n              class=\"w-full h-32 p-3 border border-border rounded-lg bg-muted/50 font-mono text-xs\"\n            ></textarea>\n          </div>\n        </div>\n      </div>\n\n      <!-- SM2加密解密 -->\n      <div class=\"border border-border rounded-lg p-6\">\n        <h3 class=\"text-lg font-semibold mb-4\">SM2加密/解密</h3>\n        <div class=\"space-y-4\">\n          <div>\n            <label class=\"text-sm font-medium mb-2 block\">公钥（加密用）</label>\n            <textarea\n              v-model=\"sm2EncryptKey\"\n              placeholder=\"输入PEM格式的SM2公钥\"\n              class=\"w-full h-24 p-3 border border-border rounded-lg bg-background font-mono text-sm\"\n            ></textarea>\n          </div>\n          <div>\n            <label class=\"text-sm font-medium mb-2 block\">原始数据</label>\n            <textarea\n              v-model=\"sm2PlainText\"\n              placeholder=\"输入要加密的数据...\"\n              class=\"w-full h-32 p-3 border border-border rounded-lg bg-background resize-none\"\n            ></textarea>\n          </div>\n          <div class=\"flex gap-4\">\n            <button\n              @click=\"sm2Encrypt\"\n              :disabled=\"!sm2EncryptKey || !sm2PlainText\"\n              class=\"px-6 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 disabled:opacity-50\"\n            >\n              SM2加密\n            </button>\n            <button\n              @click=\"sm2Decrypt\"\n              :disabled=\"!sm2PrivateKey || !sm2CipherText\"\n              class=\"px-6 py-2 bg-secondary text-secondary-foreground rounded-lg hover:bg-secondary/80 disabled:opacity-50\"\n            >\n              SM2解密\n            </button>\n          </div>\n          <div v-if=\"sm2CipherText\">\n            <label class=\"text-sm font-medium mb-2 block\">加密结果（Base64）</label>\n            <textarea\n              v-model=\"sm2CipherText\"\n              readonly\n              class=\"w-full h-32 p-3 border border-border rounded-lg bg-muted/50 font-mono text-sm\"\n            ></textarea>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- SM3 哈希算法 -->\n    <div v-if=\"selectedAlgorithm === 'sm3'\" class=\"space-y-6\">\n      <div class=\"border border-border rounded-lg p-6\">\n        <h3 class=\"text-lg font-semibold mb-4\">SM3哈希计算</h3>\n        <div class=\"space-y-4\">\n          <div>\n            <label class=\"text-sm font-medium mb-2 block\">输入数据</label>\n            <textarea\n              v-model=\"sm3Input\"\n              placeholder=\"输入要计算SM3哈希的数据...\"\n              class=\"w-full h-32 p-3 border border-border rounded-lg bg-background resize-none\"\n            ></textarea>\n            <div class=\"mt-2 text-sm text-muted-foreground\">\n              长度：{{ sm3Input.length }} 字符\n            </div>\n          </div>\n          <div class=\"flex gap-4\">\n            <button\n              @click=\"calculateSM3\"\n              :disabled=\"!sm3Input\"\n              class=\"px-6 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 disabled:opacity-50\"\n            >\n              计算SM3哈希\n            </button>\n            <button\n              @click=\"clearSM3\"\n              class=\"px-6 py-2 border border-border rounded-lg hover:bg-muted\"\n            >\n              清空\n            </button>\n          </div>\n          <div v-if=\"sm3Result\">\n            <label class=\"text-sm font-medium mb-2 block\">SM3哈希值（256位/64字符）</label>\n            <div class=\"p-4 border border-border rounded-lg bg-muted/50\">\n              <div class=\"font-mono text-lg break-all\">{{ sm3Result }}</div>\n            </div>\n            <div class=\"mt-2 flex gap-2\">\n              <button\n                @click=\"copyToClipboard(sm3Result)\"\n                class=\"px-3 py-1 text-sm bg-primary/10 text-primary rounded-md hover:bg-primary/20\"\n              >\n                复制\n              </button>\n              <button\n                @click=\"sm3Result = toUpperCase ? sm3Result.toUpperCase() : sm3Result.toLowerCase()\"\n                class=\"px-3 py-1 text-sm bg-secondary/10 text-secondary-foreground rounded-md hover:bg-secondary/20\"\n              >\n                {{ toUpperCase ? '转小写' : '转大写' }}\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- SM3批量处理 -->\n      <div class=\"border border-border rounded-lg p-6\">\n        <h3 class=\"text-lg font-semibold mb-4\">批量SM3计算</h3>\n        <div class=\"space-y-4\">\n          <div>\n            <label class=\"text-sm font-medium mb-2 block\">批量输入（每行一条）</label>\n            <textarea\n              v-model=\"sm3BatchInput\"\n              placeholder=\"输入多条数据，每行一条...\"\n              class=\"w-full h-32 p-3 border border-border rounded-lg bg-background resize-none\"\n            ></textarea>\n          </div>\n          <button\n            @click=\"batchSM3\"\n            :disabled=\"!sm3BatchInput\"\n            class=\"px-6 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 disabled:opacity-50\"\n          >\n            批量计算\n          </button>\n          <div v-if=\"sm3BatchResults.length > 0\" class=\"overflow-x-auto\">\n            <table class=\"w-full text-sm border border-border\">\n              <thead class=\"bg-muted/50\">\n                <tr>\n                  <th class=\"border border-border px-4 py-2\">输入</th>\n                  <th class=\"border border-border px-4 py-2\">SM3哈希</th>\n                  <th class=\"border border-border px-4 py-2\">操作</th>\n                </tr>\n              </thead>\n              <tbody>\n                <tr v-for=\"(item, index) in sm3BatchResults\" :key=\"index\" class=\"border-b border-border\">\n                  <td class=\"border border-border px-4 py-2 max-w-xs truncate\">{{ item.input }}</td>\n                  <td class=\"border border-border px-4 py-2 font-mono text-xs\">{{ item.hash.substring(0, 20) }}...</td>\n                  <td class=\"border border-border px-4 py-2\">\n                    <button\n                      @click=\"copyToClipboard(item.hash)\"\n                      class=\"text-primary hover:text-primary/80\"\n                    >\n                      复制\n                    </button>\n                  </td>\n                </tr>\n              </tbody>\n            </table>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- SM4 对称加密 -->\n    <div v-if=\"selectedAlgorithm === 'sm4'\" class=\"space-y-6\">\n      <div class=\"border border-border rounded-lg p-6\">\n        <h3 class=\"text-lg font-semibold mb-4\">SM4加密/解密</h3>\n        <div class=\"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6\">\n          <div>\n            <label class=\"text-sm font-medium mb-2 block\">密钥（128位/16字节）</label>\n            <div class=\"flex gap-2\">\n              <input\n                v-model=\"sm4Key\"\n                type=\"password\"\n                placeholder=\"输入16字节密钥\"\n                class=\"flex-1 px-3 py-2 border border-border rounded-lg bg-background\"\n              >\n              <button\n                @click=\"generateSM4Key\"\n                class=\"px-4 py-2 bg-secondary text-secondary-foreground rounded-lg hover:bg-secondary/80\"\n              >\n                生成\n              </button>\n            </div>\n            <div class=\"mt-2 text-xs text-muted-foreground\">\n              密钥长度：{{ sm4Key.length }} 字节 (需要16字节)\n            </div>\n          </div>\n          <div>\n            <label class=\"text-sm font-medium mb-2 block\">工作模式</label>\n            <select\n              v-model=\"sm4Mode\"\n              class=\"w-full px-3 py-2 border border-border rounded-lg bg-background\"\n            >\n              <option value=\"ECB\">ECB (电子密码本)</option>\n              <option value=\"CBC\">CBC (密码块链接)</option>\n              <option value=\"CFB\">CFB (密码反馈)</option>\n              <option value=\"OFB\">OFB (输出反馈)</option>\n              <option value=\"CTR\">CTR (计数器)</option>\n            </select>\n          </div>\n        </div>\n\n        <div class=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n          <div>\n            <label class=\"text-sm font-medium mb-2 block\">原始数据</label>\n            <textarea\n              v-model=\"sm4PlainText\"\n              placeholder=\"输入要加密的数据...\"\n              class=\"w-full h-32 p-3 border border-border rounded-lg bg-background resize-none\"\n            ></textarea>\n          </div>\n          <div>\n            <label class=\"text-sm font-medium mb-2 block\">加密结果（Base64）</label>\n            <textarea\n              v-model=\"sm4CipherText\"\n              placeholder=\"加密结果...\"\n              class=\"w-full h-32 p-3 border border-border rounded-lg bg-muted/50 resize-none\"\n              readonly\n            ></textarea>\n          </div>\n        </div>\n\n        <div class=\"flex gap-4 mt-6\">\n          <button\n            @click=\"sm4Encrypt\"\n            :disabled=\"!sm4Key || sm4Key.length !== 16 || !sm4PlainText\"\n            class=\"px-6 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 disabled:opacity-50\"\n          >\n            SM4加密\n          </button>\n          <button\n            @click=\"sm4Decrypt\"\n            :disabled=\"!sm4Key || sm4Key.length !== 16 || !sm4CipherText\"\n            class=\"px-6 py-2 bg-secondary text-secondary-foreground rounded-lg hover:bg-secondary/80 disabled:opacity-50\"\n          >\n            SM4解密\n          </button>\n        </div>\n      </div>\n\n      <!-- SM4文件加密 -->\n      <div class=\"border border-border rounded-lg p-6\">\n        <h3 class=\"text-lg font-semibold mb-4\">SM4文件加密</h3>\n        <div class=\"space-y-4\">\n          <div>\n            <label class=\"text-sm font-medium mb-2 block\">选择文件</label>\n            <input\n              type=\"file\"\n              ref=\"sm4FileInput\"\n              @change=\"handleSM4File\"\n              class=\"w-full px-3 py-2 border border-border rounded-lg bg-background\"\n            >\n          </div>\n          <div v-if=\"sm4FileName\">\n            <p class=\"text-sm text-muted-foreground\">已选择文件：{{ sm4FileName }}</p>\n            <p class=\"text-sm text-muted-foreground\">文件大小：{{ sm4FileSize }}</p>\n          </div>\n          <button\n            @click=\"encryptSM4File\"\n            :disabled=\"!sm4File || !sm4Key || sm4Key.length !== 16\"\n            class=\"px-6 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 disabled:opacity-50\"\n          >\n            加密文件\n          </button>\n        </div>\n      </div>\n    </div>\n\n    <!-- 国密算法说明 -->\n    <div class=\"border border-border rounded-lg p-6 mb-8\">\n      <h3 class=\"text-lg font-semibold mb-4\">国密算法介绍</h3>\n      <div class=\"space-y-6\">\n        <div v-for=\"algo in algorithms\" :key=\"algo.id\" class=\"border-l-2 border-primary pl-4\">\n          <h4 class=\"font-medium text-primary mb-2\">{{ algo.name }}</h4>\n          <p class=\"text-sm text-muted-foreground mb-2\">{{ algo.description }}</p>\n          <div class=\"text-sm space-y-1\">\n            <div><strong>标准编号：</strong>{{ algo.standard }}</div>\n            <div><strong>主要用途：</strong>{{ algo.usage }}</div>\n            <div><strong>安全强度：</strong>{{ algo.strength }}</div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- 相关工具 -->\n    <div class=\"space-y-4\">\n      <h3 class=\"text-lg font-semibold\">相关工具</h3>\n      <div class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\n        <ToolCard\n          v-for=\"tool in relatedTools\"\n          :key=\"tool.id\"\n          :tool=\"tool\"\n          :title=\"tool.name\"\n          :description=\"tool.description\"\n          :category=\"tool.category\"\n          :usage-count=\"formatViewCount(tool.viewCount)\"\n          :icon=\"tool.icon\"\n          @select=\"handleToolSelect\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref } from 'vue'\nimport { categories } from '~/data/categories'\nimport { tools } from '~/data/tools'\nimport { addRecentTool } from '~/composables/useTools'\nimport Breadcrumb from '~/components/Breadcrumb.vue'\nimport ToolCard from '~/components/ToolCard.vue'\n\ndefinePageMeta({\n  layout: 'default'\n})\n\nconst category = categories.find(c => c.id === 'crypto')\n\n// 算法定义\nconst algorithms = [\n  {\n    id: 'sm2',\n    name: 'SM2',\n    description: '基于椭圆曲线的非对称加密算法，用于数字签名、密钥交换和加密',\n    standard: 'GM/T 0003-2012',\n    usage: '数字签名、密钥协商、数据加密',\n    strength: '256位安全强度，等效3072位RSA'\n  },\n  {\n    id: 'sm3',\n    name: 'SM3',\n    description: '密码杂凑算法，输出256位哈希值，用于数据完整性验证',\n    standard: 'GM/T 0004-2012',\n    usage: '数字签名、消息认证、随机数生成',\n    strength: '256位输出，抗碰撞攻击'\n  },\n  {\n    id: 'sm4',\n    name: 'SM4',\n    description: '分组密码算法，128位密钥和分组长度，用于数据加密',\n    standard: 'GM/T 0002-2012',\n    usage: '数据加密、文件加密、通信加密',\n    strength: '128位密钥，等效AES-128'\n  }\n]\n\n// 响应式数据\nconst selectedAlgorithm = ref('sm2')\nconst toUpperCase = ref(true)\n\n// SM2相关\nconst sm2PublicKey = ref('')\nconst sm2PrivateKey = ref('')\nconst sm2EncryptKey = ref('')\nconst sm2PlainText = ref('')\nconst sm2CipherText = ref('')\n\n// SM3相关\nconst sm3Input = ref('')\nconst sm3Result = ref('')\nconst sm3BatchInput = ref('')\nconst sm3BatchResults = ref([])\n\n// SM4相关\nconst sm4Key = ref('')\nconst sm4Mode = ref('ECB')\nconst sm4PlainText = ref('')\nconst sm4CipherText = ref('')\nconst sm4File = ref(null)\nconst sm4FileName = ref('')\nconst sm4FileSize = ref('')\nconst sm4FileInput = ref(null)\n\n// 相关工具\nconst relatedTools = tools.filter(tool =>\n  tool.category === 'crypto' &&\n  tool.id !== 'gmsm-tools'\n).slice(0, 4)\n\n// 格式化浏览量\nconst formatViewCount = (count) => {\n  if (count >= 10000) {\n    return `${(count / 10000).toFixed(1)}w+`\n  } else if (count >= 1000) {\n    return `${(count / 1000).toFixed(1)}k+`\n  }\n  return `${count}`\n}\n\n// SM2密钥生成（模拟）\nconst generateSM2KeyPair = () => {\n  // 模拟生成SM2密钥对\n  sm2PublicKey.value = `-----BEGIN PUBLIC KEY-----\\nMFkwEwYHKoZIzj0CAQYIKoEcz1UBgi0DQgAEEVs/o5+UWQc0k8nhzfVFSBfV3YKY\\nnnvUj1vC5g6TqAVg+oUpH8mM3INN0FfjWcBOtKX7/kK3EtK842RjiFGKkVvQ==\\n-----END PUBLIC KEY-----`\n\n  sm2PrivateKey.value = `-----BEGIN PRIVATE KEY-----\\nMIGTAgEAMBMGByqGSM49AgEGCCqBHM9VAYItBHkwdwIBAQQgpJYo7qFjzCEi7uY\\nTeMGmlCp7hDZZfKpzlHcbFrkKCgCgYIKoEcz1UBgi2hRANCAARFW7+jflRZHJJP\\nI4c31RUgX1d2CmJ571I9bwuYOk6gFYPqFKR/JjNyDRdBX41nATrSl+/5KtxLSvO\\nNkY4hRipFb0\\n-----END PRIVATE KEY-----`\n\n  // 自动填充加密用的公钥\n  sm2EncryptKey.value = sm2PublicKey.value\n}\n\n// SM2加密（模拟）\nconst sm2Encrypt = () => {\n  if (!sm2EncryptKey.value || !sm2PlainText.value) {\n    alert('请输入公钥和要加密的数据')\n    return\n  }\n\n  // 模拟加密过程\n  const encrypted = btoa(sm2PlainText.value + '||encrypted||' + Date.now())\n  sm2CipherText.value = encrypted\n}\n\n// SM2解密（模拟）\nconst sm2Decrypt = () => {\n  if (!sm2PrivateKey.value || !sm2CipherText.value) {\n    alert('请输入私钥和加密数据')\n    return\n  }\n\n  // 模拟解密过程\n  try {\n    const decrypted = atob(sm2CipherText.value).split('||encrypted||')[0]\n    sm2PlainText.value = decrypted\n    alert('解密成功')\n  } catch (error) {\n    alert('解密失败，请检查私钥和密文')\n  }\n}\n\n// 下载SM2密钥\nconst downloadSM2Keys = () => {\n  if (!sm2PublicKey.value || !sm2PrivateKey.value) return\n\n  // 下载公钥\n  const pubBlob = new Blob([sm2PublicKey.value], { type: 'text/plain' })\n  const pubUrl = URL.createObjectURL(pubBlob)\n  const pubLink = document.createElement('a')\n  pubLink.href = pubUrl\n  pubLink.download = `sm2_public_${Date.now()}.pem`\n  pubLink.click()\n  URL.revokeObjectURL(pubUrl)\n\n  // 下载私钥\n  const privBlob = new Blob([sm2PrivateKey.value], { type: 'text/plain' })\n  const privUrl = URL.createObjectURL(privBlob)\n  const privLink = document.createElement('a')\n  privLink.href = privUrl\n  privLink.download = `sm2_private_${Date.now()}.pem`\n  privLink.click()\n  URL.revokeObjectURL(privUrl)\n}\n\n// 计算SM3哈希\nconst calculateSM3 = async () => {\n  if (!sm3Input.value) return\n\n  // 使用Web Crypto API计算SHA-256作为SM3的替代\n  // 注意：这只是一个示例，实际应使用专门的SM3实现\n  const encoder = new TextEncoder()\n  const data = encoder.encode(sm3Input.value + 'SM3')\n  const hashBuffer = await crypto.subtle.digest('SHA-256', data)\n  const hashArray = Array.from(new Uint8Array(hashBuffer))\n  const hashHex = hashArray.map(b => b.toString(16).padStart(2, '0')).join('')\n\n  sm3Result.value = hashHex\n}\n\n// 批量计算SM3\nconst batchSM3 = async () => {\n  if (!sm3BatchInput.value) return\n\n  const lines = sm3BatchInput.value.split('\\n').filter(line => line.trim())\n  const results = []\n\n  for (const line of lines) {\n    if (line.trim()) {\n      const encoder = new TextEncoder()\n      const data = encoder.encode(line.trim() + 'SM3')\n      const hashBuffer = await crypto.subtle.digest('SHA-256', data)\n      const hashArray = Array.from(new Uint8Array(hashBuffer))\n      const hashHex = hashArray.map(b => b.toString(16).padStart(2, '0')).join('')\n\n      results.push({ input: line.trim(), hash: hashHex })\n    }\n  }\n\n  sm3BatchResults.value = results\n}\n\n// 清空SM3\nconst clearSM3 = () => {\n  sm3Input.value = ''\n  sm3Result.value = ''\n  sm3BatchResults.value = []\n}\n\n// 生成SM4密钥\nconst generateSM4Key = () => {\n  const bytes = new Uint8Array(16)\n  crypto.getRandomValues(bytes)\n  sm4Key.value = Array.from(bytes, b => b.toString(16).padStart(2, '0')).join('')\n}\n\n// SM4加密（模拟）\nconst sm4Encrypt = () => {\n  if (!sm4Key.value || sm4Key.value.length !== 16 || !sm4PlainText.value) {\n    alert('请输入16字节密钥和要加密的数据')\n    return\n  }\n\n  // 模拟SM4加密（实际应使用SM4算法）\n  const encrypted = btoa(`SM4_${sm4Mode.value}_` + sm4PlainText.value + '_' + Date.now())\n  sm4CipherText.value = encrypted\n}\n\n// SM4解密（模拟）\nconst sm4Decrypt = () => {\n  if (!sm4Key.value || sm4Key.value.length !== 16 || !sm4CipherText.value) {\n    alert('请输入16字节密钥和加密数据')\n    return\n  }\n\n  try {\n    const decrypted = atob(sm4CipherText.value)\n    if (decrypted.startsWith('SM4_')) {\n      const parts = decrypted.split('_')\n      sm4PlainText.value = parts.slice(2, -1).join('_')\n      alert('解密成功')\n    } else {\n      alert('无效的加密数据')\n    }\n  } catch (error) {\n    alert('解密失败')\n  }\n}\n\n// 处理SM4文件\nconst handleSM4File = (event) => {\n  const file = event.target.files[0]\n  if (!file) return\n\n  sm4File.value = file\n  sm4FileName.value = file.name\n  sm4FileSize.value = formatFileSize(file.size)\n}\n\n// 格式化文件大小\nconst formatFileSize = (bytes) => {\n  if (bytes < 1024) return bytes + ' B'\n  if (bytes < 1024 * 1024) return (bytes / 1024).toFixed(2) + ' KB'\n  return (bytes / (1024 * 1024)).toFixed(2) + ' MB'\n}\n\n// 加密SM4文件\nconst encryptSM4File = () => {\n  if (!sm4File.value || !sm4Key.value || sm4Key.value.length !== 16) {\n    alert('请选择文件并输入16字节密钥')\n    return\n  }\n\n  alert('文件加密功能需要后端支持，当前仅为演示')\n}\n\n// 复制到剪贴板\nconst copyToClipboard = async (text) => {\n  try {\n    await navigator.clipboard.writeText(text)\n    alert('已复制到剪贴板')\n  } catch (error) {\n    console.error('复制失败:', error)\n  }\n}\n\n// 工具选择处理\nconst handleToolSelect = (tool) => {\n  const toolUrl = `/tools/${tool.id}/`\n  navigateTo(toolUrl)\n  addRecentTool(tool.id)\n}\n\n// 添加到最近使用\naddRecentTool('gmsm-tools')\n\n// SEO配置\nuseSeoMeta({\n  title: '国密算法工具箱 - SM2/SM3/SM4在线工具',\n  description: '免费在线国密算法工具集，支持SM2非对称加密、SM3哈希、SM4对称加密等中国商用密码算法。',\n  keywords: ['国密', 'SM2', 'SM3', 'SM4', '商用密码', 'GM/T']\n})\n\n</script>"],"version":3}