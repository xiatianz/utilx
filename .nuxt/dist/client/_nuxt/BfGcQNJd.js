import{_ as ie}from"./D4g1_bQ7.js";import{r as p,e as E,q as de,s as ue,c as m,a as t,y as f,V as C,b as v,j as g,t as i,F as z,k as W,h as _,v as I,R as ce,D as $,d as k,n as me,x as ve,w as j,o as c,E as pe}from"./DEsTSaKd.js";import{J as ge}from"./KP_Dlcgk.js";import{_ as he}from"./DlAUqK2U.js";import{I as fe}from"./4T928kbW.js";import{S as xe}from"./B-mTY5Tg.js";import{D as be}from"./ClT_iCD-.js";import{R as ye}from"./DILFbJzj.js";import{P as we}from"./DUPD8JlR.js";import{I as _e}from"./MvNwXCJb.js";import{C as ke}from"./kYlSmsOS.js";import{A as B}from"./Bluep4Ee.js";import{Z as Ue}from"./CgBn4Hdk.js";import{D as Re}from"./BGnBrJB7.js";import"./CE1G-McA.js";import"./TDtrdbi3.js";import"./wERbHxDK.js";const Ce={class:"max-w-8xl mx-auto"},Ie={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},Le={class:"space-y-4"},De={class:"bg-card rounded-lg p-6"},ze={key:0,class:"mt-4 p-4 bg-muted rounded-lg"},We={class:"flex items-center gap-3 mb-3"},je=["src","alt"],Be={class:"flex-1"},Me={class:"font-medium truncate"},Fe={class:"text-sm text-muted-foreground"},Se={key:0,class:"bg-card rounded-lg p-6"},Ve={class:"space-y-4"},He={class:"mt-2 grid grid-cols-2 gap-2"},Oe=["onClick"],Pe={class:"grid grid-cols-2 gap-3"},Ae={class:"relative"},Ee={class:"relative"},$e={class:"mt-2 flex items-center gap-2"},Ne={class:"text-sm font-mono w-12 text-right"},Te={class:"flex items-center gap-2"},Ze={class:"mt-2 grid grid-cols-2 gap-2"},Je=["onClick"],qe={class:"lg:col-span-2 space-y-4"},Ke={key:0,class:"bg-card rounded-lg p-6"},Ge={class:"mb-4 flex items-center gap-4"},Qe={class:"text-sm font-mono"},Xe={class:"grid grid-cols-1 lg:grid-cols-2 gap-4"},Ye={class:"border rounded-lg overflow-hidden bg-checkered"},et=["src","alt"],tt={class:"mt-2 text-sm text-muted-foreground"},st={class:"border rounded-lg overflow-hidden bg-checkered"},at=["src","alt"],ot={key:1,class:"flex items-center justify-center h-64 text-muted-foreground"},lt={key:0,class:"mt-2 text-sm text-muted-foreground"},rt={key:0,class:"ml-2 text-primary"},nt={class:"mt-6 flex gap-3"},it=["disabled"],dt={class:"bg-card rounded-lg p-6"},ut={key:0,class:"mt-4 space-y-2"},ct={class:"flex justify-between items-center mb-2"},mt={class:"text-sm font-medium"},vt={class:"flex gap-2"},pt=["disabled"],gt={class:"max-h-48 overflow-y-auto space-y-2"},ht=["src","alt"],ft={class:"flex-1 min-w-0"},xt={class:"text-sm font-medium truncate"},bt={class:"text-xs text-muted-foreground"},yt={class:"text-xs text-muted-foreground"},wt={class:"mt-12 space-y-6"},_t={class:"bg-card border-rounded p-6"},kt={class:"text-lg font-semibold mb-4 flex items-center gap-2"},Ut={class:"bg-card rounded-lg p-6"},Rt={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},Ct={__name:"image-resize",setup(It){const o=p(null),d=p(null),l=p(null),r=p(null),L=p("fit"),D=p(!0),x=p(100),b=p(50),y=p(!1),M=p(null),F=p(null),h=p([]),U=p(!1),N=[{value:"stretch",name:"拉伸"},{value:"fit",name:"适应"},{value:"crop",name:"裁剪"},{value:"fill",name:"填充"}],T=[{name:"16:9 (1920×1080)",width:1920,height:1080},{name:"4:3 (1024×768)",width:1024,height:768},{name:"1:1 (1080×1080)",width:1080,height:1080},{name:"头像 (500×500)",width:500,height:500},{name:"缩略图 (150×150)",width:150,height:150},{name:"高清 (4K)",width:3840,height:2160}],Z=E(()=>!o.value||!l.value||!r.value?"":`${(l.value*r.value/(o.value.originalWidth*o.value.originalHeight)*100).toFixed(1)}%`),S=E(()=>h.value.filter(s=>s.processedUrl).length),J=s=>{const e=s.target.files[0];e&&e.type.startsWith("image/")&&V(e)},q=s=>{s.preventDefault();const e=s.dataTransfer.files[0];e&&e.type.startsWith("image/")&&V(e)},V=s=>{const e=new FileReader;e.onload=n=>{const a=new Image;a.onload=()=>{o.value={name:s.name,file:s,preview:n.target.result,originalWidth:a.width,originalHeight:a.height},l.value=a.width,r.value=a.height,d.value=null},a.src=n.target.result},e.readAsDataURL(s)},H=()=>{if(!o.value||!D.value)return;const s=o.value.originalWidth/o.value.originalHeight;l.value&&!r.value?r.value=Math.round(l.value/s):r.value&&!l.value?l.value=Math.round(r.value*s):l.value&&r.value&&(x.value=Math.round(l.value/o.value.originalWidth*100))},K=()=>{if(!o.value)return;const s=x.value/100;l.value=Math.round(o.value.originalWidth*s),r.value=Math.round(o.value.originalHeight*s)},G=s=>{l.value=s.width,r.value=s.height,o.value&&(x.value=Math.round(l.value/o.value.originalWidth*100))},Q=async()=>{if(!o.value||!l.value||!r.value)return;y.value=!0;const s=document.createElement("canvas"),e=s.getContext("2d");s.width=l.value,s.height=r.value;const n=new Image;n.onload=()=>{switch(L.value){case"stretch":e.drawImage(n,0,0,l.value,r.value);break;case"fit":const a=Math.min(l.value/n.width,r.value/n.height),u=n.width*a,w=n.height*a;e.drawImage(n,(l.value-u)/2,(r.value-w)/2,u,w);break;case"crop":const R=Math.max(l.value/n.width,r.value/n.height),P=n.width*R,A=n.height*R;e.drawImage(n,(l.value-P)/2,(r.value-A)/2,P,A);break;case"fill":e.drawImage(n,0,0,l.value,r.value);break}s.toBlob(a=>{d.value&&URL.revokeObjectURL(d.value),d.value=URL.createObjectURL(a),y.value=!1},"image/png")},n.src=o.value.preview},X=()=>{if(!d.value)return;const s=document.createElement("a");s.href=d.value,s.download=`resized_${o.value.name.split(".")[0]}.png`,s.click()},Y=()=>{o.value&&(l.value=o.value.originalWidth,r.value=o.value.originalHeight,x.value=100,d.value&&(URL.revokeObjectURL(d.value),d.value=null))},ee=()=>{d.value&&URL.revokeObjectURL(d.value),o.value=null,d.value=null,l.value=null,r.value=null,x.value=100},te=s=>{const e=Array.from(s.target.files);O(e)},se=s=>{s.preventDefault();const e=Array.from(s.dataTransfer.files);O(e)},O=s=>{s.forEach(e=>{if(!e.type.startsWith("image/"))return;const n=new FileReader;n.onload=a=>{const u=new Image;u.onload=()=>{h.value.push({id:Date.now()+Math.random(),name:e.name,file:e,preview:a.target.result,width:u.width,height:u.height,status:"待处理",processedUrl:null})},u.src=a.target.result},n.readAsDataURL(e)})},ae=async()=>{if(!(!l.value||!r.value)){U.value=!0;for(const s of h.value){s.status="处理中...";const e=document.createElement("canvas"),n=e.getContext("2d");e.width=l.value,e.height=r.value;const a=new Image;await new Promise(u=>{a.onload=()=>{n.drawImage(a,0,0,l.value,r.value),e.toBlob(w=>{s.processedUrl=URL.createObjectURL(w),s.status="完成",u()},"image/png")},a.src=s.preview})}U.value=!1}},oe=async()=>{const s=new ge;for(const u of h.value)if(u.processedUrl){const R=await(await fetch(u.processedUrl)).blob();s.file(`resized_${u.name}`,R)}const e=await s.generateAsync({type:"blob"}),n=URL.createObjectURL(e),a=document.createElement("a");a.href=n,a.download=`resized_images_${Date.now()}.zip`,a.click(),URL.revokeObjectURL(n)},le=()=>{h.value.forEach(s=>{s.processedUrl&&URL.revokeObjectURL(s.processedUrl)}),h.value=[]},re=()=>{M.value.click()},ne=()=>{F.value.click()};return de({title:"图片尺寸调整 - 在线调整图片尺寸工具",description:"免费在线图片尺寸调整工具，支持像素和百分比调整、批量处理、多种裁剪模式。",keywords:["图片尺寸","图片调整","图片缩放","像素调整","在线工具"]}),ue(()=>{d.value&&URL.revokeObjectURL(d.value),h.value.forEach(s=>{s.processedUrl&&URL.revokeObjectURL(s.processedUrl)})}),(s,e)=>{const n=ie;return c(),m("div",Ce,[e[36]||(e[36]=t("div",{class:"mt-4 mb-8"},[t("h1",{class:"text-3xl font-bold mb-3"},"图片尺寸调整"),t("p",{class:"text-muted-foreground"},"在线调整图片尺寸，支持像素、百分比和预设尺寸")],-1)),t("div",Ie,[t("div",Le,[t("div",De,[e[11]||(e[11]=t("h2",{class:"text-lg font-semibold mb-4"},"上传图片",-1)),t("div",{class:"border-2 border-dashed rounded-lg p-8 text-center hover:border-primary transition-colors cursor-pointer",onDrop:q,onDragover:e[0]||(e[0]=C(()=>{},["prevent"])),onDragleave:e[1]||(e[1]=C(()=>{},["prevent"])),onClick:re},[t("input",{ref_key:"fileInput",ref:M,type:"file",class:"hidden",accept:"image/*",onChange:J},null,544),v(g(fe),{class:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),e[9]||(e[9]=t("p",{class:"text-lg font-medium mb-2"},"拖拽图片到这里",-1)),e[10]||(e[10]=t("p",{class:"text-sm text-muted-foreground"},"或者点击选择文件",-1))],32),o.value?(c(),m("div",ze,[t("div",We,[t("img",{src:o.value.preview,alt:o.value.name,class:"w-16 h-16 object-cover rounded"},null,8,je),t("div",Be,[t("p",Me,i(o.value.name),1),t("p",Fe,i(o.value.originalWidth)+" × "+i(o.value.originalHeight)+" px ",1)])]),t("button",{onClick:ee,class:"w-full px-3 py-2 text-sm text-destructive hover:bg-destructive/5 rounded-md transition-colors"}," 移除图片 ")])):f("",!0)]),o.value?(c(),m("div",Se,[e[20]||(e[20]=t("h2",{class:"text-lg font-semibold mb-4"},"尺寸设置",-1)),t("div",Ve,[t("div",null,[e[12]||(e[12]=t("label",{class:"text-sm font-medium"},"调整模式",-1)),t("div",He,[(c(),m(z,null,W(N,a=>t("button",{key:a.value,onClick:u=>L.value=a.value,class:pe(["px-3 py-2 rounded-md transition-colors text-sm",L.value===a.value?"bg-primary text-primary-foreground":"bg-muted hover:bg-muted/80"])},i(a.name),11,Oe)),64))])]),t("div",Pe,[t("div",null,[e[14]||(e[14]=t("label",{class:"text-sm font-medium"},"宽度",-1)),t("div",Ae,[_(t("input",{"onUpdate:modelValue":e[2]||(e[2]=a=>l.value=a),type:"number",min:"1",class:"w-full px-3 py-2 pr-12 border rounded-md focus:outline-none focus:ring-2 focus:ring-primary",onInput:H},null,544),[[I,l.value,void 0,{number:!0}]]),e[13]||(e[13]=t("span",{class:"absolute right-3 top-1/2 -translate-y-1/2 text-sm text-muted-foreground"},"px",-1))])]),t("div",null,[e[16]||(e[16]=t("label",{class:"text-sm font-medium"},"高度",-1)),t("div",Ee,[_(t("input",{"onUpdate:modelValue":e[3]||(e[3]=a=>r.value=a),type:"number",min:"1",class:"w-full px-3 py-2 pr-12 border rounded-md focus:outline-none focus:ring-2 focus:ring-primary",onInput:H},null,544),[[I,r.value,void 0,{number:!0}]]),e[15]||(e[15]=t("span",{class:"absolute right-3 top-1/2 -translate-y-1/2 text-sm text-muted-foreground"},"px",-1))])])]),t("div",null,[e[17]||(e[17]=t("label",{class:"text-sm font-medium"},"百分比调整",-1)),t("div",$e,[_(t("input",{"onUpdate:modelValue":e[4]||(e[4]=a=>x.value=a),type:"range",min:"10",max:"200",step:"5",class:"flex-1",onInput:K},null,544),[[I,x.value,void 0,{number:!0}]]),t("span",Ne,i(x.value)+"%",1)])]),t("label",Te,[_(t("input",{"onUpdate:modelValue":e[5]||(e[5]=a=>D.value=a),type:"checkbox",class:"rounded",checked:""},null,512),[[ce,D.value]]),e[18]||(e[18]=t("span",{class:"text-sm"},"锁定宽高比",-1))]),t("div",null,[e[19]||(e[19]=t("label",{class:"text-sm font-medium"},"常用尺寸",-1)),t("div",Ze,[(c(),m(z,null,W(T,a=>t("button",{key:a.name,onClick:u=>G(a),class:"px-3 py-2 bg-muted hover:bg-muted/80 rounded-md transition-colors text-sm"},i(a.name),9,Je)),64))])])])])):f("",!0)]),t("div",qe,[o.value?(c(),m("div",Ke,[e[26]||(e[26]=t("h2",{class:"text-lg font-semibold mb-4"},"预览对比",-1)),t("div",Ge,[e[21]||(e[21]=t("label",{class:"text-sm font-medium"},"预览缩放",-1)),_(t("input",{"onUpdate:modelValue":e[6]||(e[6]=a=>b.value=a),type:"range",min:"10",max:"100",step:"10",class:"flex-1"},null,512),[[I,b.value]]),t("span",Qe,i(b.value)+"%",1)]),t("div",Xe,[t("div",null,[e[22]||(e[22]=t("h3",{class:"text-sm font-medium mb-2"},"原图",-1)),t("div",Ye,[t("img",{src:o.value.preview,alt:o.value.name,style:$({width:o.value.originalWidth*b.value/100+"px",height:"auto",maxWidth:"100%"}),class:"block mx-auto"},null,12,et)]),t("p",tt,i(o.value.originalWidth)+" × "+i(o.value.originalHeight)+" px ",1)]),t("div",null,[e[23]||(e[23]=t("h3",{class:"text-sm font-medium mb-2"},"调整后",-1)),t("div",st,[d.value?(c(),m("img",{key:0,src:d.value,alt:o.value.name,style:$({width:l.value*b.value/100+"px",height:"auto",maxWidth:"100%"}),class:"block mx-auto"},null,12,at)):(c(),m("div",ot," 调整尺寸后预览将显示在这里 "))]),l.value&&r.value?(c(),m("p",lt,[k(i(l.value)+" × "+i(r.value)+" px ",1),o.value.originalWidth!==l.value||o.value.originalHeight!==r.value?(c(),m("span",rt," ("+i(Z.value)+") ",1)):f("",!0)])):f("",!0)])]),t("div",nt,[t("button",{onClick:Q,disabled:!l.value||!r.value||y.value,class:"flex-1 px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90 transition-colors disabled:opacity-50 flex items-center justify-center gap-2"},[y.value?(c(),me(g(xe),{key:0,class:"w-4 h-4 animate-spin"})):f("",!0),k(" "+i(y.value?"处理中...":"应用调整"),1)],8,it),d.value?(c(),m("button",{key:0,onClick:X,class:"px-4 py-2 border border-primary text-primary rounded-md hover:bg-primary/5 transition-colors flex items-center gap-2"},[v(g(be),{class:"w-4 h-4"}),e[24]||(e[24]=k(" 下载 ",-1))])):f("",!0),t("button",{onClick:Y,class:"px-4 py-2 border border-muted text-muted-foreground rounded-md hover:bg-muted transition-colors flex items-center gap-2"},[v(g(ye),{class:"w-4 h-4"}),e[25]||(e[25]=k(" 重置 ",-1))])])])):f("",!0),t("div",dt,[e[28]||(e[28]=t("h2",{class:"text-lg font-semibold mb-4"},"批量处理",-1)),e[29]||(e[29]=t("p",{class:"text-sm text-muted-foreground mb-4"}," 上传多张图片，使用相同的设置批量调整尺寸 ",-1)),t("div",{class:"border-2 border-dashed rounded-lg p-4 text-center hover:border-primary transition-colors cursor-pointer",onDrop:se,onDragover:e[7]||(e[7]=C(()=>{},["prevent"])),onDragleave:e[8]||(e[8]=C(()=>{},["prevent"])),onClick:ne},[t("input",{ref_key:"batchFileInput",ref:F,type:"file",class:"hidden",accept:"image/*",multiple:"",onChange:te},null,544),v(g(we),{class:"w-8 h-8 mx-auto text-muted-foreground mb-2"}),e[27]||(e[27]=t("p",{class:"text-sm"},"添加多张图片",-1))],32),h.value.length>0?(c(),m("div",ut,[t("div",ct,[t("span",mt,i(h.value.length)+" 张图片",1),t("div",vt,[t("button",{onClick:ae,disabled:U.value,class:"px-3 py-1 text-sm bg-primary text-primary-foreground rounded-md hover:bg-primary/90 transition-colors disabled:opacity-50"},i(U.value?"处理中...":"批量处理"),9,pt),t("button",{onClick:le,class:"px-3 py-1 text-sm text-destructive hover:bg-destructive/5 rounded-md transition-colors"}," 清空 ")])]),t("div",gt,[(c(!0),m(z,null,W(h.value,(a,u)=>(c(),m("div",{key:a.id,class:"flex items-center gap-3 p-2 bg-muted rounded-lg"},[t("img",{src:a.preview,alt:a.name,class:"w-10 h-10 object-cover rounded"},null,8,ht),t("div",ft,[t("p",xt,i(a.name),1),t("p",bt,i(a.width)+" × "+i(a.height)+" → "+i(l.value||"0")+" × "+i(r.value||"0"),1)]),t("div",yt,i(a.status),1)]))),128))]),S.value>0?(c(),m("button",{key:0,onClick:oe,class:"w-full mt-4 px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90 transition-colors"}," 下载所有 ("+i(S.value)+" 张) ",1)):f("",!0)])):f("",!0)])])]),t("div",wt,[t("div",_t,[t("h3",kt,[v(g(_e),{class:"w-5 h-5 text-primary"}),e[30]||(e[30]=k(" 使用说明 ",-1))]),e[31]||(e[31]=ve('<div class="space-y-4 text-sm text-muted-foreground" data-v-4ebc7e39><div data-v-4ebc7e39><h4 class="font-medium text-foreground mb-2" data-v-4ebc7e39>调整模式说明</h4><ul class="list-disc list-inside space-y-1 ml-4" data-v-4ebc7e39><li data-v-4ebc7e39><strong data-v-4ebc7e39>拉伸</strong>：强制调整到指定尺寸，可能变形</li><li data-v-4ebc7e39><strong data-v-4ebc7e39>适应</strong>：保持比例，适应指定尺寸，可能有空白</li><li data-v-4ebc7e39><strong data-v-4ebc7e39>裁剪</strong>：保持比例，裁剪到指定尺寸</li><li data-v-4ebc7e39><strong data-v-4ebc7e39>填充</strong>：保持比例，填充到指定尺寸</li></ul></div><div data-v-4ebc7e39><h4 class="font-medium text-foreground mb-2" data-v-4ebc7e39>使用提示</h4><ul class="list-disc list-inside space-y-1 ml-4" data-v-4ebc7e39><li data-v-4ebc7e39>锁定宽高比可保持图片不变形</li><li data-v-4ebc7e39>支持批量处理，提高效率</li><li data-v-4ebc7e39>预览功能帮助确认效果</li><li data-v-4ebc7e39>处理速度取决于图片大小和数量</li></ul></div></div>',1))]),t("div",Ut,[e[35]||(e[35]=t("h3",{class:"text-lg font-semibold mb-4"},"相关工具",-1)),t("div",Rt,[v(n,{to:"/tools/image-crop",class:"flex items-center gap-3 p-3 bg-muted rounded-lg hover:bg-muted/80 transition-colors group"},{default:j(()=>[v(g(ke),{class:"w-5 h-5 text-primary"}),e[32]||(e[32]=t("div",null,[t("p",{class:"font-medium group-hover:text-primary"},"图片裁剪"),t("p",{class:"text-xs text-muted-foreground"},"在线裁剪图片")],-1)),v(g(B),{class:"w-4 h-4 ml-auto text-muted-foreground group-hover:text-primary"})]),_:1}),v(n,{to:"/tools/image-compress",class:"flex items-center gap-3 p-3 bg-muted rounded-lg hover:bg-muted/80 transition-colors group"},{default:j(()=>[v(g(Ue),{class:"w-5 h-5 text-primary"}),e[33]||(e[33]=t("div",null,[t("p",{class:"font-medium group-hover:text-primary"},"图片压缩"),t("p",{class:"text-xs text-muted-foreground"},"在线压缩图片")],-1)),v(g(B),{class:"w-4 h-4 ml-auto text-muted-foreground group-hover:text-primary"})]),_:1}),v(n,{to:"/tools/image-watermark",class:"flex items-center gap-3 p-3 bg-muted rounded-lg hover:bg-muted/80 transition-colors group"},{default:j(()=>[v(g(Re),{class:"w-5 h-5 text-primary"}),e[34]||(e[34]=t("div",null,[t("p",{class:"font-medium group-hover:text-primary"},"图片水印"),t("p",{class:"text-xs text-muted-foreground"},"添加文字/图片水印")],-1)),v(g(B),{class:"w-4 h-4 ml-auto text-muted-foreground group-hover:text-primary"})]),_:1})])])])])}}},Tt=he(Ct,[["__scopeId","data-v-4ebc7e39"]]);export{Tt as default};
