{"file":"swagger-viewer-DVZfzeSs.js","mappings":"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","names":["_ssrRenderAttrs","_mergeProps","_ssrIncludeBooleanAttr","_ssrInterpolate","_ssrRenderList","_ssrRenderComponent","_unref","_ssrRenderAttr","_push","_parent","_createVNode"],"sources":["../../../../src/pages/tools/swagger-viewer.vue"],"sourcesContent":["<template>\n  <div class=\"max-w-7xl mx-auto\">\n    <!-- 面包屑导航 -->\n    <!-- <Breadcrumb :category=\"category\" /> -->\n\n    <!-- 工具标题 -->\n    <div class=\"mt-4 mb-8\">\n      <h1 class=\"text-3xl font-bold mb-3\">Swagger 查看器</h1>\n      <p class=\"text-muted-foreground\">在线查看和测试 Swagger/OpenAPI 文档，支持 API 调试和接口测试</p>\n    </div>\n\n    <!-- 主要功能区域 -->\n    <div class=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n      <!-- 左侧：文档输入 -->\n      <div class=\"lg:col-span-1 space-y-4\">\n        <!-- 输入方式选择 -->\n        <div class=\"bg-card   rounded-lg p-6\">\n          <h2 class=\"text-lg font-semibold mb-4\">文档来源</h2>\n          <div class=\"space-y-3\">\n            <button\n              @click=\"inputMode = 'url'\"\n              :class=\"[\n                'w-full px-4 py-3 rounded-md transition-colors text-left',\n                inputMode === 'url'\n                  ? 'bg-primary text-primary-foreground'\n                  : 'bg-muted hover:bg-muted/80'\n              ]\"\n            >\n              <div class=\"font-medium\">URL 导入</div>\n              <div class=\"text-xs opacity-80\">从 URL 加载 Swagger 文档</div>\n            </button>\n            <button\n              @click=\"inputMode = 'json'\"\n              :class=\"[\n                'w-full px-4 py-3 rounded-md transition-colors text-left',\n                inputMode === 'json'\n                  ? 'bg-primary text-primary-foreground'\n                  : 'bg-muted hover:bg-muted/80'\n              ]\"\n            >\n              <div class=\"font-medium\">JSON 输入</div>\n              <div class=\"text-xs opacity-80\">直接输入 JSON/YAML 内容</div>\n            </button>\n            <button\n              @click=\"loadExample\"\n              class=\"w-full px-4 py-3 bg-muted rounded-md hover:bg-muted/80 transition-colors text-left\"\n            >\n              <div class=\"font-medium\">加载示例</div>\n              <div class=\"text-xs opacity-80\">查看示例 API 文档</div>\n            </button>\n          </div>\n        </div>\n\n        <!-- URL 输入 -->\n        <div v-if=\"inputMode === 'url'\" class=\"bg-card   rounded-lg p-6\">\n          <h2 class=\"text-lg font-semibold mb-4\">Swagger URL</h2>\n          <div class=\"space-y-3\">\n            <input\n              v-model=\"swaggerUrl\"\n              type=\"url\"\n              placeholder=\"https://api.example.com/swagger.json\"\n              class=\"w-full px-3 py-2 border rounded-md text-sm\"\n            />\n            <button\n              @click=\"loadFromUrl\"\n              :disabled=\"!swaggerUrl || loading\"\n              class=\"w-full px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\n            >\n              {{ loading ? '加载中...' : '加载文档' }}\n            </button>\n          </div>\n        </div>\n\n        <!-- JSON/YAML 输入 -->\n        <div v-if=\"inputMode === 'json'\" class=\"bg-card   rounded-lg p-6\">\n          <div class=\"flex justify-between items-center mb-4\">\n            <h2 class=\"text-lg font-semibold\">文档内容</h2>\n            <div class=\"flex gap-2\">\n              <button\n                @click=\"formatDocument\"\n                class=\"text-sm text-primary hover:text-primary/80 transition-colors\"\n              >\n                格式化\n              </button>\n              <button\n                @click=\"clearDocument\"\n                class=\"text-sm text-muted-foreground hover:text-foreground transition-colors\"\n              >\n                清空\n              </button>\n            </div>\n          </div>\n          <textarea\n            v-model=\"documentContent\"\n            placeholder=\"粘贴 JSON/YAML 格式的 Swagger 文档...\"\n            class=\"w-full h-64 px-3 py-2 border rounded-md font-mono text-sm resize-none focus:outline-none focus:ring-2 focus:ring-primary\"\n          ></textarea>\n          <button\n            @click=\"parseDocument\"\n            :disabled=\"!documentContent\"\n            class=\"w-full mt-3 px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\n          >\n            解析文档\n          </button>\n        </div>\n      </div>\n\n      <!-- 右侧：API 文档展示 -->\n      <div class=\"lg:col-span-2 space-y-4\">\n        <!-- API 信息概览 -->\n        <div v-if=\"swaggerDoc\" class=\"bg-card   rounded-lg p-6\">\n          <div class=\"flex items-start justify-between mb-4\">\n            <div>\n              <h2 class=\"text-2xl font-bold mb-2\">{{ swaggerDoc.info?.title || 'API Documentation' }}</h2>\n              <p class=\"text-muted-foreground mb-2\">{{ swaggerDoc.info?.description }}</p>\n              <div class=\"flex gap-4 text-sm text-muted-foreground\">\n                <span>版本：{{ swaggerDoc.info?.version }}</span>\n                <span v-if=\"swaggerDoc.info?.contact\">联系：{{ swaggerDoc.info.contact.email || swaggerDoc.info.contact.name }}</span>\n              </div>\n            </div>\n            <div v-if=\"swaggerDoc.servers && swaggerDoc.servers.length > 0\" class=\"text-right\">\n              <div class=\"text-sm text-muted-foreground mb-1\">服务器地址</div>\n              <div class=\"font-mono text-sm\">{{ swaggerDoc.servers[0].url }}</div>\n            </div>\n          </div>\n\n          <!-- 认证信息 -->\n          <div v-if=\"swaggerDoc.components?.securitySchemes\" class=\"mt-4 p-4 bg-muted/50 rounded-lg\">\n            <h3 class=\"font-medium mb-2\">认证方式</h3>\n            <div class=\"flex flex-wrap gap-2\">\n              <span\n                v-for=\"(scheme, name) in swaggerDoc.components.securitySchemes\"\n                :key=\"name\"\n                class=\"px-3 py-1 bg-primary/10 text-primary rounded-full text-sm\"\n              >\n                {{ scheme.type }} ({{ name }})\n              </span>\n            </div>\n          </div>\n        </div>\n\n        <!-- API 列表 -->\n        <div v-if=\"swaggerDoc\" class=\"bg-card   rounded-lg p-6\">\n          <h2 class=\"text-lg font-semibold mb-4\">API 接口</h2>\n          <div class=\"space-y-4\">\n            <div\n              v-for=\"(path, pathName) in swaggerDoc.paths\"\n              :key=\"pathName\"\n              class=\"border rounded-lg overflow-hidden\"\n            >\n              <div class=\"bg-muted/50 px-4 py-3\">\n                <code class=\"font-mono\">{{ pathName }}</code>\n              </div>\n              <div class=\"divide-y\">\n                <div\n                  v-for=\"(method, methodName) in path\"\n                  :key=\"methodName\"\n                  class=\"p-4 hover:bg-muted/30 transition-colors cursor-pointer\"\n                  @click=\"selectEndpoint(pathName, methodName, method)\"\n                >\n                  <div class=\"flex items-center gap-3 mb-2\">\n                    <span\n                      :class=\"[\n                        'px-2 py-1 text-xs font-medium rounded',\n                        getMethodColor(methodName)\n                      ]\"\n                    >\n                      {{ methodName.toUpperCase() }}\n                    </span>\n                    <span class=\"font-medium\">{{ method.summary || method.operationId }}</span>\n                  </div>\n                  <p class=\"text-sm text-muted-foreground\">{{ method.description }}</p>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <!-- API 测试面板 -->\n        <div v-if=\"selectedEndpoint\" class=\"bg-card   rounded-lg p-6\">\n          <div class=\"flex items-center justify-between mb-4\">\n            <h2 class=\"text-lg font-semibold\">测试 API</h2>\n            <button\n              @click=\"closeTestPanel\"\n              class=\"text-muted-foreground hover:text-foreground transition-colors\"\n            >\n              <X class=\"w-5 h-5\" />\n            </button>\n          </div>\n\n          <div class=\"space-y-4\">\n            <!-- 请求 URL -->\n            <div>\n              <label class=\"text-sm font-medium\">请求 URL</label>\n              <div class=\"mt-2 flex gap-2\">\n                <input\n                  v-model=\"testUrl\"\n                  type=\"text\"\n                  readonly\n                  class=\"flex-1 px-3 py-2 border rounded-md bg-muted font-mono text-sm\"\n                />\n                <button\n                  @click=\"sendRequest\"\n                  :disabled=\"loading\"\n                  class=\"px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90 transition-colors disabled:opacity-50\"\n                >\n                  {{ loading ? '发送中...' : '发送请求' }}\n                </button>\n              </div>\n            </div>\n\n            <!-- 路径参数 -->\n            <div v-if=\"pathParams.length > 0\">\n              <label class=\"text-sm font-medium\">路径参数</label>\n              <div class=\"mt-2 grid grid-cols-2 gap-2\">\n                <div\n                  v-for=\"param in pathParams\"\n                  :key=\"param.name\"\n                  class=\"flex gap-2 items-center\"\n                >\n                  <span class=\"text-sm font-mono\">{{ param.name }}</span>\n                  <input\n                    v-model=\"param.value\"\n                    type=\"text\"\n                    :placeholder=\"param.example || '输入值'\"\n                    class=\"flex-1 px-2 py-1 border rounded text-sm\"\n                  />\n                </div>\n              </div>\n            </div>\n\n            <!-- 查询参数 -->\n            <div v-if=\"queryParams.length > 0\">\n              <label class=\"text-sm font-medium\">查询参数</label>\n              <div class=\"mt-2 space-y-2\">\n                <div\n                  v-for=\"param in queryParams\"\n                  :key=\"param.name\"\n                  class=\"flex gap-2 items-center\"\n                >\n                  <span class=\"text-sm font-mono w-24\">{{ param.name }}</span>\n                  <input\n                    v-model=\"param.value\"\n                    type=\"text\"\n                    :placeholder=\"param.example || param.description || '输入值'\"\n                    class=\"flex-1 px-2 py-1 border rounded text-sm\"\n                  />\n                  <span class=\"text-xs text-muted-foreground\">{{ param.type }}</span>\n                </div>\n              </div>\n            </div>\n\n            <!-- 请求体 -->\n            <div v-if=\"requestBody\">\n              <label class=\"text-sm font-medium\">请求体</label>\n              <div class=\"mt-2\">\n                <textarea\n                  v-model=\"requestBodyContent\"\n                  placeholder='{\"key\": \"value\"}'\n                  class=\"w-full h-32 px-3 py-2 border rounded-md font-mono text-sm resize-none\"\n                ></textarea>\n              </div>\n            </div>\n\n            <!-- 响应结果 -->\n            <div v-if=\"response\" class=\"space-y-2\">\n              <div class=\"flex items-center gap-2\">\n                <label class=\"text-sm font-medium\">响应结果</label>\n                <span\n                  :class=\"[\n                    'px-2 py-1 text-xs rounded',\n                    response.status < 400 ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'\n                  ]\"\n                >\n                  {{ response.status }}\n                </span>\n              </div>\n              <div class=\"border rounded-lg p-4 bg-muted/30 max-h-64 overflow-auto\">\n                <pre class=\"text-sm whitespace-pre-wrap font-mono\">{{ response.data }}</pre>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- 使用说明 -->\n    <div class=\"mt-12 space-y-6\">\n      <div class=\"bg-card   rounded-lg p-6\">\n        <h3 class=\"text-lg font-semibold mb-4 flex items-center gap-2\">\n          <Info class=\"w-5 h-5 text-primary\" />\n          使用说明\n        </h3>\n        <div class=\"space-y-4 text-sm text-muted-foreground\">\n          <div>\n            <h4 class=\"font-medium text-foreground mb-2\">1. 加载文档</h4>\n            <p>支持通过 URL 或直接粘贴 JSON/YAML 内容的方式加载 Swagger/OpenAPI 文档。</p>\n          </div>\n          <div>\n            <h4 class=\"font-medium text-foreground mb-2\">2. 查看接口</h4>\n            <p>浏览所有 API 接口，查看请求方法、路径、参数和响应格式。</p>\n          </div>\n          <div>\n            <h4 class=\"font-medium text-foreground mb-2\">3. 测试接口</h4>\n            <p>直接在线测试 API 接口，支持参数配置和查看响应结果。</p>\n          </div>\n          <div>\n            <h4 class=\"font-medium text-foreground mb-2\">支持的版本</h4>\n            <p>支持 Swagger 2.0 和 OpenAPI 3.0/3.1 规范。</p>\n          </div>\n        </div>\n      </div>\n\n      <!-- 相关工具 -->\n      <div class=\"bg-card   rounded-lg p-6\">\n        <h3 class=\"text-lg font-semibold mb-4\">相关工具</h3>\n        <div class=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n          <NuxtLink\n            to=\"/tools/api-doc\"\n            class=\"flex items-center gap-3 p-3 bg-muted rounded-lg hover:bg-muted/80 transition-colors group\"\n          >\n            <FileText class=\"w-5 h-5 text-primary\" />\n            <div>\n              <p class=\"font-medium group-hover:text-primary\">API 文档生成</p>\n              <p class=\"text-xs text-muted-foreground\">生成 API 文档</p>\n            </div>\n            <ArrowRight class=\"w-4 h-4 ml-auto text-muted-foreground group-hover:text-primary\" />\n          </NuxtLink>\n          <NuxtLink\n            to=\"/tools/http-client\"\n            class=\"flex items-center gap-3 p-3 bg-muted rounded-lg hover:bg-muted/80 transition-colors group\"\n          >\n            <Globe class=\"w-5 h-5 text-primary\" />\n            <div>\n              <p class=\"font-medium group-hover:text-primary\">HTTP 客户端</p>\n              <p class=\"text-xs text-muted-foreground\">发送 HTTP 请求</p>\n            </div>\n            <ArrowRight class=\"w-4 h-4 ml-auto text-muted-foreground group-hover:text-primary\" />\n          </NuxtLink>\n          <NuxtLink\n            to=\"/tools/json-formatter\"\n            class=\"flex items-center gap-3 p-3 bg-muted rounded-lg hover:bg-muted/80 transition-colors group\"\n          >\n            <Code class=\"w-5 h-5 text-primary\" />\n            <div>\n              <p class=\"font-medium group-hover:text-primary\">JSON 格式化</p>\n              <p class=\"text-xs text-muted-foreground\">格式化 JSON 数据</p>\n            </div>\n            <ArrowRight class=\"w-4 h-4 ml-auto text-muted-foreground group-hover:text-primary\" />\n          </NuxtLink>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, computed } from 'vue'\nimport { Info, FileText, Globe, Code, ArrowRight, X } from 'lucide-vue-next'\nimport Breadcrumb from '~/components/Breadcrumb.vue'\n\n// 分类信息\nconst category = { id: 'dev', name: '开发辅助', description: '开发辅助工具集合' }\n\n// 状态管理\nconst inputMode = ref('url')\nconst swaggerUrl = ref('')\nconst documentContent = ref('')\nconst swaggerDoc = ref(null)\nconst loading = ref(false)\nconst selectedEndpoint = ref(null)\nconst response = ref(null)\n\n// 测试相关\nconst testUrl = ref('')\nconst pathParams = ref([])\nconst queryParams = ref([])\nconst requestBody = ref(null)\nconst requestBodyContent = ref('{}')\n\n// 示例 Swagger 文档\nconst exampleSwagger = {\n  openapi: \"3.0.0\",\n  info: {\n    title: \"示例 API\",\n    version: \"1.0.0\",\n    description: \"这是一个示例 API 文档\"\n  },\n  servers: [\n    {\n      url: \"https://api.example.com/v1\"\n    }\n  ],\n  paths: {\n    \"/users\": {\n      get: {\n        summary: \"获取用户列表\",\n        description: \"获取所有用户的列表\",\n        parameters: [\n          {\n            name: \"page\",\n            in: \"query\",\n            description: \"页码\",\n            schema: { type: \"integer\", default: 1 }\n          },\n          {\n            name: \"limit\",\n            in: \"query\",\n            description: \"每页数量\",\n            schema: { type: \"integer\", default: 10 }\n          }\n        ],\n        responses: {\n          200: {\n            description: \"成功\",\n            content: {\n              \"application/json\": {\n                schema: {\n                  type: \"object\",\n                  properties: {\n                    data: {\n                      type: \"array\",\n                      items: { $ref: \"#/components/schemas/User\" }\n                    }\n                  }\n                }\n              }\n            }\n          }\n        }\n      },\n      post: {\n        summary: \"创建用户\",\n        description: \"创建新用户\",\n        requestBody: {\n          content: {\n            \"application/json\": {\n              schema: { $ref: \"#/components/schemas/User\" }\n            }\n          }\n        },\n        responses: {\n          201: {\n            description: \"创建成功\",\n            content: {\n              \"application/json\": {\n                schema: { $ref: \"#/components/schemas/User\" }\n              }\n            }\n          }\n        }\n      }\n    },\n    \"/users/{id}\": {\n      get: {\n        summary: \"获取用户详情\",\n        description: \"根据 ID 获取用户信息\",\n        parameters: [\n          {\n            name: \"id\",\n            in: \"path\",\n            required: true,\n            description: \"用户 ID\",\n            schema: { type: \"integer\" }\n          }\n        ],\n        responses: {\n          200: {\n            description: \"成功\",\n            content: {\n              \"application/json\": {\n                schema: { $ref: \"#/components/schemas/User\" }\n              }\n            }\n          }\n        }\n      }\n    }\n  },\n  components: {\n    schemas: {\n      User: {\n        type: \"object\",\n        properties: {\n          id: { type: \"integer\" },\n          name: { type: \"string\" },\n          email: { type: \"string\" }\n        }\n      }\n    }\n  }\n}\n\n// 获取 HTTP 方法颜色\nconst getMethodColor = (method) => {\n  const colors = {\n    get: 'bg-green-100 text-green-800',\n    post: 'bg-blue-100 text-blue-800',\n    put: 'bg-yellow-100 text-yellow-800',\n    delete: 'bg-red-100 text-red-800',\n    patch: 'bg-purple-100 text-purple-800'\n  }\n  return colors[method] || 'bg-gray-100 text-gray-800'\n}\n\n// 从 URL 加载文档\nconst loadFromUrl = async () => {\n  if (!swaggerUrl.value) return\n\n  loading.value = true\n  try {\n    const response = await fetch(swaggerUrl.value)\n    const data = await response.json()\n    swaggerDoc.value = data\n  } catch (error) {\n    console.error('加载失败', error)\n    alert('加载文档失败：' + error.message)\n  } finally {\n    loading.value = false\n  }\n}\n\n// 解析文档\nconst parseDocument = () => {\n  try {\n    const doc = JSON.parse(documentContent.value)\n    swaggerDoc.value = doc\n  } catch (error) {\n    console.error('解析失败', error)\n    alert('解析文档失败：' + error.message)\n  }\n}\n\n// 格式化文档\nconst formatDocument = () => {\n  try {\n    const doc = JSON.parse(documentContent.value)\n    documentContent.value = JSON.stringify(doc, null, 2)\n  } catch (error) {\n    console.error('格式化失败', error)\n  }\n}\n\n// 清空文档\nconst clearDocument = () => {\n  documentContent.value = ''\n  swaggerDoc.value = null\n}\n\n// 加载示例\nconst loadExample = () => {\n  swaggerDoc.value = exampleSwagger\n  documentContent.value = JSON.stringify(exampleSwagger, null, 2)\n}\n\n// 选择接口端点\nconst selectEndpoint = (pathName, methodName, method) => {\n  selectedEndpoint.value = {\n    path: pathName,\n    method: methodName,\n    ...method\n  }\n\n  // 构建 URL\n  const baseUrl = swaggerDoc.value.servers?.[0]?.url || ''\n  testUrl.value = `${baseUrl}${pathName}`\n\n  // 解析路径参数\n  pathParams.value = []\n  const pathParamMatches = pathName.match(/\\{(\\w+)\\}/g)\n  if (pathParamMatches) {\n    pathParamMatches.forEach(match => {\n      const paramName = match.slice(1, -1)\n      const param = method.parameters?.find(p => p.name === paramName && p.in === 'path')\n      pathParams.value.push({\n        name: paramName,\n        value: '',\n        type: param?.schema?.type || 'string',\n        example: param?.example\n      })\n    })\n  }\n\n  // 解析查询参数\n  queryParams.value = []\n  if (method.parameters) {\n    method.parameters.forEach(param => {\n      if (param.in === 'query') {\n        queryParams.value.push({\n          name: param.name,\n          value: '',\n          type: param.schema?.type || 'string',\n          description: param.description,\n          example: param.example || param.schema?.default\n        })\n      }\n    })\n  }\n\n  // 处理请求体\n  requestBody.value = method.requestBody\n  if (requestBody.value?.content?.['application/json']?.schema) {\n    const schema = requestBody.value.content['application/json'].schema\n    if (schema.example) {\n      requestBodyContent.value = JSON.stringify(schema.example, null, 2)\n    }\n  }\n\n  response.value = null\n}\n\n// 关闭测试面板\nconst closeTestPanel = () => {\n  selectedEndpoint.value = null\n  response.value = null\n}\n\n// 发送请求\nconst sendRequest = async () => {\n  loading.value = true\n  response.value = null\n\n  try {\n    // 构建最终 URL\n    let url = testUrl.value\n\n    // 替换路径参数\n    pathParams.value.forEach(param => {\n      if (param.value) {\n        url = url.replace(`{${param.name}}`, param.value)\n      }\n    })\n\n    // 添加查询参数\n    const searchParams = new URLSearchParams()\n    queryParams.value.forEach(param => {\n      if (param.value) {\n        searchParams.append(param.name, param.value)\n      }\n    })\n\n    if (searchParams.toString()) {\n      url += (url.includes('?') ? '&' : '?') + searchParams.toString()\n    }\n\n    // 配置请求选项\n    const options = {\n      method: selectedEndpoint.value.method.toUpperCase(),\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    }\n\n    // 添加请求体\n    if (['POST', 'PUT', 'PATCH'].includes(selectedEndpoint.value.method.toUpperCase()) && requestBodyContent.value) {\n      options.body = requestBodyContent.value\n    }\n\n    // 发送请求（由于 CORS 限制，这里仅作演示）\n    console.log('模拟请求:', { url, options })\n\n    // 模拟响应\n    await new Promise(resolve => setTimeout(resolve, 1000))\n\n    response.value = {\n      status: 200,\n      statusText: 'OK',\n      data: JSON.stringify({\n        message: \"这是一个模拟响应（实际请求可能因 CORS 限制失败）\",\n        url,\n        method: options.method,\n        timestamp: new Date().toISOString()\n      }, null, 2)\n    }\n  } catch (error) {\n    response.value = {\n      status: 500,\n      statusText: 'Error',\n      data: JSON.stringify({\n        error: error.message,\n        message: \"请求失败，可能是由于 CORS 限制或网络错误\"\n      }, null, 2)\n    }\n  } finally {\n    loading.value = false\n  }\n}\n\n// SEO配置\nuseSeoMeta({\n  title: 'Swagger 查看器 - 在线 API 文档查看测试工具',\n  description: '免费的在线 Swagger/OpenAPI 文档查看和测试工具，支持 API 接口调试、参数配置和响应查看。',\n  keywords: ['swagger', 'openapi', 'api', '文档查看', '接口测试', 'api调试', 'rest api']\n})\n\ndefinePageMeta({\n  layout: 'default'\n})\n</script>"],"version":3}