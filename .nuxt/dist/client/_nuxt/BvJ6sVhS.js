import{_ as mr}from"./D4g1_bQ7.js";import{r as Te,e as gr,q as xr,c as y,a as u,y as L,V as Er,b as R,j as B,t as F,F as Sr,k as Ir,d as Xe,x as hr,w as $e,o as C,E as Tr}from"./DEsTSaKd.js";import{I as Ft}from"./4T928kbW.js";import{X as Fr}from"./DJb2aM7w.js";import{M as _r}from"./BFRCNNe4.js";import{D as Ar}from"./ClT_iCD-.js";import{F as br}from"./CRvidJJ3.js";import{I as _t}from"./MvNwXCJb.js";import{A as Ye}from"./Bluep4Ee.js";import{D as Pr}from"./BGnBrJB7.js";import{Q as yr}from"./Dw5Y31bD.js";import"./wERbHxDK.js";let mn=class{constructor(t){if(Cr(t))throw new Error("DataView: Passed buffer type is unsupported.");this.buffer=t,this.byteLength=this.buffer.length}getUint8(t){return this.buffer.readUInt8(t)}getUint16(t,n){return n?this.buffer.readUInt16LE(t):this.buffer.readUInt16BE(t)}getUint32(t,n){return n?this.buffer.readUInt32LE(t):this.buffer.readUInt32BE(t)}getInt32(t,n){return n?this.buffer.readInt32LE(t):this.buffer.readInt32BE(t)}};function Cr(e){return typeof e!="object"||e.length===void 0||e.readUInt8===void 0||e.readUInt16LE===void 0||e.readUInt16BE===void 0||e.readUInt32LE===void 0||e.readUInt32BE===void 0||e.readInt32LE===void 0||e.readInt32BE===void 0}function At(e,t,n){try{return new DataView(e,t,n)}catch{return new mn(e,t,n)}}function h(e,t,n){const r=[];for(let i=0;i<n&&t+i<e.byteLength;i++)r.push(e.getUint8(t+i));return ne(r)}function fe(e,t){const n=[];let r=0;for(;t+r<e.byteLength;){const i=e.getUint8(t+r);if(i===0)break;n.push(i),r++}return ne(n)}function Nr(e,t,n){const r=[];for(let i=0;i<n&&t+i<e.byteLength;i+=2)r.push(e.getUint16(t+i));return r[r.length-1]===0&&r.pop(),ne(r)}function gn(e,t){const n=e.getUint8(t),r=h(e,t+1,n);return[n,r]}function ne(e){return e.map(t=>String.fromCharCode(t)).join("")}function T(){for(let e=1;e<arguments.length;e++)for(const t in arguments[e])arguments[0][t]=arguments[e][t];return arguments[0]}function xn(e,t,n){let r=!1;Object.defineProperty(e,t,{get(){return r||(r=!0,Object.defineProperty(e,t,{configurable:!0,enumerable:!0,value:n.apply(e),writable:!0})),e[t]},configurable:!0,enumerable:!0})}function En(e){if(typeof btoa<"u")return btoa(typeof e=="string"?e:Array.prototype.reduce.call(new Uint8Array(e),(t,n)=>t+String.fromCharCode(n),""));if(!(typeof Buffer>"u"))return typeof Buffer.from<"u"?Buffer.from(e).toString("base64"):new Buffer(e).toString("base64")}function Or(e){const t=e.substring(e.indexOf(",")+1);if(e.indexOf(";base64")!==-1)return typeof atob<"u"?Uint8Array.from(atob(t),r=>r.charCodeAt(0)).buffer:typeof Buffer>"u"?void 0:typeof Buffer.from<"u"?Buffer.from(t,"base64"):new Buffer(t,"base64");const n=decodeURIComponent(t);return typeof Buffer<"u"?typeof Buffer.from<"u"?Buffer.from(n):new Buffer(n):Uint8Array.from(n,r=>r.charCodeAt(0)).buffer}function Rr(e,t,n){return Sn(n,t-e.length)+e}function Dr(e,t){return parseInt(e.replace(".",""),t)/Math.pow(t,(e.split(".")[1]||"").length)}function Sn(e,t){return new Array(t+1).join(e)}const Oe=void 0,In=0;function hn(e,t,n,r="string"){if(t===In&&typeof DecompressionStream=="function"){const i=new DecompressionStream("deflate"),s=new Blob([e]).stream().pipeThrough(i);return r==="dataview"?new Response(s).arrayBuffer().then(o=>new DataView(o)):new Response(s).arrayBuffer().then(o=>new TextDecoder(n).decode(o))}return t!==void 0?Promise.reject(`Unknown compression method ${t}.`):e}const bt={USE_FILE:!0,USE_JFIF:!0,USE_PNG_FILE:!0,USE_EXIF:!0,USE_IPTC:!0,USE_XMP:!0,USE_ICC:!0,USE_MPF:!0,USE_PHOTOSHOP:!0,USE_THUMBNAIL:!0,USE_TIFF:!0,USE_JPEG:!0,USE_PNG:!0,USE_HEIC:!0,USE_AVIF:!0,USE_WEBP:!0,USE_GIF:!0,USE_MAKER_NOTES:!0};function b(e){return e.map(t=>String.fromCharCode(t)).join("")}function et(e){if(e.length>=8){const t=b(e.slice(0,8));if(t==="ASCII\0\0\0")return b(e.slice(8));if(t==="JIS\0\0\0\0\0")return"[JIS encoded text]";if(t==="UNICODE\0")return"[Unicode encoded text]";if(t==="\0\0\0\0\0\0\0\0")return"[Undefined encoding]"}return"Undefined"}function Re(e){return e[0][0]/e[0][1]+e[1][0]/e[1][1]/60+e[2][0]/e[2][1]/3600}const tt=18761,nt=19789,$={BIG_ENDIAN:nt,LITTLE_ENDIAN:tt,getByteOrder:Ur};function Ur(e,t){if(e.getUint16(t)===tt)return tt;if(e.getUint16(t)===nt)return nt;throw new Error("Illegal byte order value. Faulty image.")}const Pt={isTiffFile:Mr,findTiffOffsets:Br};function Mr(e){return!!e&&e.byteLength>=4&&Lr(e)}function Lr(e){const r=e.getUint16(0)===$.LITTLE_ENDIAN;return e.getUint16(2,r)===42}function Br(){return{hasAppMarkers:!0,tiffHeaderOffset:0}}const yt={isJpegFile:Qr,findJpegOffsets:Vr},Gr=2,kr=65496,Ct=2,k=4,D=2,vr=2,Zr=10,Hr=18,Nt=33,Ot=79,Rt=18,Xr=8,rt="ICC_PROFILE\0",Tn=k+rt.length,$r=Tn+1,Dt="MPF\0",Fn=65472,_n=65474,Yr=65476,jr=65499,zr=65501,Kr=65498,An=65504,gt=65505,bn=65506,Wr=65517,wr=65519,Jr=65534,qr=65535,Ut="JFIF",Mt="Exif",Lt="http://ns.adobe.com/xap/1.0/\0",Bt="http://ns.adobe.com/xmp/extension/\0",Gt="Photoshop 3.0";function Qr(e){return!!e&&e.byteLength>=Gr&&e.getUint16(0)===kr}function Vr(e){let t=Ct,n,r,i,s,o,a,l,g,d;for(;t+k+5<=e.byteLength;){if(ei(e,t))n=e.getUint16(t+D),r=t+D;else if(ti(e,t))n=e.getUint16(t+D),i=t+D;else if(ii(e,t))n=e.getUint16(t+D),s=t+vr;else if(oi(e,t))n=e.getUint16(t+D),o=t+Zr;else if(si(e,t))l||(l=[]),n=e.getUint16(t+D),l.push(fi(t,n));else if(ci(e,t))l||(l=[]),n=e.getUint16(t+D),l.push(li(t,n));else if(di(e,t))n=e.getUint16(t+D),a=t+Hr;else if(ni(e,t)){n=e.getUint16(t+D);const p=t+Rt,E=n-(Rt-D),S=e.getUint8(t+Tn),A=e.getUint8(t+$r);g||(g=[]),g.push({offset:p,length:E,chunkNumber:S,chunksTotal:A})}else if(ri(e,t))n=e.getUint16(t+D),d=t+Xr;else if(pi(e,t))n=e.getUint16(t+D);else if(mi(e,t)){t++;continue}else break;t+=D+n}return{hasAppMarkers:t>Ct,fileDataOffset:r||i,jfifDataOffset:s,tiffHeaderOffset:o,iptcDataOffset:a,xmpChunks:l,iccChunks:g,mpfDataOffset:d}}function ei(e,t){return e.getUint16(t)===Fn}function ti(e,t){return e.getUint16(t)===_n}function ni(e,t){const n=rt.length;return e.getUint16(t)===bn&&h(e,t+k,n)===rt}function ri(e,t){const n=Dt.length;return e.getUint16(t)===bn&&h(e,t+k,n)===Dt}function ii(e,t){const n=Ut.length;return e.getUint16(t)===An&&h(e,t+k,n)===Ut&&e.getUint8(t+k+n)===0}function oi(e,t){const n=Mt.length;return e.getUint16(t)===gt&&h(e,t+k,n)===Mt&&e.getUint8(t+k+n)===0}function si(e,t){return e.getUint16(t)===gt&&ui(e,t)}function ui(e,t){const n=Lt.length;return h(e,t+k,n)===Lt}function ci(e,t){return e.getUint16(t)===gt&&ai(e,t)}function ai(e,t){const n=Bt.length;return h(e,t+k,n)===Bt}function fi(e,t){return{dataOffset:e+Nt,length:t-(Nt-D)}}function li(e,t){return{dataOffset:e+Ot,length:t-(Ot-D)}}function di(e,t){const n=Gt.length;return e.getUint16(t)===Wr&&h(e,t+k,n)===Gt&&e.getUint8(t+k+n)===0}function pi(e,t){const n=e.getUint16(t);return n>=An&&n<=wr||n===Jr||n===Fn||n===_n||n===Yr||n===jr||n===zr||n===Kr}function mi(e,t){return e.getUint16(t)===qr}const kt={isPngFile:Ei,findPngOffsets:Si},it=`PNG\r

`,De=4,H=4,le=0,J=De,O=De+H,ot="XML:com.adobe.xmp\0",xt="tEXt",re="iTXt",Me="zTXt",Pn="pHYs",yn="tIME",gi="eXIf",xi="iCCP";function Ei(e){return!!e&&h(e,0,it.length)===it}function Si(e,t){const r={hasAppMarkers:!1};let i=it.length;for(;i+De+H<=e.byteLength;){if(Ii(e,i))r.hasAppMarkers=!0,r.pngHeaderOffset=i+O;else if(hi(e,i)){const s=bi(e,i);s!==void 0&&(r.hasAppMarkers=!0,r.xmpChunks=[{dataOffset:s,length:e.getUint32(i+le)-(s-(i+O))}])}else if(Ti(e,i,t)){r.hasAppMarkers=!0;const s=h(e,i+J,H);r.pngTextChunks||(r.pngTextChunks=[]),r.pngTextChunks.push({length:e.getUint32(i+le),type:s,offset:i+O})}else if(Fi(e,i))r.hasAppMarkers=!0,r.tiffHeaderOffset=i+O;else if(t&&_i(e,i)){r.hasAppMarkers=!0;const s=e.getUint32(i+le),o=i+O,{profileName:a,compressionMethod:l,compressedProfileOffset:g}=Pi(e,o);r.iccChunks||(r.iccChunks=[]),r.iccChunks.push({offset:g,length:s-(g-o),chunkNumber:1,chunksTotal:1,profileName:a,compressionMethod:l})}else Ai(e,i)&&(r.hasAppMarkers=!0,r.pngChunkOffsets||(r.pngChunkOffsets=[]),r.pngChunkOffsets.push(i+le));i+=e.getUint32(i+le)+De+H+4}return r}function Ii(e,t){return h(e,t+J,H)==="IHDR"}function hi(e,t){return h(e,t+J,H)===re&&h(e,t+O,ot.length)===ot}function Ti(e,t,n){const r=h(e,t+J,H);return r===xt||r===re||r===Me&&n}function Fi(e,t){return h(e,t+J,H)===gi}function _i(e,t){return h(e,t+J,H)===xi}function Ai(e,t){const n=[Pn,yn],r=h(e,t+J,H);return n.includes(r)}function bi(e,t){t+=O+ot.length+1+1;let i=0;for(;i<2&&t<e.byteLength;)e.getUint8(t)===0&&i++,t++;if(!(i<2))return t}function Pi(e,t){const i=fe(e,t);t+=i.length+1;const s=e.getUint8(t);return t+=1,{profileName:i,compressionMethod:s,compressedProfileOffset:t}}function yi(e,t){return e.getUint32(t+4)}function Ci(e,t,n,r){const{offsets:s,sizes:o}=Ni(t,n+3),a=e.getUint8(s.offsetSize)>>4;o.item.extent.extentOffset=a;const l=e.getUint8(s.lengthSize)&15;o.item.extent.extentLength=l;const g=e.getUint8(s.baseOffsetSize)>>4;o.item.baseOffset=g;const d=Oi(e,s.indexSize,t);o.item.extent.extentIndex=d!==void 0?d:0;const p=Ri(e,s.itemCount,t);return{type:"iloc",items:Di(e,t,s,o,a,l,d,p),length:r}}function Ni(e,t){const n={item:{dataReferenceIndex:2,extentCount:2,extent:{}}};e<2?(n.itemCount=2,n.item.itemId=2):e===2&&(n.itemCount=4,n.item.itemId=4),e===1||e===2?n.item.constructionMethod=2:n.item.constructionMethod=0;const r={offsetSize:t,lengthSize:t,baseOffsetSize:t+1,indexSize:t+1};return r.itemCount=t+2,r.items=r.itemCount+n.itemCount,r.item={itemId:0},r.item.constructionMethod=r.item.itemId+n.item.itemId,r.item.dataReferenceIndex=r.item.constructionMethod+n.item.constructionMethod,{offsets:r,sizes:n}}function Oi(e,t,n){if(n===1||n===2)return e.getUint8(t)&15}function Ri(e,t,n){if(n<2)return e.getUint16(t);if(n===2)return e.getUint32(t)}function Di(e,t,n,r,i,s,o,a){if(a===void 0)return[];const l=[];let g=n.items;for(let d=0;d<a;d++){const p={extents:[]};p.itemId=Ui(e,g,t),g+=r.item.itemId,p.constructionMethod=t===1||t===2?e.getUint16(g)&15:void 0,g+=r.item.constructionMethod,p.dataReferenceIndex=e.getUint16(g),g+=r.item.dataReferenceIndex,p.baseOffset=Pe(e,g,r.item.baseOffset),g+=r.item.baseOffset,p.extentCount=e.getUint16(g),g+=r.item.extentCount;for(let E=0;E<p.extentCount;E++){const S={};S.extentIndex=Mi(e,t,g,o),g+=r.item.extent.extentIndex,S.extentOffset=Pe(e,g,i),g+=r.item.extent.extentOffset,S.extentLength=Pe(e,g,s),g+=r.item.extent.extentLength,p.extents.push(S)}l.push(p)}return l}function Ui(e,t,n){if(n<2)return e.getUint16(t);if(n===2)return e.getUint32(t)}function Mi(e,t,n,r){if((t===1||t===2)&&r>0)return Pe(e,n,r)}function Pe(e,t,n){return n===4?e.getUint32(t):n===8?(console.warn("This file uses an 8-bit offset which is currently not supported by ExifReader. Contact the maintainer to get it fixed."),yi(e,t)):0}const Li=1718909296,Bi=1768977008,Gi=1835365473,ki=1768714083,vi=1768517222,Zi=1768842853,Hi=1768973167,Xi=1668246642,Cn=1165519206,Et=1835625829,$i=1970432288;function Le(e,t){const{length:s,contentOffset:o}=Yi(e,t);if(s<8)return;const a=e.getUint32(t+4);if(a===Li)return to(e,o,s);if(a===Bi)return no(e,t,o,s);if(a===Hi)return ro(e,t,o,s);if(a===Xi)return io(e,o,s);const l=e.getUint8(o);return a===Gi?so(e,t,o+1,s):a===ki?Ci(e,l,o+1,s):a===vi?uo(e,t,l,o+1,s):a===Zi?ao(e,t,l,o+1,s):{type:void 0,length:s}}function Yi(e,t){const o=e.getUint32(t);return ji(o)?{length:e.byteLength-t,contentOffset:t+4+4}:zi(o)&&Ki(e,t)?{length:e.getUint32(t+12),contentOffset:t+4+4+8}:{length:o,contentOffset:t+4+4}}function ji(e){return e===0}function zi(e){return e===1}function Ki(e,t){return e.getUint32(t+8)===0}function Nn(e){{const t={},n=Wi(e);return n?(t.tiffHeaderOffset=wi(e,n),t.xmpChunks=Qi(n),t.iccChunks=eo(n),t.hasAppMarkers=t.tiffHeaderOffset!==void 0||t.xmpChunks!==void 0||t.iccChunks!==void 0,t):{hasAppMarkers:!1}}}function Wi(e){let r=0;for(;r+4+4<=e.byteLength;){const i=Le(e,r);if(i===void 0)break;if(i.type==="meta")return i;r+=i.length}}function wi(e,t){try{const n=Ji(t).itemId,r=st(t,n),i=r.baseOffset+r.extents[0].extentOffset;return qi(e,i)}catch{return}}function Ji(e){return e.subBoxes.find(t=>t.type==="iinf").itemInfos.find(t=>t.itemType===Cn)}function st(e,t){return e.subBoxes.find(n=>n.type==="iloc").items.find(n=>n.itemId===t)}function qi(e,t){return t+4+e.getUint32(t)}function Qi(e){try{const t=Vi(e).itemId,n=st(e,t),r=st(e,t).extents[0];return[{dataOffset:n.baseOffset+r.extentOffset,length:r.extentLength}]}catch{return}}function Vi(e){return e.subBoxes.find(t=>t.type==="iinf").itemInfos.find(t=>t.itemType===Et&&t.contentType==="application/rdf+xml")}function eo(e){try{const t=e.subBoxes.find(n=>n.type==="iprp").subBoxes.find(n=>n.type==="ipco").properties.find(n=>n.type==="colr").icc;if(t)return[t]}catch{}}function to(e,t,n){return{type:"ftyp",majorBrand:h(e,t,4),length:n}}function no(e,t,n,r){return{type:"iprp",subBoxes:Be(e,n,r-(n-t)),length:r}}function ro(e,t,n,r){return{type:"ipco",properties:Be(e,n,r-(n-t)),length:r}}function io(e,t,n){return{type:"colr",icc:oo(e,t),length:n}}function oo(e,t){const r=h(e,t,4);if(!(r!=="prof"&&r!=="rICC"))return{offset:t+4,length:e.getUint32(t+4),chunkNumber:1,chunksTotal:1}}function so(e,t,n,r){return{type:"meta",subBoxes:Be(e,n+3,r-(n+3-t)),length:r}}function Be(e,t,n){const r=[Cn,Et],i=[];let s=t;for(;s<t+n;){const o=Le(e,s);if(o===void 0)break;o.type!==void 0&&(o.itemType===void 0||r.indexOf(o.itemType)!==-1)&&i.push(o),s+=o.length}return i}function uo(e,t,n,r,i){const{offsets:s}=co(n,r);return{type:"iinf",itemInfos:Be(e,s.itemInfos,i-(s.itemInfos-t)),length:i}}function co(e,t){const r={entryCount:t+3},i={};return e===0?i.entryCount=2:i.entryCount=4,r.itemInfos=r.entryCount+i.entryCount,{offsets:r}}function ao(e,t,n,r,i){r+=3;const o={type:"infe",length:i};return(n===0||n===1)&&(o.itemId=e.getUint16(r),r+=2,o.itemProtectionIndex=e.getUint16(r),r+=2,o.itemName=fe(e,r),r+=o.itemName.length+1),n>=2&&(n===2?(o.itemId=e.getUint16(r),r+=2):n===3&&(o.itemId=e.getUint32(r),r+=4),o.itemProtectionIndex=e.getUint16(r),r+=2,o.itemType=e.getUint32(r),r+=4,o.itemName=fe(e,r),r+=o.itemName.length+1,o.itemType===Et?(o.contentType=fe(e,r),r+=o.contentType.length+1,t+i>r&&(o.contentEncoding=fe(e,r),r+=o.contentEncoding.length+1)):o.itemType===$i&&(o.itemUri=fe(e,r),r+=o.itemUri.length+1)),o}const vt={isHeicFile:fo,findHeicOffsets:lo};function fo(e){if(!e)return!1;const t=["heic","heix","hevc","hevx","heim","heis","hevm","hevs","mif1"];try{const n=Le(e,0);return n&&t.indexOf(n.majorBrand)!==-1}catch{return!1}}function lo(e){return Nn(e)}const Zt={isAvifFile:po,findAvifOffsets:mo};function po(e){if(!e)return!1;try{const t=Le(e,0);return t&&t.majorBrand==="avif"}catch{return!1}}function mo(e){return Nn(e)}const Ht={isWebpFile:go,findOffsets:xo};function go(e){const n="RIFF",i="WEBP";return!!e&&h(e,0,n.length)===n&&h(e,8,i.length)===i}function xo(e){const r="Exif\0\0";let s=12,o=!1,a,l,g,d;for(;s+8<e.byteLength;){const p=h(e,s,4),E=e.getUint32(s+4,!0);p==="EXIF"?(o=!0,h(e,s+8,r.length)===r?a=s+8+r.length:a=s+8):p==="XMP "?(o=!0,l=[{dataOffset:s+8,length:E}]):p==="ICCP"?(o=!0,g=[{offset:s+8,length:E,chunkNumber:1,chunksTotal:1}]):p==="VP8X"&&(o=!0,d=s+8),s+=8+(E%2===0?E:E+1)}return{hasAppMarkers:o,tiffHeaderOffset:a,xmpChunks:l,iccChunks:g,vp8xChunkOffset:d}}const Xt={isGifFile:Io,findOffsets:ho},Eo=6,So=["GIF87a","GIF89a"];function Io(e){return!!e&&So.includes(h(e,0,Eo))}function ho(){return{gifHeaderOffset:0}}const $t={isXMLFile:To,findOffsets:Fo},On=0,Yt="<?xpacket begin";function To(e){return!!e&&h(e,On,Yt.length)===Yt}function Fo(e){const t=[];return t.push({dataOffset:On,length:e.byteLength}),{xmpChunks:t}}const _o={parseAppMarkers:Ao};function Ao(e,t){if(Pt.isTiffFile(e))return K(Pt.findTiffOffsets(),"tiff","TIFF");if(yt.isJpegFile(e))return K(yt.findJpegOffsets(e),"jpeg","JPEG");if(kt.isPngFile(e))return K(kt.findPngOffsets(e,t),"png","PNG");if(vt.isHeicFile(e))return K(vt.findHeicOffsets(e),"heic","HEIC");if(Zt.isAvifFile(e))return K(Zt.findAvifOffsets(e),"avif","AVIF");if(Ht.isWebpFile(e))return K(Ht.findOffsets(e),"webp","WebP");if(Xt.isGifFile(e))return K(Xt.findOffsets(e),"gif","GIF");if($t.isXMLFile(e))return K($t.findOffsets(e),"xml","XML");throw new Error("Invalid image format")}function K(e,t,n){return T({},e,{fileType:{value:t,description:n}})}const I={ApertureValue:e=>Math.pow(Math.sqrt(2),e[0]/e[1]).toFixed(2),ColorSpace(e){return e===1?"sRGB":e===65535?"Uncalibrated":"Unknown"},ComponentsConfiguration(e){return e.map(t=>{if(t===49)return"Y";if(t===50)return"Cb";if(t===51)return"Cr";if(t===52)return"R";if(t===53)return"G";if(t===54)return"B"}).join("")},Contrast(e){return e===0?"Normal":e===1?"Soft":e===2?"Hard":"Unknown"},CustomRendered(e){return e===0?"Normal process":e===1?"Custom process":"Unknown"},ExposureMode(e){return e===0?"Auto exposure":e===1?"Manual exposure":e===2?"Auto bracket":"Unknown"},ExposureProgram(e){return e===0?"Undefined":e===1?"Manual":e===2?"Normal program":e===3?"Aperture priority":e===4?"Shutter priority":e===5?"Creative program":e===6?"Action program":e===7?"Portrait mode":e===8?"Landscape mode":e===9?"Bulb":"Unknown"},ExposureTime(e){if(e[0]/e[1]>.25){const t=e[0]/e[1];return Number.isInteger(t)?""+t:t.toFixed(1)}return e[0]!==0?`1/${Math.round(e[1]/e[0])}`:`0/${e[1]}`},FNumber:e=>`f/${Number(e[0]/e[1]).toFixed(1)}`,FocalLength:e=>e[0]/e[1]+" mm",FocalPlaneResolutionUnit(e){return e===2?"inches":e===3?"centimeters":e===4?"millimeters":"Unknown"},LightSource:e=>e===1?"Daylight":e===2?"Fluorescent":e===3?"Tungsten (incandescent light)":e===4?"Flash":e===9?"Fine weather":e===10?"Cloudy weather":e===11?"Shade":e===12?"Daylight fluorescent (D 5700 – 7100K)":e===13?"Day white fluorescent (N 4600 – 5400K)":e===14?"Cool white fluorescent (W 3900 – 4500K)":e===15?"White fluorescent (WW 3200 – 3700K)":e===17?"Standard light A":e===18?"Standard light B":e===19?"Standard light C":e===20?"D55":e===21?"D65":e===22?"D75":e===23?"D50":e===24?"ISO studio tungsten":e===255?"Other light source":"Unknown",MeteringMode(e){return e===1?"Average":e===2?"CenterWeightedAverage":e===3?"Spot":e===4?"MultiSpot":e===5?"Pattern":e===6?"Partial":e===255?"Other":"Unknown"},ResolutionUnit(e){return e===2?"inches":e===3?"centimeters":"Unknown"},Saturation(e){return e===0?"Normal":e===1?"Low saturation":e===2?"High saturation":"Unknown"},FocalLengthIn35mmFilm(e){return e===0?"Unknown":e+" mm"},SceneCaptureType(e){return e===0?"Standard":e===1?"Landscape":e===2?"Portrait":e===3?"Night scene":"Unknown"},Sharpness(e){return e===0?"Normal":e===1?"Soft":e===2?"Hard":"Unknown"},ShutterSpeedValue(e){const t=Math.pow(2,e[0]/e[1]);return t<=1?`${Math.round(1/t)}`:`1/${Math.round(t)}`},WhiteBalance(e){return e===0?"Auto white balance":e===1?"Manual white balance":"Unknown"},XResolution:e=>""+Math.round(e[0]/e[1]),YResolution:e=>""+Math.round(e[0]/e[1])},Rn={11:"ProcessingSoftware",254:{name:"SubfileType",description:e=>({0:"Full-resolution image",1:"Reduced-resolution image",2:"Single page of multi-page image",3:"Single page of multi-page reduced-resolution image",4:"Transparency mask",5:"Transparency mask of reduced-resolution image",6:"Transparency mask of multi-page image",7:"Transparency mask of reduced-resolution multi-page image",65537:"Alternate reduced-resolution image",4294967295:"Invalid"})[e]||"Unknown"},255:{name:"OldSubfileType",description:e=>({0:"Full-resolution image",1:"Reduced-resolution image",2:"Single page of multi-page image"})[e]||"Unknown"},256:"ImageWidth",257:"ImageLength",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",263:{name:"Thresholding",description:e=>({1:"No dithering or halftoning",2:"Ordered dither or halfton",3:"Randomized dither"})[e]||"Unknown"},264:"CellWidth",265:"CellLength",266:{name:"FillOrder",description:e=>({1:"Normal",2:"Reversed"})[e]||"Unknown"},269:"DocumentName",270:"ImageDescription",271:"Make",272:"Model",273:"StripOffsets",274:{name:"Orientation",description:e=>e===1?"top-left":e===2?"top-right":e===3?"bottom-right":e===4?"bottom-left":e===5?"left-top":e===6?"right-top":e===7?"right-bottom":e===8?"left-bottom":"Undefined"},277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",280:"MinSampleValue",281:"MaxSampleValue",282:{name:"XResolution",description:I.XResolution},283:{name:"YResolution",description:I.YResolution},284:"PlanarConfiguration",285:"PageName",286:{name:"XPosition",description:e=>""+Math.round(e[0]/e[1])},287:{name:"YPosition",description:e=>""+Math.round(e[0]/e[1])},290:{name:"GrayResponseUnit",description:e=>({1:"0.1",2:"0.001",3:"0.0001",4:"1e-05",5:"1e-06"})[e]||"Unknown"},296:{name:"ResolutionUnit",description:I.ResolutionUnit},297:"PageNumber",301:"TransferFunction",305:"Software",306:"DateTime",315:"Artist",316:"HostComputer",317:"Predictor",318:{name:"WhitePoint",description:e=>e.map(t=>`${t[0]}/${t[1]}`).join(", ")},319:{name:"PrimaryChromaticities",description:e=>e.map(t=>`${t[0]}/${t[1]}`).join(", ")},321:"HalftoneHints",322:"TileWidth",323:"TileLength",330:"A100DataOffset",332:{name:"InkSet",description:e=>({1:"CMYK",2:"Not CMYK"})[e]||"Unknown"},337:"TargetPrinter",338:{name:"ExtraSamples",description:e=>({0:"Unspecified",1:"Associated Alpha",2:"Unassociated Alpha"})[e]||"Unknown"},339:{name:"SampleFormat",description:e=>{const t={1:"Unsigned",2:"Signed",3:"Float",4:"Undefined",5:"Complex int",6:"Complex float"};return Array.isArray(e)?e.map(n=>t[n]||"Unknown").join(", "):"Unknown"}},513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",529:{name:"YCbCrCoefficients",description:e=>e.map(t=>""+t[0]/t[1]).join("/")},530:"YCbCrSubSampling",531:{name:"YCbCrPositioning",description:e=>e===1?"centered":e===2?"co-sited":"undefined "+e},532:{name:"ReferenceBlackWhite",description:e=>e.map(t=>""+t[0]/t[1]).join(", ")},700:"ApplicationNotes",18246:"Rating",18249:"RatingPercent",33432:{name:"Copyright",description:e=>e.join("; ")},33550:"PixelScale",33723:"IPTC-NAA",33920:"IntergraphMatrix",33922:"ModelTiePoint",34118:"SEMInfo",34264:"ModelTransform",34377:"PhotoshopSettings",34665:"Exif IFD Pointer",34675:"ICC_Profile",34735:"GeoTiffDirectory",34736:"GeoTiffDoubleParams",34737:"GeoTiffAsciiParams",34853:"GPS Info IFD Pointer",40091:{name:"XPTitle",description:pe},40092:{name:"XPComment",description:pe},40093:{name:"XPAuthor",description:pe},40094:{name:"XPKeywords",description:pe},40095:{name:"XPSubject",description:pe},42112:"GDALMetadata",42113:"GDALNoData",50341:"PrintIM",50707:"DNGBackwardVersion",50708:"UniqueCameraModel",50709:"LocalizedCameraModel",50721:"ColorMatrix1",50722:"ColorMatrix2",50723:"CameraCalibration1",50724:"CameraCalibration2",50725:"ReductionMatrix1",50726:"ReductionMatrix2",50727:"AnalogBalance",50728:"AsShotNeutral",50729:"AsShotWhiteXY",50730:"BaselineExposure",50731:"BaselineNoise",50732:"BaselineSharpness",50734:"LinearResponseLimit",50735:"CameraSerialNumber",50736:"DNGLensInfo",50739:"ShadowScale",50741:{name:"MakerNoteSafety",description:e=>({0:"Unsafe",1:"Safe"})[e]||"Unknown"},50778:{name:"CalibrationIlluminant1",description:I.LightSource},50779:{name:"CalibrationIlluminant2",description:I.LightSource},50781:"RawDataUniqueID",50827:"OriginalRawFileName",50828:"OriginalRawFileData",50831:"AsShotICCProfile",50832:"AsShotPreProfileMatrix",50833:"CurrentICCProfile",50834:"CurrentPreProfileMatrix",50879:"ColorimetricReference",50885:"SRawType",50898:"PanasonicTitle",50899:"PanasonicTitle2",50931:"CameraCalibrationSig",50932:"ProfileCalibrationSig",50933:"ProfileIFD",50934:"AsShotProfileName",50936:"ProfileName",50937:"ProfileHueSatMapDims",50938:"ProfileHueSatMapData1",50939:"ProfileHueSatMapData2",50940:"ProfileToneCurve",50941:{name:"ProfileEmbedPolicy",description:e=>({0:"Allow Copying",1:"Embed if Used",2:"Never Embed",3:"No Restrictions"})[e]||"Unknown"},50942:"ProfileCopyright",50964:"ForwardMatrix1",50965:"ForwardMatrix2",50966:"PreviewApplicationName",50967:"PreviewApplicationVersion",50968:"PreviewSettingsName",50969:"PreviewSettingsDigest",50970:{name:"PreviewColorSpace",description:e=>({1:"Gray Gamma 2.2",2:"sRGB",3:"Adobe RGB",4:"ProPhoto RGB"})[e]||"Unknown"},50971:"PreviewDateTime",50972:"RawImageDigest",50973:"OriginalRawFileDigest",50981:"ProfileLookTableDims",50982:"ProfileLookTableData",51043:"TimeCodes",51044:"FrameRate",51058:"TStop",51081:"ReelName",51089:"OriginalDefaultFinalSize",51090:"OriginalBestQualitySize",51091:"OriginalDefaultCropSize",51105:"CameraLabel",51107:{name:"ProfileHueSatMapEncoding",description:e=>({0:"Linear",1:"sRGB"})[e]||"Unknown"},51108:{name:"ProfileLookTableEncoding",description:e=>({0:"Linear",1:"sRGB"})[e]||"Unknown"},51109:"BaselineExposureOffset",51110:{name:"DefaultBlackRender",description:e=>({0:"Auto",1:"None"})[e]||"Unknown"},51111:"NewRawImageDigest",51112:"RawToPreviewGain"};function pe(e){return new TextDecoder("utf-16").decode(new Uint8Array(e)).replace(/\u0000+$/,"")}const bo={33434:{name:"ExposureTime",description:I.ExposureTime},33437:{name:"FNumber",description:I.FNumber},34850:{name:"ExposureProgram",description:I.ExposureProgram},34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:{name:"OECF",description:()=>"[Raw OECF table data]"},34858:"TimeZoneOffset",34859:"SelfTimerMode",34864:{name:"SensitivityType",description:e=>({1:"Standard Output Sensitivity",2:"Recommended Exposure Index",3:"ISO Speed",4:"Standard Output Sensitivity and Recommended Exposure Index",5:"Standard Output Sensitivity and ISO Speed",6:"Recommended Exposure Index and ISO Speed",7:"Standard Output Sensitivity, Recommended Exposure Index and ISO Speed"})[e]||"Unknown"},34865:"StandardOutputSensitivity",34866:"RecommendedExposureIndex",34867:"ISOSpeed",34868:"ISOSpeedLatitudeyyy",34869:"ISOSpeedLatitudezzz",36864:{name:"ExifVersion",description:e=>b(e)},36867:"DateTimeOriginal",36868:"DateTimeDigitized",36873:"GooglePlusUploadCode",36880:"OffsetTime",36881:"OffsetTimeOriginal",36882:"OffsetTimeDigitized",37121:{name:"ComponentsConfiguration",description:I.ComponentsConfiguration},37122:"CompressedBitsPerPixel",37377:{name:"ShutterSpeedValue",description:I.ShutterSpeedValue},37378:{name:"ApertureValue",description:I.ApertureValue},37379:"BrightnessValue",37380:"ExposureBiasValue",37381:{name:"MaxApertureValue",description:e=>Math.pow(Math.sqrt(2),e[0]/e[1]).toFixed(2)},37382:{name:"SubjectDistance",description:e=>e[0]/e[1]+" m"},37383:{name:"MeteringMode",description:I.MeteringMode},37384:{name:"LightSource",description:I.LightSource},37385:{name:"Flash",description:e=>e===0?"Flash did not fire":e===1?"Flash fired":e===5?"Strobe return light not detected":e===7?"Strobe return light detected":e===9?"Flash fired, compulsory flash mode":e===13?"Flash fired, compulsory flash mode, return light not detected":e===15?"Flash fired, compulsory flash mode, return light detected":e===16?"Flash did not fire, compulsory flash mode":e===24?"Flash did not fire, auto mode":e===25?"Flash fired, auto mode":e===29?"Flash fired, auto mode, return light not detected":e===31?"Flash fired, auto mode, return light detected":e===32?"No flash function":e===65?"Flash fired, red-eye reduction mode":e===69?"Flash fired, red-eye reduction mode, return light not detected":e===71?"Flash fired, red-eye reduction mode, return light detected":e===73?"Flash fired, compulsory flash mode, red-eye reduction mode":e===77?"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected":e===79?"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected":e===89?"Flash fired, auto mode, red-eye reduction mode":e===93?"Flash fired, auto mode, return light not detected, red-eye reduction mode":e===95?"Flash fired, auto mode, return light detected, red-eye reduction mode":"Unknown"},37386:{name:"FocalLength",description:I.FocalLength},37393:"ImageNumber",37394:{name:"SecurityClassification",description:e=>({C:"Confidential",R:"Restricted",S:"Secret",T:"Top Secret",U:"Unclassified"})[e]||"Unknown"},37395:"ImageHistory",37396:{name:"SubjectArea",description:e=>e.length===2?`Location; X: ${e[0]}, Y: ${e[1]}`:e.length===3?`Circle; X: ${e[0]}, Y: ${e[1]}, diameter: ${e[2]}`:e.length===4?`Rectangle; X: ${e[0]}, Y: ${e[1]}, width: ${e[2]}, height: ${e[3]}`:"Unknown"},37500:{name:"MakerNote",description:()=>"[Raw maker note data]"},37510:{name:"UserComment",description:et},37520:"SubSecTime",37521:"SubSecTimeOriginal",37522:"SubSecTimeDigitized",37724:"ImageSourceData",37888:{name:"AmbientTemperature",description:e=>e[0]/e[1]+" °C"},37889:{name:"Humidity",description:e=>e[0]/e[1]+" %"},37890:{name:"Pressure",description:e=>e[0]/e[1]+" hPa"},37891:{name:"WaterDepth",description:e=>e[0]/e[1]+" m"},37892:{name:"Acceleration",description:e=>e[0]/e[1]+" mGal"},37893:{name:"CameraElevationAngle",description:e=>e[0]/e[1]+" °"},40960:{name:"FlashpixVersion",description:e=>e.map(t=>String.fromCharCode(t)).join("")},40961:{name:"ColorSpace",description:I.ColorSpace},40962:"PixelXDimension",40963:"PixelYDimension",40964:"RelatedSoundFile",40965:"Interoperability IFD Pointer",41483:"FlashEnergy",41484:{name:"SpatialFrequencyResponse",description:()=>"[Raw SFR table data]"},41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:{name:"FocalPlaneResolutionUnit",description:I.FocalPlaneResolutionUnit},41492:{name:"SubjectLocation",description:([e,t])=>`X: ${e}, Y: ${t}`},41493:"ExposureIndex",41495:{name:"SensingMethod",description:e=>e===1?"Undefined":e===2?"One-chip color area sensor":e===3?"Two-chip color area sensor":e===4?"Three-chip color area sensor":e===5?"Color sequential area sensor":e===7?"Trilinear sensor":e===8?"Color sequential linear sensor":"Unknown"},41728:{name:"FileSource",description:e=>e===3?"DSC":"Unknown"},41729:{name:"SceneType",description:e=>e===1?"A directly photographed image":"Unknown"},41730:{name:"CFAPattern",description:()=>"[Raw CFA pattern table data]"},41985:{name:"CustomRendered",description:I.CustomRendered},41986:{name:"ExposureMode",description:I.ExposureMode},41987:{name:"WhiteBalance",description:I.WhiteBalance},41988:{name:"DigitalZoomRatio",description:e=>e[0]===0?"Digital zoom was not used":""+e[0]/e[1]},41989:{name:"FocalLengthIn35mmFilm",description:I.FocalLengthIn35mmFilm},41990:{name:"SceneCaptureType",description:I.SceneCaptureType},41991:{name:"GainControl",description:e=>e===0?"None":e===1?"Low gain up":e===2?"High gain up":e===3?"Low gain down":e===4?"High gain down":"Unknown"},41992:{name:"Contrast",description:I.Contrast},41993:{name:"Saturation",description:I.Saturation},41994:{name:"Sharpness",description:I.Sharpness},41995:{name:"DeviceSettingDescription",description:()=>"[Raw device settings table data]"},41996:{name:"SubjectDistanceRange",description:e=>e===1?"Macro":e===2?"Close view":e===3?"Distant view":"Unknown"},42016:"ImageUniqueID",42032:"CameraOwnerName",42033:"BodySerialNumber",42034:{name:"LensSpecification",description:e=>{const t=parseFloat((e[0][0]/e[0][1]).toFixed(5)),n=parseFloat((e[1][0]/e[1][1]).toFixed(5)),r=`${t}-${n} mm`;if(e[3][1]===0)return`${r} f/?`;const i=1/(e[2][1]/e[2][1]/(e[3][0]/e[3][1]));return`${r} f/${parseFloat(i.toFixed(5))}`}},42035:"LensMake",42036:"LensModel",42037:"LensSerialNumber",42080:{name:"CompositeImage",description:e=>({1:"Not a Composite Image",2:"General Composite Image",3:"Composite Image Captured While Shooting"})[e]||"Unknown"},42081:"SourceImageNumberOfCompositeImage",42082:"SourceExposureTimesOfCompositeImage",42240:"Gamma",59932:"Padding",59933:"OffsetSchema",65e3:"OwnerName",65001:"SerialNumber",65002:"Lens",65100:"RawFile",65101:"Converter",65102:"WhiteBalance",65105:"Exposure",65106:"Shadows",65107:"Brightness",65108:"Contrast",65109:"Saturation",65110:"Sharpness",65111:"Smoothness",65112:"MoireFilter"},Po={0:{name:"GPSVersionID",description:e=>e[0]===2&&e[1]===2&&e[2]===0&&e[3]===0?"Version 2.2":"Unknown"},1:{name:"GPSLatitudeRef",description:e=>{const t=e.join("");return t==="N"?"North latitude":t==="S"?"South latitude":"Unknown"}},2:{name:"GPSLatitude",description:Re},3:{name:"GPSLongitudeRef",description:e=>{const t=e.join("");return t==="E"?"East longitude":t==="W"?"West longitude":"Unknown"}},4:{name:"GPSLongitude",description:Re},5:{name:"GPSAltitudeRef",description:e=>e===0?"Sea level":e===1?"Sea level reference (negative value)":"Unknown"},6:{name:"GPSAltitude",description:e=>e[0]/e[1]+" m"},7:{name:"GPSTimeStamp",description:e=>e.map(([t,n])=>{const r=t/n;return/^\d(\.|$)/.test(`${r}`)?`0${r}`:r}).join(":")},8:"GPSSatellites",9:{name:"GPSStatus",description:e=>{const t=e.join("");return t==="A"?"Measurement in progress":t==="V"?"Measurement Interoperability":"Unknown"}},10:{name:"GPSMeasureMode",description:e=>{const t=e.join("");return t==="2"?"2-dimensional measurement":t==="3"?"3-dimensional measurement":"Unknown"}},11:"GPSDOP",12:{name:"GPSSpeedRef",description:e=>{const t=e.join("");return t==="K"?"Kilometers per hour":t==="M"?"Miles per hour":t==="N"?"Knots":"Unknown"}},13:"GPSSpeed",14:{name:"GPSTrackRef",description:e=>{const t=e.join("");return t==="T"?"True direction":t==="M"?"Magnetic direction":"Unknown"}},15:"GPSTrack",16:{name:"GPSImgDirectionRef",description:e=>{const t=e.join("");return t==="T"?"True direction":t==="M"?"Magnetic direction":"Unknown"}},17:"GPSImgDirection",18:"GPSMapDatum",19:{name:"GPSDestLatitudeRef",description:e=>{const t=e.join("");return t==="N"?"North latitude":t==="S"?"South latitude":"Unknown"}},20:{name:"GPSDestLatitude",description:e=>e[0][0]/e[0][1]+e[1][0]/e[1][1]/60+e[2][0]/e[2][1]/3600},21:{name:"GPSDestLongitudeRef",description:e=>{const t=e.join("");return t==="E"?"East longitude":t==="W"?"West longitude":"Unknown"}},22:{name:"GPSDestLongitude",description:e=>e[0][0]/e[0][1]+e[1][0]/e[1][1]/60+e[2][0]/e[2][1]/3600},23:{name:"GPSDestBearingRef",description:e=>{const t=e.join("");return t==="T"?"True direction":t==="M"?"Magnetic direction":"Unknown"}},24:"GPSDestBearing",25:{name:"GPSDestDistanceRef",description:e=>{const t=e.join("");return t==="K"?"Kilometers":t==="M"?"Miles":t==="N"?"Knots":"Unknown"}},26:"GPSDestDistance",27:{name:"GPSProcessingMethod",description:et},28:{name:"GPSAreaInformation",description:et},29:"GPSDateStamp",30:{name:"GPSDifferential",description:e=>e===0?"Measurement without differential correction":e===1?"Differential correction applied":"Unknown"},31:"GPSHPositioningError"},yo={1:"InteroperabilityIndex",2:{name:"InteroperabilityVersion",description:e=>b(e)},4096:"RelatedImageFileFormat",4097:"RelatedImageWidth",4098:"RelatedImageHeight"},Co={45056:{name:"MPFVersion",description:e=>b(e)},45057:"NumberOfImages",45058:"MPEntry",45059:"ImageUIDList",45060:"TotalFrames"},No={4:{name:"ShotInfo",description:e=>e}},Oo={0:{name:"PentaxVersion",description:e=>e.join(".")},5:"PentaxModelID",555:"LevelInfo"},jt=T({},Rn,bo),St="0th",Dn="1st",Un="exif",Mn="gps",Ln="interoperability",Bn="mpf",Gn="canon",It="pentax",W={[St]:jt,[Dn]:Rn,[Un]:jt,[Mn]:Po,[Ln]:yo,[Bn]:Co,[Gn]:No,[It]:Oo},kn={1:1,2:1,3:2,4:4,5:8,7:1,9:4,10:8,13:4},ut={BYTE:1,ASCII:2,SHORT:3,LONG:4,RATIONAL:5,UNDEFINED:7,SLONG:9,SRATIONAL:10,IFD:13},m={getAsciiValue:Ro,getByteAt:vn,getAsciiAt:Do,getShortAt:Uo,getLongAt:Ue,getRationalAt:Mo,getUndefinedAt:Lo,getSlongAt:ct,getSrationalAt:Bo,getIfdPointerAt:Go,typeSizes:kn,tagTypes:ut,getTypeSize:ko};function Ro(e){return e.map(t=>String.fromCharCode(t))}function vn(e,t){return e.getUint8(t)}function Do(e,t){return e.getUint8(t)}function Uo(e,t,n){return e.getUint16(t,n===$.LITTLE_ENDIAN)}function Ue(e,t,n){return e.getUint32(t,n===$.LITTLE_ENDIAN)}function Mo(e,t,n){return[Ue(e,t,n),Ue(e,t+4,n)]}function Lo(e,t){return vn(e,t)}function ct(e,t,n){return e.getInt32(t,n===$.LITTLE_ENDIAN)}function Bo(e,t,n){return[ct(e,t,n),ct(e,t+4,n)]}function Go(e,t,n){return Ue(e,t,n)}function ko(e){if(ut[e]===void 0)throw new Error("No such type found.");return kn[ut[e]]}const vo={1:m.getByteAt,2:m.getAsciiAt,3:m.getShortAt,4:m.getLongAt,5:m.getRationalAt,7:m.getUndefinedAt,9:m.getSlongAt,10:m.getSrationalAt,13:m.getIfdPointerAt};function Zn(e,t,n){return t+m.getLongAt(e,t+4,n)}function q(e,t,n,r,i,s){const o=m.getTypeSize("SHORT"),a=12,l={},g=Zo(e,r,i);r+=o;for(let d=0;d<g&&!(r+a>e.byteLength);d++){const p=Ho(e,t,n,r,i,s);p!==void 0&&(l[p.name]={id:p.id,value:p.value,description:p.description},(p.name==="MakerNote"||t===It&&p.name==="LevelInfo")&&(l[p.name].__offset=p.__offset)),r+=a}if(r<e.byteLength-m.getTypeSize("LONG")){const d=m.getLongAt(e,r,i);d!==0&&t===St&&(l.Thumbnail=q(e,Dn,n,n+d,i,s))}return l}function Zo(e,t,n){return t+m.getTypeSize("SHORT")<=e.byteLength?m.getShortAt(e,t,n):0}function Ho(e,t,n,r,i,s){const a=m.getTypeSize("SHORT"),l=a+m.getTypeSize("SHORT"),g=l+m.getTypeSize("LONG"),d=m.getShortAt(e,r,i),p=m.getShortAt(e,r+a,i),E=m.getLongAt(e,r+l,i);let S,A;if(m.typeSizes[p]===void 0||!s&&W[t][d]===void 0)return;if(Xo(p,E))A=r+g,S=zt(e,A,p,E,i);else if(A=m.getLongAt(e,r+g,i),$o(e,n,A,p,E)){const M=d===33723;S=zt(e,n+A,p,E,i,M)}else S="<faulty value>";p===m.tagTypes.ASCII&&(S=Yo(S),S=jo(S));let U=`undefined-${d}`,N=S;if(W[t][d]!==void 0)if(W[t][d].name!==void 0&&W[t][d].description!==void 0){U=W[t][d].name;try{N=W[t][d].description(S)}catch{N=Kt(S)}}else p===m.tagTypes.RATIONAL||p===m.tagTypes.SRATIONAL?(U=W[t][d],N=""+S[0]/S[1]):(U=W[t][d],N=Kt(S));return{id:d,name:U,value:S,description:N,__offset:A}}function Xo(e,t){return m.typeSizes[e]*t<=m.getTypeSize("LONG")}function zt(e,t,n,r,i,s=!1){let o=[];s&&(r=r*m.typeSizes[n],n=m.tagTypes.BYTE);for(let a=0;a<r;a++)o.push(vo[n](e,t,i)),t+=m.typeSizes[n];return n===m.tagTypes.ASCII?o=m.getAsciiValue(o):o.length===1&&(o=o[0]),o}function $o(e,t,n,r,i){return t+n+m.typeSizes[r]*i<=e.byteLength}function Yo(e){const t=[];let n=0;for(let r=0;r<e.length;r++){if(e[r]==="\0"){n++;continue}t[n]===void 0&&(t[n]=""),t[n]+=e[r]}return t}function jo(e){try{return e.map(t=>decodeURIComponent(escape(t)))}catch{return e}}function Kt(e){return e instanceof Array?e.join(", "):e}const Wt="Exif IFD Pointer",wt="GPS Info IFD Pointer",Jt="Interoperability IFD Pointer",Hn={read:zo};function zo(e,t,n){const r=$.getByteOrder(e,t);let i=Ko(e,t,r,n);return i=Wo(i,e,t,r,n),i=wo(i,e,t,r,n),i=Jo(i,e,t,r,n),{tags:i,byteOrder:r}}function Ko(e,t,n,r){return q(e,St,t,Zn(e,t,n),n,r)}function Wo(e,t,n,r,i){return e[Wt]!==void 0?T(e,q(t,Un,n,n+e[Wt].value,r,i)):e}function wo(e,t,n,r,i){return e[wt]!==void 0?T(e,q(t,Mn,n,n+e[wt].value,r,i)):e}function Jo(e,t,n,r,i){return e[Jt]!==void 0?T(e,q(t,Ln,n,n+e[Jt].value,r,i)):e}const qo={read:Qo},de=16;function Qo(e,t,n){const r=$.getByteOrder(e,t),i=q(e,Bn,t,Zn(e,t,r),r,n);return Vo(e,t,i,r)}function Vo(e,t,n,r){if(!n.MPEntry)return n;const i=[];for(let s=0;s<Math.ceil(n.MPEntry.value.length/de);s++){i[s]={};const o=ge(n.MPEntry.value,s*de,m.getTypeSize("LONG"),r);i[s].ImageFlags=es(o),i[s].ImageFormat=ts(o),i[s].ImageType=ns(o);const a=ge(n.MPEntry.value,s*de+4,m.getTypeSize("LONG"),r);i[s].ImageSize={value:a,description:""+a};const l=rs(s,n.MPEntry,r,t);i[s].ImageOffset={value:l,description:""+l};const g=ge(n.MPEntry.value,s*de+12,m.getTypeSize("SHORT"),r);i[s].DependentImage1EntryNumber={value:g,description:""+g};const d=ge(n.MPEntry.value,s*de+14,m.getTypeSize("SHORT"),r);i[s].DependentImage2EntryNumber={value:d,description:""+d},i[s].image=e.buffer.slice(l,l+a),xn(i[s],"base64",function(){return En(this.image)})}return n.Images=i,n}function ge(e,t,n,r){if(r===$.LITTLE_ENDIAN){let s=0;for(let o=0;o<n;o++)s+=e[t+o]<<8*o;return s}let i=0;for(let s=0;s<n;s++)i+=e[t+s]<<8*(n-1-s);return i}function es(e){const t=[e>>31&1,e>>30&1,e>>29&1],n=[];return t[0]&&n.push("Dependent Parent Image"),t[1]&&n.push("Dependent Child Image"),t[2]&&n.push("Representative Image"),{value:t,description:n.join(", ")||"None"}}function ts(e){const t=e>>24&7;return{value:t,description:t===0?"JPEG":"Unknown"}}function ns(e){const t=e&16777215;return{value:t,description:{196608:"Baseline MP Primary Image",65537:"Large Thumbnail (VGA equivalent)",65538:"Large Thumbnail (Full HD equivalent)",131073:"Multi-Frame Image (Panorama)",131074:"Multi-Frame Image (Disparity)",131075:"Multi-Frame Image (Multi-Angle)",0:"Undefined"}[t]||"Unknown"}}function rs(e,t,n,r){return is(e)?0:ge(t.value,e*de+8,m.getTypeSize("LONG"),n)+r}function is(e){return e===0}const os={read:ss};function ss(e,t){const n=us(e,t),r=ls(e,t,n);return{"Bits Per Sample":cs(e,t,n),"Image Height":as(e,t,n),"Image Width":fs(e,t,n),"Color Components":r,Subsampling:r&&ds(e,t,r.value,n)}}function us(e,t){return m.getShortAt(e,t)}function cs(e,t,n){if(3>n)return;const s=m.getByteAt(e,t+2);return{value:s,description:""+s}}function as(e,t,n){if(5>n)return;const s=m.getShortAt(e,t+3);return{value:s,description:`${s}px`}}function fs(e,t,n){if(7>n)return;const s=m.getShortAt(e,t+5);return{value:s,description:`${s}px`}}function ls(e,t,n){if(8>n)return;const s=m.getByteAt(e,t+7);return{value:s,description:""+s}}function ds(e,t,n,r){if(8+3*n>r)return;const o=[];for(let a=0;a<n;a++){const l=t+8+a*3;o.push([m.getByteAt(e,l),m.getByteAt(e,l+1),m.getByteAt(e,l+2)])}return{value:o,description:o.length>1?ps(o)+ms(o):""}}function ps(e){const t={1:"Y",2:"Cb",3:"Cr",4:"I",5:"Q"};return e.map(n=>t[n[0]]).join("")}function ms(e){const t={17:"4:4:4 (1 1)",18:"4:4:0 (1 2)",20:"4:4:1 (1 4)",33:"4:2:2 (2 1)",34:"4:2:0 (2 2)",36:"4:2:1 (2 4)",65:"4:1:1 (4 1)",66:"4:1:0 (4 2)"};return e.length===0||e[0][1]===void 0||t[e[0][1]]===void 0?"":t[e[0][1]]}const gs={read:xs};function xs(e,t){const n=Es(e,t),r=_s(e,t,n),i=As(e,t,n),s={"JFIF Version":Ss(e,t,n),"Resolution Unit":Is(e,t,n),XResolution:Ts(e,t,n),YResolution:Fs(e,t,n),"JFIF Thumbnail Width":r,"JFIF Thumbnail Height":i};if(r!==void 0&&i!==void 0){const o=bs(e,t,3*r.value*i.value,n);o&&(s["JFIF Thumbnail"]=o)}for(const o in s)s[o]===void 0&&delete s[o];return s}function Es(e,t){return m.getShortAt(e,t)}function Ss(e,t,n){if(9>n)return;const s=m.getByteAt(e,t+7),o=m.getByteAt(e,t+7+1);return{value:s*256+o,description:s+"."+o}}function Is(e,t,n){if(10>n)return;const s=m.getByteAt(e,t+9);return{value:s,description:hs(s)}}function hs(e){return e===0?"None":e===1?"inches":e===2?"cm":"Unknown"}function Ts(e,t,n){if(12>n)return;const s=m.getShortAt(e,t+10);return{value:s,description:""+s}}function Fs(e,t,n){if(14>n)return;const s=m.getShortAt(e,t+12);return{value:s,description:""+s}}function _s(e,t,n){if(15>n)return;const s=m.getByteAt(e,t+14);return{value:s,description:`${s}px`}}function As(e,t,n){if(16>n)return;const s=m.getByteAt(e,t+15);return{value:s,description:`${s}px`}}function bs(e,t,n,r){return n===0||16+n>r?void 0:{value:e.buffer.slice(t+16,t+16+n),description:"<24-bit RGB pixel data>"}}const w={iptc:{256:{name:"Model Version",description:e=>((e[0]<<8)+e[1]).toString()},261:{name:"Destination",repeatable:!0},276:{name:"File Format",description:e=>((e[0]<<8)+e[1]).toString()},278:{name:"File Format Version",description:e=>((e[0]<<8)+e[1]).toString()},286:"Service Identifier",296:"Envelope Number",306:"Product ID",316:"Envelope Priority",326:{name:"Date Sent",description:je},336:{name:"Time Sent",description:ze},346:{name:"Coded Character Set",description:qt,encoding_name:qt},356:"UNO",376:{name:"ARM Identifier",description:e=>((e[0]<<8)+e[1]).toString()},378:{name:"ARM Version",description:e=>((e[0]<<8)+e[1]).toString()},512:{name:"Record Version",description:e=>((e[0]<<8)+e[1]).toString()},515:"Object Type Reference",516:"Object Attribute Reference",517:"Object Name",519:"Edit Status",520:{name:"Editorial Update",description:e=>b(e)==="01"?"Additional Language":"Unknown"},522:"Urgency",524:{name:"Subject Reference",repeatable:!0,description:e=>{const t=b(e).split(":");return t[2]+(t[3]?"/"+t[3]:"")+(t[4]?"/"+t[4]:"")}},527:"Category",532:{name:"Supplemental Category",repeatable:!0},534:"Fixture Identifier",537:{name:"Keywords",repeatable:!0},538:{name:"Content Location Code",repeatable:!0},539:{name:"Content Location Name",repeatable:!0},542:"Release Date",547:"Release Time",549:"Expiration Date",550:"Expiration Time",552:"Special Instructions",554:{name:"Action Advised",description:e=>{const t=b(e);return t==="01"?"Object Kill":t==="02"?"Object Replace":t==="03"?"Object Append":t==="04"?"Object Reference":"Unknown"}},557:{name:"Reference Service",repeatable:!0},559:{name:"Reference Date",repeatable:!0},562:{name:"Reference Number",repeatable:!0},567:{name:"Date Created",description:je},572:{name:"Time Created",description:ze},574:{name:"Digital Creation Date",description:je},575:{name:"Digital Creation Time",description:ze},577:"Originating Program",582:"Program Version",587:{name:"Object Cycle",description:e=>{const t=b(e);return t==="a"?"morning":t==="p"?"evening":t==="b"?"both":"Unknown"}},592:{name:"By-line",repeatable:!0},597:{name:"By-line Title",repeatable:!0},602:"City",604:"Sub-location",607:"Province/State",612:"Country/Primary Location Code",613:"Country/Primary Location Name",615:"Original Transmission Reference",617:"Headline",622:"Credit",627:"Source",628:"Copyright Notice",630:{name:"Contact",repeatable:!0},632:"Caption/Abstract",634:{name:"Writer/Editor",repeatable:!0},637:{name:"Rasterized Caption",description:e=>e},642:"Image Type",643:{name:"Image Orientation",description:e=>{const t=b(e);return t==="P"?"Portrait":t==="L"?"Landscape":t==="S"?"Square":"Unknown"}},647:"Language Identifier",662:{name:"Audio Type",description:e=>{const t=b(e),n=t.charAt(0),r=t.charAt(1);let i="";return n==="1"?i+="Mono":n==="2"&&(i+="Stereo"),r==="A"?i+=", actuality":r==="C"?i+=", question and answer session":r==="M"?i+=", music, transmitted by itself":r==="Q"?i+=", response to a question":r==="R"?i+=", raw sound":r==="S"?i+=", scener":r==="V"?i+=", voicer":r==="W"&&(i+=", wrap"),i!==""?i:t}},663:{name:"Audio Sampling Rate",description:e=>parseInt(b(e),10)+" Hz"},664:{name:"Audio Sampling Resolution",description:e=>{const t=parseInt(b(e),10);return t+(t===1?" bit":" bits")}},665:{name:"Audio Duration",description:e=>{const t=b(e);return t.length>=6?t.substr(0,2)+":"+t.substr(2,2)+":"+t.substr(4,2):t}},666:"Audio Outcue",698:"Short Document ID",699:"Unique Document ID",700:"Owner ID",712:{name:e=>e.length===2?"ObjectData Preview File Format":"Record 2 destination",description:e=>{if(e.length===2){const t=(e[0]<<8)+e[1];return t===0?"No ObjectData":t===1?"IPTC-NAA Digital Newsphoto Parameter Record":t===2?"IPTC7901 Recommended Message Format":t===3?"Tagged Image File Format (Adobe/Aldus Image data)":t===4?"Illustrator (Adobe Graphics data)":t===5?"AppleSingle (Apple Computer Inc)":t===6?"NAA 89-3 (ANPA 1312)":t===7?"MacBinary II":t===8?"IPTC Unstructured Character Oriented File Format (UCOFF)":t===9?"United Press International ANPA 1312 variant":t===10?"United Press International Down-Load Message":t===11?"JPEG File Interchange (JFIF)":t===12?"Photo-CD Image-Pac (Eastman Kodak)":t===13?"Microsoft Bit Mapped Graphics File [*.BMP]":t===14?"Digital Audio File [*.WAV] (Microsoft & Creative Labs)":t===15?"Audio plus Moving Video [*.AVI] (Microsoft)":t===16?"PC DOS/Windows Executable Files [*.COM][*.EXE]":t===17?"Compressed Binary File [*.ZIP] (PKWare Inc)":t===18?"Audio Interchange File Format AIFF (Apple Computer Inc)":t===19?"RIFF Wave (Microsoft Corporation)":t===20?"Freehand (Macromedia/Aldus)":t===21?'Hypertext Markup Language "HTML" (The Internet Society)':t===22?"MPEG 2 Audio Layer 2 (Musicom), ISO/IEC":t===23?"MPEG 2 Audio Layer 3, ISO/IEC":t===24?"Portable Document File (*.PDF) Adobe":t===25?"News Industry Text Format (NITF)":t===26?"Tape Archive (*.TAR)":t===27?"Tidningarnas Telegrambyrå NITF version (TTNITF DTD)":t===28?"Ritzaus Bureau NITF version (RBNITF DTD)":t===29?"Corel Draw [*.CDR]":`Unknown format ${t}`}return b(e)}},713:{name:"ObjectData Preview File Format Version",description:(e,t)=>{const n={"00":{"00":"1"},"01":{"01":"1","02":"2","03":"3","04":"4"},"02":{"04":"4"},"03":{"01":"5.0","02":"6.0"},"04":{"01":"1.40"},"05":{"01":"2"},"06":{"01":"1"},11:{"01":"1.02"},20:{"01":"3.1","02":"4.0","03":"5.0","04":"5.5"},21:{"02":"2.0"}},r=b(e);if(t["ObjectData Preview File Format"]){const i=b(t["ObjectData Preview File Format"].value);if(n[i]&&n[i][r])return n[i][r]}return r}},714:"ObjectData Preview Data",1802:{name:"Size Mode",description:e=>e[0].toString()},1812:{name:"Max Subfile Size",description:e=>{let t=0;for(let n=0;n<e.length;n++)t=(t<<8)+e[n];return t.toString()}},1882:{name:"ObjectData Size Announced",description:e=>{let t=0;for(let n=0;n<e.length;n++)t=(t<<8)+e[n];return t.toString()}},1887:{name:"Maximum ObjectData Size",description:e=>{let t=0;for(let n=0;n<e.length;n++)t=(t<<8)+e[n];return t.toString()}}}};function je(e){const t=b(e);return t.length>=8?t.substr(0,4)+"-"+t.substr(4,2)+"-"+t.substr(6,2):t}function ze(e){const t=b(e);let n=t;return t.length>=6&&(n=t.substr(0,2)+":"+t.substr(2,2)+":"+t.substr(4,2),t.length===11&&(n+=t.substr(6,1)+t.substr(7,2)+":"+t.substr(9,2))),n}function qt(e){const t=b(e);return t==="\x1B%G"?"UTF-8":t==="\x1B%5"?"Windows-1252":t==="\x1B%/G"?"UTF-8 Level 1":t==="\x1B%/H"?"UTF-8 Level 2":t==="\x1B%/I"?"UTF-8 Level 3":t==="\x1B/A"?"ISO-8859-1":t==="\x1B/B"?"ISO-8859-2":t==="\x1B/C"?"ISO-8859-3":t==="\x1B/D"?"ISO-8859-4":t==="\x1B/@"?"ISO-8859-5":t==="\x1B/G"?"ISO-8859-6":t==="\x1B/F"?"ISO-8859-7":t==="\x1B/H"?"ISO-8859-8":"Unknown"}const Ps={get:ys};function ys(){if(typeof TextDecoder<"u")return TextDecoder}const Cs=5,Xn={decode:Ns,TAG_HEADER_SIZE:Cs};function Ns(e,t){const n=Ps.get();if(typeof n<"u"&&e!==void 0)try{return new n(e).decode(t instanceof DataView?t.buffer:Uint8Array.from(t))}catch{}const r=t.map(i=>String.fromCharCode(i)).join("");return Os(r)}function Os(e){try{return decodeURIComponent(escape(e))}catch{return e}}const Rs=943868237,xe=4,ye=2,Ds=1,Us=2,$n=4,Ms=xe+ye+Us+$n,Ls=1028,Yn=5,at={read:Bs};function Bs(e,t,n){try{if(Array.isArray(e))return Qt(new DataView(Uint8Array.from(e).buffer),{size:e.length},0,n);const{naaBlock:r,dataOffset:i}=Gs(e,t);return Qt(e,r,i,n)}catch{return{}}}function Gs(e,t){for(;t+Ms<=e.byteLength;){const n=ks(e,t);if(vs(n))return{naaBlock:n,dataOffset:t+n.headerSize};t+=n.headerSize+n.size+Zs(n)}throw new Error("No IPTC NAA resource block.")}function ks(e,t){if(e.getUint32(t,!1)!==Rs)throw new Error("Not an IPTC resource block.");const n=e.getUint8(t+xe+ye),r=(n%2===0?n+1:n)+Ds;return{headerSize:xe+ye+r+$n,type:e.getUint16(t+xe),size:e.getUint32(t+xe+ye+r)}}function vs(e){return e.type===Ls}function Zs(e){return e.size%2!==0?1:0}function Qt(e,t,n,r){const i={};let s;const o=n+t.size;for(;n<o&&n<e.byteLength;){const{tag:a,tagSize:l}=Hs(e,n,i,s,r);if(a===null)break;a&&("encoding"in a&&(s=a.encoding),i[a.name]===void 0||a.repeatable===void 0?i[a.name]={id:a.id,value:a.value,description:a.description}:(i[a.name]instanceof Array||(i[a.name]=[{id:i[a.name].id,value:i[a.name].value,description:i[a.name].description}]),i[a.name].push({id:a.id,value:a.value,description:a.description}))),n+=Yn+l}return i}function Hs(e,t,n,r,i){if(Xs(e,t))return{tag:null,tagSize:0};const a=e.getUint16(t+1),l=e.getUint16(t+3);if(!i&&!w.iptc[a])return{tag:void 0,tagSize:l};const g=$s(e,t+Yn,l),d={id:a,name:Ys(w.iptc[a],a,g),value:g,description:Ks(w.iptc[a],g,n,r)};return Js(a)&&(d.repeatable=!0),qs(a)&&(d.encoding=w.iptc[a].encoding_name(g)),{tag:d,tagSize:l}}function Xs(e,t){return e.getUint8(t)!==28}function $s(e,t,n){const r=[];for(let i=0;i<n;i++)r.push(e.getUint8(t+i));return r}function Ys(e,t,n){return e?js(e)?e:zs(e)?e.name(n):e.name:`undefined-${t}`}function js(e){return typeof e=="string"}function zs(e){return typeof e.name=="function"}function Ks(e,t,n,r){if(ws(e))try{return e.description(t,n)}catch{}return Ws(e,t)?Xn.decode(r,t):t}function Ws(e,t){return e&&t instanceof Array}function ws(e){return e&&e.description!==void 0}function Js(e){return w.iptc[e]&&w.iptc[e].repeatable}function qs(e){return w.iptc[e]&&w.iptc[e].encoding_name!==void 0}const Fe={"tiff:Orientation"(e){return e==="1"?"Horizontal (normal)":e==="2"?"Mirror horizontal":e==="3"?"Rotate 180":e==="4"?"Mirror vertical":e==="5"?"Mirror horizontal and rotate 270 CW":e==="6"?"Rotate 90 CW":e==="7"?"Mirror horizontal and rotate 90 CW":e==="8"?"Rotate 270 CW":e},"tiff:ResolutionUnit":e=>I.ResolutionUnit(parseInt(e,10)),"tiff:XResolution":e=>ce(I.XResolution,e),"tiff:YResolution":e=>ce(I.YResolution,e),"exif:ApertureValue":e=>ce(I.ApertureValue,e),"exif:GPSLatitude":Vt,"exif:GPSLongitude":Vt,"exif:FNumber":e=>ce(I.FNumber,e),"exif:FocalLength":e=>ce(I.FocalLength,e),"exif:FocalPlaneResolutionUnit":e=>I.FocalPlaneResolutionUnit(parseInt(e,10)),"exif:ColorSpace":e=>I.ColorSpace(Qs(e)),"exif:ComponentsConfiguration"(e,t){if(/^\d, \d, \d, \d$/.test(t)){const n=t.split(", ").map(r=>r.charCodeAt(0));return I.ComponentsConfiguration(n)}return t},"exif:Contrast":e=>I.Contrast(parseInt(e,10)),"exif:CustomRendered":e=>I.CustomRendered(parseInt(e,10)),"exif:ExposureMode":e=>I.ExposureMode(parseInt(e,10)),"exif:ExposureProgram":e=>I.ExposureProgram(parseInt(e,10)),"exif:ExposureTime"(e){return jn(e)?I.ExposureTime(e.split("/").map(t=>parseInt(t,10))):e},"exif:MeteringMode":e=>I.MeteringMode(parseInt(e,10)),"exif:Saturation":e=>I.Saturation(parseInt(e,10)),"exif:SceneCaptureType":e=>I.SceneCaptureType(parseInt(e,10)),"exif:Sharpness":e=>I.Sharpness(parseInt(e,10)),"exif:ShutterSpeedValue":e=>ce(I.ShutterSpeedValue,e),"exif:WhiteBalance":e=>I.WhiteBalance(parseInt(e,10))};function ce(e,t){return jn(t)?e(t.split("/")):t}function Qs(e){return e.substring(0,2)==="0x"?parseInt(e.substring(2),16):parseInt(e,10)}function jn(e){return/^-?\d+\/-?\d+$/.test(e)}function Vt(e){const[t,n]=e.split(",");if(t!==void 0&&n!==void 0){const r=parseFloat(t),i=parseFloat(n),s=n.charAt(n.length-1);if(!Number.isNaN(r)&&!Number.isNaN(i))return""+(r+i/60)+s}return e}const Vs={get:eu};function eu(e){if(e)return e;if(typeof DOMParser<"u")return new DOMParser;try{const{DOMParser:t,onErrorStopParsing:n}=__non_webpack_require__("@xmldom/xmldom");return new t({onError:n})}catch{return}}function tu(e){const t=["prefix is non-null and namespace is null","prefix not bound to a namespace","prefix inte bundet till en namnrymd",/Namespace prefix .+ is not defined/];for(let n=0;n<t.length;n++)if(new RegExp(t[n]).test(e.message))return!0;return!1}function nu(e){const t=e.match(/<([A-Za-z_][A-Za-z0-9._-]*)([^>]*)>/);if(!t)return e;const n=t[1],r=ru(e),s=iu(e).filter(a=>r.indexOf(a)===-1);if(s.length===0)return e;const o=su(s);return uu(e,n,o)}function ru(e){const t=[],n=/xmlns:([\w-]+)=["'][^"']+["']/g;let r;for(;(r=n.exec(e))!==null;)t.indexOf(r[1])===-1&&t.push(r[1]);return t}function iu(e){const t=[],n=/\b([A-Za-z_][A-Za-z0-9._-]*):[A-Za-z_][A-Za-z0-9._-]*\b/g;let r;for(;(r=n.exec(e))!==null;){const i=r[1];i==="xmlns"||i==="xml"||t.indexOf(i)===-1&&t.push(i)}return t}const ou={xmp:"http://ns.adobe.com/xap/1.0/",tiff:"http://ns.adobe.com/tiff/1.0/",exif:"http://ns.adobe.com/exif/1.0/",dc:"http://purl.org/dc/elements/1.1/",xmpMM:"http://ns.adobe.com/xap/1.0/mm/",stEvt:"http://ns.adobe.com/xap/1.0/sType/ResourceEvent#",stRef:"http://ns.adobe.com/xap/1.0/sType/ResourceRef#",photoshop:"http://ns.adobe.com/photoshop/1.0/"};function su(e){const t=[];for(let n=0;n<e.length;n++){const r=e[n],i=ou[r]||"http://fallback.namespace/"+r;t.push(" xmlns:"+r+'="'+i+'"')}return t.join("")}function uu(e,t,n){const r=new RegExp("<"+t+"([^>]*)>");return e.replace(r,"<"+t+"$1"+n+">")}const en={read:au};class cu extends Error{constructor(t){super(t),this.name="ParseError"}}function au(e,t,n){const r={};if(typeof e=="string")return _e(r,e,n),r;const[i,s]=fu(e,t),o=_e(r,i,n);if(s){const a=_e(r,s,n);!o&&!a&&(delete r._raw,_e(r,ft(e,t),n))}return r}function fu(e,t){if(t.length===0)return[];const n=[ft(e,t.slice(0,1))];return t.length>1&&n.push(ft(e,t.slice(1))),n}function ft(e,t){const n=t.reduce((s,o)=>s+o.length,0),r=new Uint8Array(n);let i=0;for(let s=0;s<t.length;s++){const o=t[s],a=e.buffer.slice(o.dataOffset,o.dataOffset+o.length);r.set(new Uint8Array(a),i),i+=o.length}return new DataView(r.buffer)}function _e(e,t,n){try{const{doc:r,raw:i}=lu(t,n);e._raw=(e._raw||"")+i;const s=Kn(r);return T(e,wn(Wn(s,!0))),!0}catch{return!1}}function lu(e,t){const n=Vs.get(t);if(!n)throw console.warn("Warning: DOMParser is not available. It is needed to be able to parse XMP tags."),new Error;const r=typeof e=="string"?e:h(e,0,e.byteLength);return{doc:zn(n,du(r)),raw:r}}function du(e){return e.replace(/^.+(<\?xpacket begin)/,"$1").replace(/(<\?xpacket end=".*"\?>).+$/,"$1")}function zn(e,t,n=!1){try{const r=e.parseFromString(t,"application/xml"),i=r.getElementsByTagName("parsererror");if(i.length>0)throw new cu(i[0].textContent);return r}catch(r){if(r.name==="ParseError"&&tu(r)&&!n)return zn(e,nu(t),!0);throw r}}function Kn(e){for(let t=0;t<e.childNodes.length;t++){if(e.childNodes[t].tagName==="x:xmpmeta")return Kn(e.childNodes[t]);if(e.childNodes[t].tagName==="rdf:RDF")return e.childNodes[t]}throw new Error}function Wn(e,t=!1){const n=pu(e);return mu(n)?t?{}:gu(n[0]):xu(n)}function pu(e){const t=[];for(let n=0;n<e.childNodes.length;n++)t.push(e.childNodes[n]);return t}function mu(e){return e.length===1&&e[0].nodeName==="#text"}function gu(e){return e.nodeValue}function xu(e){const t={};return e.forEach(n=>{if(Eu(n)){const r=Su(n);t[n.nodeName]!==void 0?(Array.isArray(t[n.nodeName])||(t[n.nodeName]=[t[n.nodeName]]),t[n.nodeName].push(r)):t[n.nodeName]=r}}),t}function Eu(e){return e.nodeName&&e.nodeName!=="#text"}function Su(e){return{attributes:Iu(e),value:Wn(e)}}function Iu(e){const t={};for(let n=0;n<e.attributes.length;n++)t[e.attributes[n].nodeName]=decodeURIComponent(escape(e.attributes[n].value));return t}function wn(e){const t={};if(typeof e=="string")return e;for(const n in e){let r=e[n];Array.isArray(r)||(r=[r]),r.forEach(i=>{T(t,ht(i.attributes)),typeof i.value=="object"&&T(t,Jn(i.value))})}return t}function ht(e){const t={};for(const n in e)try{hu(n)&&(t[ke(n)]={value:e[n],attributes:{},description:j(e[n],n)})}catch{}return t}function hu(e){return e!=="rdf:parseType"&&!Ge(e)}function Ge(e){return e.split(":")[0]==="xmlns"}function ke(e){return/^MicrosoftPhoto(_\d+_)?:Rating$/i.test(e)?"RatingPercent":e.split(":")[1]}function j(e,t=void 0){if(Array.isArray(e)){const n=Tu(e);return t&&typeof Fe[t]=="function"?Fe[t](e,n):n}if(typeof e=="object")return Fu(e);try{return t&&typeof Fe[t]=="function"?Fe[t](e):decodeURIComponent(escape(e))}catch{return e}}function Tu(e){return e.map(t=>t.value!==void 0?j(t.value):j(t)).join(", ")}function Fu(e){const t=[];for(const n in e)t.push(`${_u(n)}: ${j(e[n].value)}`);return t.join("; ")}function _u(e){return e==="CiAdrCity"?"CreatorCity":e==="CiAdrCtry"?"CreatorCountry":e==="CiAdrExtadr"?"CreatorAddress":e==="CiAdrPcode"?"CreatorPostalCode":e==="CiAdrRegion"?"CreatorRegion":e==="CiEmailWork"?"CreatorWorkEmail":e==="CiTelWork"?"CreatorWorkPhone":e==="CiUrlWork"?"CreatorWorkUrl":e}function Jn(e){const t={};for(const n in e)try{Ge(n)||(t[ke(n)]=Au(e[n],n))}catch{}return t}function Au(e,t){return Pu(e)?yu(e,t):bu(e)?{value:"",attributes:{},description:""}:qn(e)?Qn(e,t):Vn(e)?er(e,t):tr(e)?nr(e,t):Ou(e)?Ru(e,t):Tt(e,t)}function bu(e){return e.attributes["rdf:parseType"]==="Resource"&&typeof e.value=="string"&&e.value.trim()===""}function Pu(e){return Array.isArray(e)}function yu(e,t){return Tt(e[e.length-1],t)}function qn(e){return e.attributes["rdf:parseType"]==="Resource"&&e.value["rdf:value"]!==void 0||e.value["rdf:Description"]!==void 0&&e.value["rdf:Description"].value["rdf:value"]!==void 0}function Qn(e,t){const n=Ee(e);e.value["rdf:Description"]!==void 0&&(e=e.value["rdf:Description"]),T(n,Ee(e),Cu(e));const r=Nu(e);return{value:r,attributes:n,description:j(r,t)}}function Ee(e){const t={};for(const n in e.attributes)n!=="rdf:parseType"&&n!=="rdf:resource"&&!Ge(n)&&(t[ke(n)]=e.attributes[n]);return t}function Cu(e){const t={};for(const n in e.value)n!=="rdf:value"&&!Ge(n)&&(t[ke(n)]=e.value[n].value);return t}function Nu(e){return ir(e.value["rdf:value"])||e.value["rdf:value"].value}function Vn(e){return e.attributes["rdf:parseType"]==="Resource"||e.value["rdf:Description"]!==void 0&&e.value["rdf:Description"].value["rdf:value"]===void 0}function er(e,t){const n={value:{},attributes:{}};return e.value["rdf:Description"]!==void 0&&(T(n.value,ht(e.value["rdf:Description"].attributes)),T(n.attributes,Ee(e)),e=e.value["rdf:Description"]),T(n.value,Jn(e.value)),n.description=j(n.value,t),n}function tr(e){return Object.keys(e.value).length===0&&e.attributes["xml:lang"]===void 0&&e.attributes["rdf:resource"]===void 0}function nr(e,t){const n=ht(e.attributes);return{value:n,attributes:{},description:j(n,t)}}function Ou(e){return rr(e.value)!==void 0}function rr(e){return e["rdf:Bag"]||e["rdf:Seq"]||e["rdf:Alt"]}function Ru(e,t){let n=rr(e.value).value["rdf:li"];const r=Ee(e),i=[];return n===void 0?n=[]:Array.isArray(n)||(n=[n]),n.forEach(s=>{i.push(Du(s))}),{value:i,attributes:r,description:j(i,t)}}function Du(e){return qn(e)?Qn(e):Vn(e)?er(e).value:tr(e)?nr(e).value:Tt(e)}function Tt(e,t){const n=ir(e)||wn(e.value);return{value:n,attributes:Ee(e),description:j(n,t)}}function ir(e){return e.attributes&&e.attributes["rdf:resource"]}const Y={CLOSED_SUBPATH_LENGTH:0,CLOSED_SUBPATH_BEZIER_LINKED:1,CLOSED_SUBPATH_BEZIER_UNLINKED:2,OPEN_SUBPATH_LENGTH:3,OPEN_SUBPATH_BEZIER_LINKED:4,OPEN_SUBPATH_BEZIER_UNLINKED:5,FILL_RULE:6,CLIPBOARD:7,INITIAL_FILL_RULE:8},or=24,Ke={2e3:{name:"PathInformation",description:Uu},2999:{name:"ClippingPathName",description(e){const[,t]=gn(e,0);return t}}};function Uu(e){const n={},r=[];for(let i=0;i<e.byteLength;i+=2+or){const s=m.getShortAt(e,i);We[s]&&(n[s]||(n[s]=We[s].description),r.push({type:s,path:We[s].path(e,i+2)}))}return JSON.stringify({types:n,paths:r})}const We={[Y.CLOSED_SUBPATH_LENGTH]:{description:"Closed subpath length",path:(e,t)=>[m.getShortAt(e,t)]},[Y.CLOSED_SUBPATH_BEZIER_LINKED]:{description:"Closed subpath Bezier knot, linked",path:Ae},[Y.CLOSED_SUBPATH_BEZIER_UNLINKED]:{description:"Closed subpath Bezier knot, unlinked",path:Ae},[Y.OPEN_SUBPATH_LENGTH]:{description:"Open subpath length",path:(e,t)=>[m.getShortAt(e,t)]},[Y.OPEN_SUBPATH_BEZIER_LINKED]:{description:"Open subpath Bezier knot, linked",path:Ae},[Y.OPEN_SUBPATH_BEZIER_UNLINKED]:{description:"Open subpath Bezier knot, unlinked",path:Ae},[Y.FILL_RULE]:{description:"Path fill rule",path:()=>[]},[Y.INITIAL_FILL_RULE]:{description:"Initial fill rule",path:(e,t)=>[m.getShortAt(e,t)]},[Y.CLIPBOARD]:{description:"Clipboard",path:Lu}};function Ae(e,t){const r=[];for(let i=0;i<or;i+=8)r.push(Mu(e,t+i));return r}function Mu(e,t){const n=te(e,t,8);return[te(e,t+4,8),n]}function Lu(e,t){return[[te(e,t,8),te(e,t+4,8),te(e,t+8,8),te(e,t+12,8)],te(e,t+16,8)]}function te(e,t,n){const r=m.getLongAt(e,t),i=r>>>31?-1:1,s=(r&2130706432)>>>32-n,o=r&parseInt(Sn("1",32-n),2);return i*Dr(s.toString(2)+"."+Rr(o.toString(2),32-n,"0"),2)}const Bu={read:vu},sr="8BIM",Gu=2,ku=4,tn=sr.length;function vu(e,t){const n=At(new Uint8Array(e).buffer),r={};let i=0;for(;i<e.length;){const s=h(n,i,tn);i+=tn;const o=m.getShortAt(n,i);i+=Gu;const{tagName:a,tagNameSize:l}=Zu(n,i);i+=l;const g=m.getLongAt(n,i);if(i+=ku,s===sr){const d=At(n.buffer,i,g),p={id:o,value:h(d,0,g)};if(Ke[o]){try{p.description=Ke[o].description(d)}catch{p.description="<no description formatter>"}r[a||Ke[o].name]=p}else t&&(r[`undefined-${o}`]=p)}i+=g+g%2}return r}function Zu(e,t){const[n,r]=gn(e,t);return{tagName:r,tagNameSize:1+n+(n%2===0?1:0)}}const nn={desc:{name:"ICC Description"},cprt:{name:"ICC Copyright"},dmdd:{name:"ICC Device Model Description"},vued:{name:"ICC Viewing Conditions Description"},dmnd:{name:"ICC Device Manufacturer for Display"},tech:{name:"Technology"}},rn={4:{name:"Preferred CMM type",value:(e,t)=>h(e,t,4),description:e=>e!==null?we(e):""},8:{name:"Profile Version",value:(e,t)=>e.getUint8(t).toString(10)+"."+(e.getUint8(t+1)>>4).toString(10)+"."+(e.getUint8(t+1)%16).toString(10)},12:{name:"Profile/Device class",value:(e,t)=>h(e,t,4),description:e=>{switch(e.toLowerCase()){case"scnr":return"Input Device profile";case"mntr":return"Display Device profile";case"prtr":return"Output Device profile";case"link":return"DeviceLink profile";case"abst":return"Abstract profile";case"spac":return"ColorSpace profile";case"nmcl":return"NamedColor profile";case"cenc":return"ColorEncodingSpace profile";case"mid ":return"MultiplexIdentification profile";case"mlnk":return"MultiplexLink profile";case"mvis":return"MultiplexVisualization profile";default:return e}}},16:{name:"Color Space",value:(e,t)=>h(e,t,4)},20:{name:"Connection Space",value:(e,t)=>h(e,t,4)},24:{name:"ICC Profile Date",value:(e,t)=>Hu(e,t).toISOString()},36:{name:"ICC Signature",value:(e,t)=>Xu(e.buffer.slice(t,t+4))},40:{name:"Primary Platform",value:(e,t)=>h(e,t,4),description:e=>we(e)},48:{name:"Device Manufacturer",value:(e,t)=>h(e,t,4),description:e=>we(e)},52:{name:"Device Model Number",value:(e,t)=>h(e,t,4)},64:{name:"Rendering Intent",value:(e,t)=>e.getUint32(t),description:e=>{switch(e){case 0:return"Perceptual";case 1:return"Relative Colorimetric";case 2:return"Saturation";case 3:return"Absolute Colorimetric";default:return e}}},80:{name:"Profile Creator",value:(e,t)=>h(e,t,4)}};function Hu(e,t){const n=e.getUint16(t),r=e.getUint16(t+2)-1,i=e.getUint16(t+4),s=e.getUint16(t+6),o=e.getUint16(t+8),a=e.getUint16(t+10);return new Date(Date.UTC(n,r,i,s,o,a))}function Xu(e){return String.fromCharCode.apply(null,new Uint8Array(e))}function we(e){switch(e.toLowerCase()){case"appl":return"Apple";case"adbe":return"Adobe";case"msft":return"Microsoft";case"sunw":return"Sun Microsystems";case"sgi":return"Silicon Graphics";case"tgnt":return"Taligent";default:return e}}const on={read:qu},$u=84,Yu=128,ju="acsp",zu="desc",Ku="mluc",Wu="text",wu="sig ",Ju=12;function qu(e,t,n){return n&&t[0].compressionMethod!==Oe?Qu(e,t):ec(e,t)}function Qu(e,t){if(!Vu(t[0].compressionMethod))return{};const n=new DataView(e.buffer.slice(t[0].offset,t[0].offset+t[0].length));return hn(n,t[0].compressionMethod,"utf-8","dataview").then(ur).catch(()=>({}))}function Vu(e){return e===In}function ec(e,t){try{const n=t.reduce((o,a)=>o+a.length,0),r=new Uint8Array(n);let i=0;const s=tc(e);for(let o=1;o<=t.length;o++){const a=t.find(d=>d.chunkNumber===o);if(!a)throw new Error(`ICC chunk ${o} not found`);const l=s.slice(a.offset,a.offset+a.length),g=new Uint8Array(l);r.set(g,i),i+=g.length}return ur(new DataView(r.buffer))}catch{return{}}}function tc(e){return Array.isArray(e)?new DataView(Uint8Array.from(e).buffer).buffer:e.buffer}function nc(e){return e.length<Yu+4}function rc(e,t){return e.length<t+Ju}function ur(e){const t=e.buffer,n=e.getUint32();if(e.byteLength!==n)throw new Error("ICC profile length not matching");if(e.byteLength<$u)throw new Error("ICC profile too short");const r={},i=Object.keys(rn);for(let l=0;l<i.length;l++){const g=i[l],d=rn[g],p=d.value(e,parseInt(g,10));let E=p;d.description&&(E=d.description(p)),r[d.name]={value:p,description:E}}if(be(t.slice(36,40))!==ju)throw new Error("ICC profile: missing signature");if(nc(t))return r;const o=e.getUint32(128);let a=132;for(let l=0;l<o;l++){if(rc(t,a))return r;const g=h(e,a,4),d=e.getUint32(a+4),p=e.getUint32(a+8);if(d>t.length)return r;const E=h(e,d,4);if(E===zu){const S=e.getUint32(d+8);if(S>p)return r;const A=be(t.slice(d+12,d+S+11));me(r,g,A)}else if(E===Ku){const S=e.getUint32(d+8),A=e.getUint32(d+12);let U=d+16;const N=[];for(let M=0;M<S;M++){const G=h(e,U+0,2),ie=h(e,U+2,2),oe=e.getUint32(U+4),Q=e.getUint32(U+8),se=Nr(e,d+Q,oe);N.push({languageCode:G,countryCode:ie,text:se}),U+=A}if(S===1)me(r,g,N[0].text);else{const M={};for(let G=0;G<N.length;G++)M[`${N[G].languageCode}-${N[G].countryCode}`]=N[G].text;me(r,g,M)}}else if(E===Wu){const S=be(t.slice(d+8,d+p-7));me(r,g,S)}else if(E===wu){const S=be(t.slice(d+8,d+12));me(r,g,S)}a=a+12}return r}function be(e){return String.fromCharCode.apply(null,new Uint8Array(e))}function me(e,t,n){nn[t]?e[nn[t].name]={value:n,description:n}:e[t]={value:n,description:n}}const Ce=27,ic={read:oc,SHOT_INFO_AUTO_ROTATE:Ce};function oc(e,t,n,r,i){let s=q(e,Gn,t,t+n,r,i);return s.ShotInfo&&(s=T({},s,sc(s.ShotInfo.value)),delete s.ShotInfo),s}function sc(e){const t={};return e[Ce]!==void 0&&(t.AutoRotate={value:e[Ce],description:uc(e[Ce])}),t}function uc(e){return e===0?"None":e===1?"Rotate 90 CW":e===2?"Rotate 180":e===3?"Rotate 270 CW":"Unknown"}const cr=8,ar=cr+2,fr={K3_III:78420},Ne={CAMERA_ORIENTATION:1,ROLL_ANGLE:3,PITCH_ANGLE:5},cc={read:ac,PENTAX_IFD_OFFSET:ar,MODEL_ID:fr,LIK3III:Ne};function ac(e,t,n,r){const i=$.getByteOrder(e,t+n+cr),s=t+n;let o=q(e,It,s,s+ar,i,r);return fc(o)&&(o=T({},o,lc(e,s+o.LevelInfo.__offset,i)),delete o.LevelInfo),o}function fc(e){return e.PentaxModelID&&e.PentaxModelID.value===fr.K3_III&&e.LevelInfo}function lc(e,t,n){const r={};if(t+7>e.byteLength)return r;const i=e.getInt8(t+Ne.CAMERA_ORIENTATION);r.CameraOrientation={value:i,description:dc(i)};const s=e.getInt16(t+Ne.ROLL_ANGLE,n===$.LITTLE_ENDIAN);r.RollAngle={value:s,description:pc(s)};const o=e.getInt16(t+Ne.PITCH_ANGLE,n===$.LITTLE_ENDIAN);return r.PitchAngle={value:o,description:mc(o)},r}function dc(e){return e===0?"Horizontal (normal)":e===1?"Rotate 270 CW":e===2?"Rotate 180":e===3?"Rotate 90 CW":e===4?"Upwards":e===5?"Downwards":"Unknown"}function pc(e){return""+e*-.5}function mc(e){return""+e*-.5}const gc={read:xc};function xc(e,t){return{"Image Width":Ec(e,t),"Image Height":Sc(e,t),"Bit Depth":Ic(e,t),"Color Type":hc(e,t),Compression:Tc(e,t),Filter:Fc(e,t),Interlace:_c(e,t)}}function Ec(e,t){if(t+0+4>e.byteLength)return;const i=m.getLongAt(e,t);return{value:i,description:`${i}px`}}function Sc(e,t){if(t+4+4>e.byteLength)return;const i=m.getLongAt(e,t+4);return{value:i,description:`${i}px`}}function Ic(e,t){if(t+8+1>e.byteLength)return;const i=m.getByteAt(e,t+8);return{value:i,description:`${i}`}}function hc(e,t){const i={0:"Grayscale",2:"RGB",3:"Palette",4:"Grayscale with Alpha",6:"RGB with Alpha"};if(t+9+1>e.byteLength)return;const s=m.getByteAt(e,t+9);return{value:s,description:i[s]||"Unknown"}}function Tc(e,t){if(t+10+1>e.byteLength)return;const i=m.getByteAt(e,t+10);return{value:i,description:i===0?"Deflate/Inflate":"Unknown"}}function Fc(e,t){if(t+11+1>e.byteLength)return;const i=m.getByteAt(e,t+11);return{value:i,description:i===0?"Adaptive":"Unknown"}}function _c(e,t){const i={0:"Noninterlaced",1:"Adam7 Interlace"};if(t+12+1>e.byteLength)return;const s=m.getByteAt(e,t+12);return{value:s,description:i[s]||"Unknown"}}const Ac={read:Nc},lt="STATE_KEYWORD",dt="STATE_COMPRESSION",pt="STATE_LANG",bc="STATE_TRANSLATED_KEYWORD",mt="STATE_TEXT",Pc=1,yc=1,Cc=6;function Nc(e,t,n,r){const i={},s=[];for(let o=0;o<t.length;o++){const{offset:a,length:l,type:g}=t[o],d=Oc(e,a,l,g,n);if(d instanceof Promise)s.push(d.then(({name:p,value:E,description:S})=>{try{if(bt.USE_EXIF&&un(p,E))return{__exif:Hn.read(an(E),Cc,r).tags};if(bt.USE_IPTC&&cn(p,E))return{__iptc:at.read(an(E),0,r)};if(p&&!un(p,E)&&!cn(p,E))return{[p]:{value:E,description:S}}}catch{}return{}}));else{const{name:p,value:E,description:S}=d;p&&(i[p]={value:E,description:S})}}return{readTags:i,readTagsPromise:s.length>0?Promise.all(s):void 0}}function Oc(e,t,n,r,i){const s=[],o=[];let a,l=lt,g=Oe;for(let p=0;p<n&&t+p<e.byteLength;p++){if(l===dt){g=Rc({type:r,dataView:e,offset:t+p}),r===re&&(p+=Pc),l=sn(r,l);continue}else if(l===mt){a=new DataView(e.buffer.slice(t+p,t+n));break}const E=e.getUint8(t+p);E===0?l=sn(r,l):l===lt?s.push(E):l===pt&&o.push(E)}if(g!==Oe&&!i)return{};const d=hn(a,g,Dc(r));return d instanceof Promise?d.then(p=>Je(p,r,o,s)).catch(()=>Je("<text using unknown compression>".split(""),r,o,s)):Je(d,r,o,s)}function Rc({type:e,dataView:t,offset:n}){if(e===re){if(t.getUint8(n)===yc)return t.getUint8(n+1)}else if(e===Me)return t.getUint8(n);return Oe}function sn(e,t){return t===lt&&[re,Me].includes(e)?dt:t===dt?e===re?pt:mt:t===pt?bc:mt}function Dc(e){return e===xt||e===Me?"latin1":"utf-8"}function Je(e,t,n,r){const i=Mc(e);return{name:Uc(t,n,r),value:i,description:t===re?Lc(e):i}}function Uc(e,t,n){const r=ne(n);if(e===xt||t.length===0)return r;const i=ne(t);return`${r} (${i})`}function Mc(e){return e instanceof DataView?h(e,0,e.byteLength):e}function Lc(e){return Xn.decode("UTF-8",e)}function un(e,t){return e.toLowerCase()==="raw profile type exif"&&t.substring(1,5)==="exif"}function cn(e,t){return e.toLowerCase()==="raw profile type iptc"&&t.substring(1,5)==="iptc"}function an(e){const t=e.match(/\n(exif|iptc)\n\s*\d+\n([\s\S]*)$/);return Bc(t[2].replace(/\n/g,""))}function Bc(e){const t=new DataView(new ArrayBuffer(e.length/2));for(let n=0;n<e.length;n+=2)t.setUint8(n/2,parseInt(e.substring(n,n+2),16));return t}const Gc={read:kc};function kc(e,t){const n={};for(let r=0;r<t.length;r++){const i=m.getLongAt(e,t[r]+le),s=h(e,t[r]+J,H);s===Pn?(n["Pixels Per Unit X"]=vc(e,t[r],i),n["Pixels Per Unit Y"]=Zc(e,t[r],i),n["Pixel Units"]=Hc(e,t[r],i)):s===yn&&(n["Modify Date"]=Xc(e,t[r],i))}return n}function vc(e,t,n){if(!ve(e,t,n,0,4))return;const s=m.getLongAt(e,t+O+0);return{value:s,description:""+s}}function Zc(e,t,n){if(!ve(e,t,n,4,4))return;const s=m.getLongAt(e,t+O+4);return{value:s,description:""+s}}function Hc(e,t,n){if(!ve(e,t,n,8,1))return;const s=m.getByteAt(e,t+O+8);return{value:s,description:s===1?"meters":"Unknown"}}function Xc(e,t,n){if(!ve(e,t,n,0,7))return;const i=m.getShortAt(e,t+O),s=m.getByteAt(e,t+O+2),o=m.getByteAt(e,t+O+3),a=m.getByteAt(e,t+O+4),l=m.getByteAt(e,t+O+5),g=m.getByteAt(e,t+O+6);return{value:[i,s,o,a,l,g],description:`${ae(i,4)}-${ae(s,2)}-${ae(o,2)} ${ae(a,2)}:${ae(l,2)}:${ae(g,2)}`}}function ve(e,t,n,r,i){return r+i<=n&&t+O+r+i<=e.byteLength}function ae(e,t){return`${"0".repeat(t-(""+e).length)}${e}`}const $c={read:zc},Yc=4,jc=7;function zc(e,t){const n={},r=m.getByteAt(e,t);return n.Alpha=Kc(r),n.Animation=Wc(r),n.ImageWidth=fn(e,t+Yc),n.ImageHeight=fn(e,t+jc),n}function Kc(e){const t=e&16;return{value:t?1:0,description:t?"Yes":"No"}}function Wc(e){const t=e&2;return{value:t?1:0,description:t?"Yes":"No"}}function fn(e,t){const n=m.getByteAt(e,t)+256*m.getByteAt(e,t+1)+65536*m.getByteAt(e,t+2)+1;return{value:n,description:n+"px"}}const wc={read:Jc};function Jc(e){return{"GIF Version":qc(e),"Image Width":Qc(e),"Image Height":Vc(e),"Global Color Map":ea(e),"Bits Per Pixel":na(e),"Color Resolution Depth":ta(e)}}function qc(e){if(6>e.byteLength)return;const r=h(e,3,3);return{value:r,description:r}}function Qc(e){if(8>e.byteLength)return;const r=e.getUint16(6,!0);return{value:r,description:`${r}px`}}function Vc(e){if(10>e.byteLength)return;const r=e.getUint16(8,!0);return{value:r,description:`${r}px`}}function ea(e){if(11>e.byteLength)return;const i=(e.getUint8(10)&128)>>>7;return{value:i,description:i===1?"Yes":"No"}}function ta(e){if(11>e.byteLength)return;const i=((e.getUint8(10)&112)>>>4)+1;return{value:i,description:`${i} ${i===1?"bit":"bits"}`}}function na(e){if(11>e.byteLength)return;const i=(e.getUint8(10)&7)+1;return{value:i,description:`${i} ${i===1?"bit":"bits"}`}}const ra=[6,7,99],ia={get:oa};function oa(e,t,n){if(sa(t)){t.type="image/jpeg";const r=n+t.JPEGInterchangeFormat.value;t.image=e.buffer.slice(r,r+t.JPEGInterchangeFormatLength.value),xn(t,"base64",function(){return En(this.image)})}return t}function sa(e){return e&&(e.Compression===void 0||ra.includes(e.Compression.value))&&e.JPEGInterchangeFormat&&e.JPEGInterchangeFormat.value&&e.JPEGInterchangeFormatLength&&e.JPEGInterchangeFormatLength.value}const qe={INCHES:2,CENTIMETERS:3,MILLIMETERS:4},Qe={INCHES_TO_MM:25.4,CM_TO_MM:10,MM_TO_MM:1},ua={get:ca};function ca(e,t){const n={};let r=!1;const i=ee(e,"exif","FocalLength",t),s=ee(e,"exif","FocalPlaneXResolution",t),o=ee(e,"exif","FocalPlaneYResolution",t),a=ee(e,"exif","FocalPlaneResolutionUnit",t),l=ee(e,"file","Image Width",t),g=ee(e,"file","Image Height",t),d=ee(e,"exif","FocalLengthIn35mmFilm",t)||aa(s,o,a,l,g,i);d&&(n.FocalLength35efl={value:d,description:I.FocalLengthIn35mmFilm(d)},r=!0);const p=fa(i,d);p&&(n.ScaleFactorTo35mmEquivalent=p,r=!0);const E=la(d);if(E&&(n.FieldOfView=E,r=!0),r)return n}function ee(e,t,n,r){if(r&&e[t]&&e[t][n])return e[t][n].value;if(!r&&e[n])return e[n].value}function aa(e,t,n,r,i,s){if(e&&t&&n&&r&&i&&s)try{let a;switch(n){case qe.INCHES:a=Qe.INCHES_TO_MM;break;case qe.CENTIMETERS:a=Qe.CM_TO_MM;break;case qe.MILLIMETERS:a=Qe.MM_TO_MM;break;default:return}const l=e[0]/e[1]*a,g=t[0]/t[1]*a,d=r/l,p=i/g,E=Math.sqrt(d**2+p**2);return s[0]/s[1]*(43.27/E)}catch{}}function fa(e,t){if(e&&t)try{const n=t/(e[0]/e[1]);return{value:n,description:n.toFixed(1)}}catch{}}function la(e){if(e)try{const n=2*Math.atan(36/(2*e))*(180/Math.PI);return{value:n,description:n.toFixed(1)+" deg"}}catch{}}function lr(e){this.name="MetadataMissingError",this.message=e||"No Exif data",this.stack=new Error().stack}lr.prototype=new Error;const dr={MetadataMissingError:lr},da={load:pa,loadView:pr,errors:dr};function pa(e,t={}){return ma(e)?(t.async=!0,ga(e,t).then(n=>Ve(n,t))):Fa(e)?(t.async=!0,_a(e,t).then(n=>Ve(n,t))):Ve(e,t)}function ma(e){return typeof e=="string"}function ga(e,t){return/^\w+:\/\//.test(e)?typeof fetch<"u"?xa(e,t):Ea(e,t):Ia(e)?Promise.resolve(Or(e)):ha(e,t)}function xa(e,{length:t}={}){const n={method:"GET"};return Number.isInteger(t)&&t>=0&&(n.headers={range:`bytes=0-${t-1}`}),fetch(e,n).then(r=>r.arrayBuffer())}function Ea(e,{length:t}={}){return new Promise((n,r)=>{const i={};Number.isInteger(t)&&t>=0&&(i.headers={range:`bytes=0-${t-1}`}),Sa(e)(e,i,o=>{if(o.statusCode>=200&&o.statusCode<=299){const a=[];o.on("data",l=>a.push(Buffer.from(l))),o.on("error",l=>r(l)),o.on("end",()=>n(Buffer.concat(a)))}else r(`Could not fetch file: ${o.statusCode} ${o.statusMessage}`),o.resume()}).on("error",o=>r(o))})}function Sa(e){return/^https:\/\//.test(e)?__non_webpack_require__("https").get:__non_webpack_require__("http").get}function Ia(e){return/^data:[^;,]*(;base64)?,/.test(e)}function ha(e,{length:t}={}){return new Promise((n,r)=>{const i=Ta();i.open(e,(s,o)=>{s?r(s):i.stat(e,(a,l)=>{if(a)r(a);else{const g=Math.min(l.size,t!==void 0?t:l.size),d=Buffer.alloc(g),p={buffer:d,length:g};i.read(o,p,E=>{E?r(E):i.close(o,S=>{S&&console.warn(`Could not close file ${e}:`,S),n(d)})})}})})})}function Ta(){try{return __non_webpack_require__("fs")}catch{return}}function Fa(e){return typeof File<"u"&&e instanceof File}function _a(e,{length:t}){return new Promise((n,r)=>{const i=new FileReader;i.onload=s=>n(s.target.result),i.onerror=()=>r(i.error),Number.isInteger(t)&&t>=0&&e.slice!==void 0?i.readAsArrayBuffer(e.slice(0,t)):i.readAsArrayBuffer(e)})}function Ve(e,t){return Aa(e)&&(e=new Uint8Array(e).buffer),pr(ba(e),t)}function Aa(e){try{return Buffer.isBuffer(e)}catch{return!1}}function ba(e){try{return new DataView(e)}catch{return new mn(e)}}function pr(e,{expanded:t=!1,async:n=!1,includeUnknown:r=!1,domParser:i=void 0}={expanded:!1,async:!1,includeUnknown:!1,domParser:void 0}){let s=!1,o={};const a=[],{fileType:l,fileDataOffset:g,jfifDataOffset:d,tiffHeaderOffset:p,iptcDataOffset:E,xmpChunks:S,iccChunks:A,mpfDataOffset:U,pngHeaderOffset:N,pngTextChunks:M,pngChunkOffsets:G,vp8xChunkOffset:ie,gifHeaderOffset:oe}=_o.parseAppMarkers(e,n);if(Pa(g)){s=!0;const x=os.read(e,g);t?o.file=x:o=T({},o,x)}if(ya(d)){s=!0;const x=gs.read(e,d);t?o.jfif=x:o=T({},o,x)}if(Ca(p)){s=!0;const{tags:x,byteOrder:X}=Hn.read(e,p,r);if(x.Thumbnail&&(o.Thumbnail=x.Thumbnail,delete x.Thumbnail),t?(o.exif=x,Na(o)):o=T({},o,x),x["IPTC-NAA"]&&!ln(E)){const f=at.read(x["IPTC-NAA"].value,0,r);t?o.iptc=f:o=T({},o,f)}if(x.ApplicationNotes&&!dn(S)){const f=en.read(ne(x.ApplicationNotes.value),void 0,i);t?o.xmp=f:(delete f._raw,o=T({},o,f))}if(x.ImageSourceData&&x.PhotoshopSettings){const f=Bu.read(x.PhotoshopSettings.value,r);t?o.photoshop=f:o=T({},o,f)}if(x.ICC_Profile&&!pn(A)){const f=on.read(x.ICC_Profile.value,[{offset:0,length:x.ICC_Profile.value.length,chunkNumber:1,chunksTotal:1}]);t?o.icc=f:o=T({},o,f)}if(x.MakerNote){if(Oa(x)){const f=ic.read(e,p,x.MakerNote.__offset,X,r);t?o.makerNotes=f:o=T({},o,f)}else if(Ra(x)){const f=cc.read(e,p,x.MakerNote.__offset,r);t?o.makerNotes=f:o=T({},o,f)}}x.MakerNote&&delete x.MakerNote.__offset}if(ln(E)){s=!0;const x=at.read(e,E,r);t?o.iptc=x:o=T({},o,x)}if(dn(S)){s=!0;const x=en.read(e,S,i);t?o.xmp=x:(delete x._raw,o=T({},o,x))}if(pn(A)){s=!0;const x=on.read(e,A,n);x instanceof Promise?a.push(x.then(Se)):Se(x)}if(Da(U)){s=!0;const x=qo.read(e,U,r);t?o.mpf=x:o=T({},o,x)}if(Ua(N)){s=!0;const x=gc.read(e,N);t?(o.png=o.png?T({},o.png,x):x,o.pngFile=x):o=T({},o,x)}if(Ma(M)){s=!0;const{readTags:x,readTagsPromise:X}=Ac.read(e,M,n,r);Ie(x),X&&a.push(X.then(f=>f.forEach(Ie)))}if(La(G)){s=!0;const x=Gc.read(e,G);t?o.png=o.png?T({},o.png,x):x:o=T({},o,x)}if(Ba(ie)){s=!0;const x=$c.read(e,ie);t?o.riff=o.riff?T({},o.riff,x):x:o=T({},o,x)}if(Ga(oe)){s=!0;const x=wc.read(e,oe);t?o.gif=o.gif?T({},o.gif,x):x:o=T({},o,x)}const Q=ua.get(o,t);Q&&(t?o.composite=Q:o=T({},o,Q));const se=ia.get(e,o.Thumbnail,p);if(se?(s=!0,o.Thumbnail=se):delete o.Thumbnail,l&&(t?(o.file||(o.file={}),o.file.FileType=l):o.FileType=l,s=!0),!s)throw new dr.MetadataMissingError;if(n)return Promise.all(a).then(()=>o);return o;function Se(x){t?o.icc=x:o=T({},o,x)}function Ie(x){if(t){for(const X of["exif","iptc"]){const f=`__${X}`;x[f]&&(o[X]=o[X]?T({},o.exif,x[f]):x[f],delete x[f])}o.png=o.png?T({},o.png,x):x,o.pngText=o.pngText?T({},o.png,x):x}else o=T({},o,x.__exif?x.__exif:{},x.__iptc?x.__iptc:{},x),delete o.__exif,delete o.__iptc}}function Pa(e){return e!==void 0}function ya(e){return e!==void 0}function Ca(e){return e!==void 0}function Na(e){if(e.exif){if(e.exif.GPSLatitude&&e.exif.GPSLatitudeRef)try{e.gps=e.gps||{},e.gps.Latitude=Re(e.exif.GPSLatitude.value),e.exif.GPSLatitudeRef.value.join("")==="S"&&(e.gps.Latitude=-e.gps.Latitude)}catch{}if(e.exif.GPSLongitude&&e.exif.GPSLongitudeRef)try{e.gps=e.gps||{},e.gps.Longitude=Re(e.exif.GPSLongitude.value),e.exif.GPSLongitudeRef.value.join("")==="W"&&(e.gps.Longitude=-e.gps.Longitude)}catch{}if(e.exif.GPSAltitude&&e.exif.GPSAltitudeRef)try{e.gps=e.gps||{},e.gps.Altitude=e.exif.GPSAltitude.value[0]/e.exif.GPSAltitude.value[1],e.exif.GPSAltitudeRef.value===1&&(e.gps.Altitude=-e.gps.Altitude)}catch{}}}function ln(e){return e!==void 0}function dn(e){return Array.isArray(e)&&e.length>0}function pn(e){return Array.isArray(e)&&e.length>0}function Oa(e){return e.Make&&e.Make.value&&Array.isArray(e.Make.value)&&e.Make.value[0]==="Canon"&&e.MakerNote&&e.MakerNote.__offset}function Ra(e){const t="PENTAX ";return e.MakerNote.value.length>t.length&&ne(e.MakerNote.value.slice(0,t.length))===t&&e.MakerNote.__offset}function Da(e){return e!==void 0}function Ua(e){return e!==void 0}function Ma(e){return e!==void 0}function La(e){return e!==void 0}function Ba(e){return e!==void 0}function Ga(e){return e!==void 0}const ka={class:"max-w-8xl mx-auto"},va={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},Za={class:"space-y-4"},Ha={class:"bg-card rounded-lg p-6"},Xa={key:0,class:"mt-4 space-y-4"},$a={class:"relative"},Ya=["src","alt"],ja={class:"text-sm text-muted-foreground"},za={key:0,class:"bg-card rounded-lg p-6"},Ka={class:"space-y-3"},Wa={key:0,class:"flex justify-between text-sm"},wa={class:"font-mono"},Ja={key:1,class:"flex justify-between text-sm"},qa={key:2,class:"flex justify-between text-sm"},Qa={key:3,class:"flex justify-between text-sm"},Va={key:4,class:"flex justify-between text-sm"},ef={key:5,class:"flex justify-between text-sm"},tf={key:6,class:"flex justify-between text-sm"},nf={class:"lg:col-span-2 space-y-4"},rf={key:0,class:"bg-card rounded-lg p-6"},of={class:"flex gap-2 mb-6 border-b"},sf=["onClick"],uf={key:0,class:"space-y-4"},cf={class:"grid grid-cols-2 gap-4 text-sm"},af={class:"p-4 bg-muted rounded-lg"},ff={class:"space-y-2"},lf={class:"flex justify-between"},df={class:"flex justify-between"},pf={class:"flex justify-between"},mf={class:"p-4 bg-muted rounded-lg"},gf={class:"space-y-2"},xf={class:"flex justify-between"},Ef={class:"flex justify-between"},Sf={class:"flex justify-between"},If={class:"flex justify-between"},hf={class:"flex justify-between"},Tf={class:"p-4 bg-muted rounded-lg"},Ff={class:"space-y-2"},_f={class:"flex justify-between"},Af={class:"flex justify-between"},bf={class:"flex justify-between"},Pf={class:"flex justify-between"},yf={key:1,class:"space-y-4"},Cf={key:0,class:"space-y-4"},Nf={class:"p-4 bg-muted rounded-lg"},Of={class:"space-y-2"},Rf={class:"flex justify-between"},Df={class:"flex justify-between"},Uf={class:"flex justify-between"},Mf={key:1,class:"text-center py-12 text-muted-foreground"},Lf={key:2,class:"space-y-4"},Bf={class:"grid grid-cols-2 gap-4 text-sm"},Gf={class:"p-4 bg-muted rounded-lg"},kf={class:"space-y-2"},vf={class:"flex justify-between"},Zf={class:"flex justify-between"},Hf={class:"flex justify-between"},Xf={class:"flex justify-between"},$f={class:"p-4 bg-muted rounded-lg"},Yf={class:"space-y-2"},jf={class:"flex justify-between"},zf={class:"flex justify-between"},Kf={class:"flex justify-between"},Wf={class:"truncate max-w-xs"},wf={class:"p-4 bg-muted rounded-lg"},Jf=["value"],qf={key:1,class:"bg-card border rounded-lg p-12 text-center"},Qf={key:2,class:"bg-card rounded-lg p-6"},Vf={class:"grid grid-cols-2 gap-3"},el={class:"mt-12 space-y-6"},tl={class:"bg-card rounded-lg p-6"},nl={class:"text-lg font-semibold mb-4 flex items-center gap-2"},rl={class:"bg-card rounded-lg p-6"},il={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},Sl={__name:"exif-viewer",setup(e){const t=Te(null),n=Te(null),r=Te("camera"),i=Te(null),s=[{key:"camera",name:"相机信息"},{key:"gps",name:"GPS 位置"},{key:"other",name:"其他信息"}],o=gr(()=>n.value&&(n.value.GPSLatitude||n.value.GPSLongitude||n.value.GPSAltitude)),a=f=>{const c=f.target.files[0];c&&c.type.startsWith("image/")&&d(c)},l=f=>{f.preventDefault();const c=f.dataTransfer.files[0];c&&c.type.startsWith("image/")&&d(c)},g=()=>{},d=async f=>{const c=new FileReader;c.onload=async P=>{t.value={name:f.name,size:f.size,url:P.target.result};const _=new Image;_.onload=()=>{t.value.width=_.width,t.value.height=_.height},_.src=P.target.result;try{const v=await f.arrayBuffer(),z=da.load(v);z?n.value=z:n.value=null}catch(v){console.error("读取 EXIF 失败:",v),n.value=null}},c.readAsDataURL(f)},p=()=>{t.value=null,n.value=null},E=f=>{if(f===0)return"0 B";const c=1024,P=["B","KB","MB","GB"],_=Math.floor(Math.log(f)/Math.log(c));return parseFloat((f/Math.pow(c,_)).toFixed(2))+" "+P[_]},S=f=>{if(!f)return"-";try{return new Date(f).toLocaleString("zh-CN")}catch{return f}},A=f=>f?f<1?`1/${Math.round(1/f)}s`:`${f}s`:"-",U=f=>{if(!f)return"-";const c=f.Numerator/f.Denominator;return`${c>0?"+":""}${c} EV`},N=f=>f?{0:"未使用",1:"使用",5:"使用，未检测到回闪",7:"使用，检测到回闪",9:"强制开启",16:"强制关闭",24:"自动模式",25:"自动模式，未检测到回闪",29:"自动模式，检测到回闪"}[f]||"未知":"未使用",M=f=>f?{0:"未定义",1:"手动",2:"程序自动",3:"光圈优先",4:"快门优先",5:"创意程序",6:"动作模式",7:"人像模式",8:"风景模式"}[f]||f:"-",G=f=>f?{0:"未知",1:"平均测光",2:"中央重点测光",3:"点测光",4:"多点测光",5:"模式测光",6:"部分测光"}[f]||f:"-",ie=f=>f?{0:"自动",1:"手动",2:"日光",3:"阴天",4:"白炽灯",5:"荧光灯",6:"闪光灯"}[f]||f:"-",oe=f=>f?{1:"正常",2:"翻转",3:"旋转180°",4:"顺时针90°",5:"逆时针90°",6:"顺时针90°并翻转",7:"逆时针90°并翻转",8:"旋转270°"}[f]||f:"正常",Q=(f,c)=>{if(!f||!c)return"-";const P=f.degrees,_=f.minutes,v=f.seconds,z=P+_/60+v/3600,ue=c==="N"?"N":"S";return`${Math.abs(z).toFixed(6)}° ${ue}`},se=(f,c)=>{if(!f||!c)return"-";const P=f.degrees,_=f.minutes,v=f.seconds,z=P+_/60+v/3600,ue=c==="E"?"E":"W";return`${Math.abs(z).toFixed(6)}° ${ue}`},Se=(f,c)=>{if(!f)return"-";const P=f,_=c===0?"海平面":"海平面下";return`${P.toFixed(2)}m ${_}`},Ie=()=>{if(!n.value)return;const f=JSON.stringify(n.value,null,2),c=new Blob([f],{type:"application/json"}),P=URL.createObjectURL(c),_=document.createElement("a");_.href=P,_.download=`exif_${t.value.name}.json`,_.click(),URL.revokeObjectURL(P)},x=()=>{if(!n.value)return;const f=(Z,he="")=>{const He=[];for(const V in Z)Z[V]&&typeof Z[V]=="object"&&!Array.isArray(Z[V])?He.push(...f(Z[V],he+V+".")):He.push({key:he+V,value:Z[V]});return He},c=f(n.value),P=["属性","值"],_=c.map(Z=>[Z.key,Z.value]);let v=P.join(",")+`
`;_.forEach(Z=>{v+=Z.map(he=>`"${he}"`).join(",")+`
`});const z=new Blob([v],{type:"text/csv"}),ue=URL.createObjectURL(z),Ze=document.createElement("a");Ze.href=ue,Ze.download=`exif_${t.value.name}.csv`,Ze.click(),URL.revokeObjectURL(ue)},X=()=>{i.value.click()};return xr({title:"EXIF查看器 - 在线查看图片EXIF信息工具",description:"免费在线EXIF查看工具，查看图片的拍摄参数、GPS位置、相机信息等元数据。",keywords:["exif","exif查看器","图片元数据","拍摄参数","gps信息","在线工具"]}),(f,c)=>{const P=mr;return C(),y("div",ka,[c[54]||(c[54]=u("div",{class:"mt-4 mb-8"},[u("h1",{class:"text-3xl font-bold mb-3"},"EXIF 查看器"),u("p",{class:"text-muted-foreground"},"查看图片的 EXIF 元数据信息，包括拍摄参数、GPS 位置等")],-1)),u("div",va,[u("div",Za,[u("div",Ha,[c[3]||(c[3]=u("h2",{class:"text-lg font-semibold mb-4"},"上传图片",-1)),u("div",{class:"border-2 border-dashed rounded-lg p-8 text-center hover:border-primary transition-colors cursor-pointer",onDrop:l,onDragover:c[0]||(c[0]=Er(()=>{},["prevent"])),onDragleave:g,onClick:X},[u("input",{ref_key:"fileInput",ref:i,type:"file",class:"hidden",accept:"image/*",onChange:a},null,544),R(B(Ft),{class:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),c[1]||(c[1]=u("p",{class:"text-lg font-medium mb-2"},"拖拽图片到这里",-1)),c[2]||(c[2]=u("p",{class:"text-sm text-muted-foreground"},"支持 JPG、TIFF 等格式",-1))],32),t.value?(C(),y("div",Xa,[u("div",$a,[u("img",{src:t.value.url,alt:t.value.name,class:"w-full rounded-lg"},null,8,Ya),u("button",{onClick:p,class:"absolute top-2 right-2 p-2 bg-white rounded-full shadow-md hover:shadow-lg transition-shadow"},[R(B(Fr),{class:"w-4 h-4"})])]),u("div",ja,[u("p",null,"文件名："+F(t.value.name),1),u("p",null,"文件大小："+F(E(t.value.size)),1),u("p",null,"尺寸："+F(t.value.width)+" × "+F(t.value.height)+" px",1)])])):L("",!0)]),n.value?(C(),y("div",za,[c[11]||(c[11]=u("h2",{class:"text-lg font-semibold mb-4"},"快速信息",-1)),u("div",Ka,[n.value.DateTime?(C(),y("div",Wa,[c[4]||(c[4]=u("span",{class:"text-muted-foreground"},"拍摄时间",-1)),u("span",wa,F(S(n.value.DateTime)),1)])):L("",!0),n.value.Make&&n.value.Model?(C(),y("div",Ja,[c[5]||(c[5]=u("span",{class:"text-muted-foreground"},"相机型号",-1)),u("span",null,F(n.value.Make)+" "+F(n.value.Model),1)])):L("",!0),n.value.FocalLength?(C(),y("div",qa,[c[6]||(c[6]=u("span",{class:"text-muted-foreground"},"焦距",-1)),u("span",null,F(n.value.FocalLength)+"mm",1)])):L("",!0),n.value.FNumber?(C(),y("div",Qa,[c[7]||(c[7]=u("span",{class:"text-muted-foreground"},"光圈",-1)),u("span",null,"f/"+F(n.value.FNumber),1)])):L("",!0),n.value.ExposureTime?(C(),y("div",Va,[c[8]||(c[8]=u("span",{class:"text-muted-foreground"},"快门速度",-1)),u("span",null,F(A(n.value.ExposureTime)),1)])):L("",!0),n.value.ISO?(C(),y("div",ef,[c[9]||(c[9]=u("span",{class:"text-muted-foreground"},"ISO",-1)),u("span",null,F(n.value.ISO),1)])):L("",!0),n.value.Flash?(C(),y("div",tf,[c[10]||(c[10]=u("span",{class:"text-muted-foreground"},"闪光灯",-1)),u("span",null,F(N(n.value.Flash)),1)])):L("",!0)])])):L("",!0)]),u("div",nf,[n.value?(C(),y("div",rf,[c[43]||(c[43]=u("h2",{class:"text-lg font-semibold mb-4"},"EXIF 数据详情",-1)),u("div",of,[(C(),y(Sr,null,Ir(s,_=>u("button",{key:_.key,onClick:v=>r.value=_.key,class:Tr(["px-4 py-2 -mb-px border-b-2 transition-colors text-sm",r.value===_.key?"border-primary text-primary":"border-transparent text-muted-foreground hover:text-foreground"])},F(_.name),11,sf)),64))]),r.value==="camera"?(C(),y("div",uf,[u("div",cf,[u("div",af,[c[15]||(c[15]=u("h3",{class:"font-medium mb-3"},"基本信息",-1)),u("div",ff,[u("div",lf,[c[12]||(c[12]=u("span",{class:"text-muted-foreground"},"制造商",-1)),u("span",null,F(n.value.Make||"-"),1)]),u("div",df,[c[13]||(c[13]=u("span",{class:"text-muted-foreground"},"相机型号",-1)),u("span",null,F(n.value.Model||"-"),1)]),u("div",pf,[c[14]||(c[14]=u("span",{class:"text-muted-foreground"},"软件",-1)),u("span",null,F(n.value.Software||"-"),1)])])]),u("div",mf,[c[21]||(c[21]=u("h3",{class:"font-medium mb-3"},"拍摄参数",-1)),u("div",gf,[u("div",xf,[c[16]||(c[16]=u("span",{class:"text-muted-foreground"},"光圈值",-1)),u("span",null,"f/"+F(n.value.FNumber||"-"),1)]),u("div",Ef,[c[17]||(c[17]=u("span",{class:"text-muted-foreground"},"快门速度",-1)),u("span",null,F(A(n.value.ExposureTime)||"-"),1)]),u("div",Sf,[c[18]||(c[18]=u("span",{class:"text-muted-foreground"},"ISO 感光度",-1)),u("span",null,F(n.value.ISO||"-"),1)]),u("div",If,[c[19]||(c[19]=u("span",{class:"text-muted-foreground"},"焦距",-1)),u("span",null,F(n.value.FocalLength?n.value.FocalLength+"mm":"-"),1)]),u("div",hf,[c[20]||(c[20]=u("span",{class:"text-muted-foreground"},"35mm等效焦距",-1)),u("span",null,F(n.value.FocalLengthIn35mmFilm?n.value.FocalLengthIn35mmFilm+"mm":"-"),1)])])]),u("div",Tf,[c[26]||(c[26]=u("h3",{class:"font-medium mb-3"},"曝光信息",-1)),u("div",Ff,[u("div",_f,[c[22]||(c[22]=u("span",{class:"text-muted-foreground"},"曝光模式",-1)),u("span",null,F(M(n.value.ExposureMode)||"-"),1)]),u("div",Af,[c[23]||(c[23]=u("span",{class:"text-muted-foreground"},"测光模式",-1)),u("span",null,F(G(n.value.MeteringMode)||"-"),1)]),u("div",bf,[c[24]||(c[24]=u("span",{class:"text-muted-foreground"},"曝光补偿",-1)),u("span",null,F(n.value.ExposureBiasValue?U(n.value.ExposureBiasValue):"-"),1)]),u("div",Pf,[c[25]||(c[25]=u("span",{class:"text-muted-foreground"},"白平衡",-1)),u("span",null,F(ie(n.value.WhiteBalance)||"-"),1)])])])])])):L("",!0),r.value==="gps"?(C(),y("div",yf,[o.value?(C(),y("div",Cf,[u("div",Nf,[c[30]||(c[30]=u("h3",{class:"font-medium mb-3"},"位置信息",-1)),u("div",Of,[u("div",Rf,[c[27]||(c[27]=u("span",{class:"text-muted-foreground"},"纬度",-1)),u("span",null,F(Q(n.value.GPSLatitude,n.value.GPSLatitudeRef)),1)]),u("div",Df,[c[28]||(c[28]=u("span",{class:"text-muted-foreground"},"经度",-1)),u("span",null,F(se(n.value.GPSLongitude,n.value.GPSLongitudeRef)),1)]),u("div",Uf,[c[29]||(c[29]=u("span",{class:"text-muted-foreground"},"海拔",-1)),u("span",null,F(Se(n.value.GPSAltitude,n.value.GPSAltitudeRef)),1)])])]),c[31]||(c[31]=u("div",{class:"p-4 bg-muted rounded-lg"},[u("h3",{class:"font-medium mb-3"},"地图"),u("div",{class:"aspect-video bg-muted rounded-lg flex items-center justify-center"},[u("p",{class:"text-muted-foreground"},"地图功能需要在线服务支持")])],-1))])):(C(),y("div",Mf,[R(B(_r),{class:"w-12 h-12 mx-auto mb-4"}),c[32]||(c[32]=u("p",null,"该图片不包含 GPS 信息",-1))]))])):L("",!0),r.value==="other"?(C(),y("div",Lf,[u("div",Bf,[u("div",Gf,[c[37]||(c[37]=u("h3",{class:"font-medium mb-3"},"图像信息",-1)),u("div",kf,[u("div",vf,[c[33]||(c[33]=u("span",{class:"text-muted-foreground"},"方向",-1)),u("span",null,F(oe(n.value.Orientation)),1)]),u("div",Zf,[c[34]||(c[34]=u("span",{class:"text-muted-foreground"},"分辨率单位",-1)),u("span",null,F(n.value.ResolutionUnit||"-"),1)]),u("div",Hf,[c[35]||(c[35]=u("span",{class:"text-muted-foreground"},"X分辨率",-1)),u("span",null,F(n.value.XResolution||"-"),1)]),u("div",Xf,[c[36]||(c[36]=u("span",{class:"text-muted-foreground"},"Y分辨率",-1)),u("span",null,F(n.value.YResolution||"-"),1)])])]),u("div",$f,[c[41]||(c[41]=u("h3",{class:"font-medium mb-3"},"版权信息",-1)),u("div",Yf,[u("div",jf,[c[38]||(c[38]=u("span",{class:"text-muted-foreground"},"版权",-1)),u("span",null,F(n.value.Copyright||"-"),1)]),u("div",zf,[c[39]||(c[39]=u("span",{class:"text-muted-foreground"},"艺术家",-1)),u("span",null,F(n.value.Artist||"-"),1)]),u("div",Kf,[c[40]||(c[40]=u("span",{class:"text-muted-foreground"},"注释",-1)),u("span",Wf,F(n.value.ImageDescription||"-"),1)])])]),u("div",wf,[c[42]||(c[42]=u("h3",{class:"font-medium mb-3"},"原始数据",-1)),u("textarea",{value:JSON.stringify(n.value,null,2),readonly:"",rows:"10",class:"w-full px-3 py-2 border rounded-md bg-background font-mono text-xs resize-none"},null,8,Jf)])])])):L("",!0)])):(C(),y("div",qf,[R(B(Ft),{class:"w-16 h-16 mx-auto text-muted-foreground mb-4"}),c[44]||(c[44]=u("p",{class:"text-muted-foreground"},"上传图片查看 EXIF 信息",-1))])),n.value?(C(),y("div",Qf,[c[47]||(c[47]=u("h2",{class:"text-lg font-semibold mb-4"},"导出",-1)),u("div",Vf,[u("button",{onClick:Ie,class:"px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90 transition-colors flex items-center justify-center gap-2"},[R(B(Ar),{class:"w-4 h-4"}),c[45]||(c[45]=Xe(" 导出 JSON ",-1))]),u("button",{onClick:x,class:"px-4 py-2 border border-primary text-primary rounded-md hover:bg-primary/5 transition-colors flex items-center justify-center gap-2"},[R(B(br),{class:"w-4 h-4"}),c[46]||(c[46]=Xe(" 导出 CSV ",-1))])])])):L("",!0)])]),u("div",el,[u("div",tl,[u("h3",nl,[R(B(_t),{class:"w-5 h-5 text-primary"}),c[48]||(c[48]=Xe(" 关于 EXIF ",-1))]),c[49]||(c[49]=hr('<div class="space-y-4 text-sm text-muted-foreground"><div><h4 class="font-medium text-foreground mb-2">什么是 EXIF？</h4><p>EXIF（Exchangeable Image File Format）是一种可交换图像文件格式，是专门为数码相机照片设定的，可以记录数码照片的属性信息和拍摄数据。</p></div><div><h4 class="font-medium text-foreground mb-2">包含信息</h4><ul class="list-disc list-inside space-y-1 ml-4"><li>拍摄时间、日期</li><li>相机制造商和型号</li><li>拍摄参数（光圈、快门、ISO等）</li><li>GPS 位置信息（经纬度、海拔）</li><li>图像分辨率和方向</li><li>版权和艺术家信息</li></ul></div><div><h4 class="font-medium text-foreground mb-2">注意事项</h4><ul class="list-disc list-inside space-y-1 ml-4"><li>不是所有图片都包含 EXIF 数据</li><li>JPG 和 TIFF 格式通常支持 EXIF</li><li>PNG 格式通常不包含相机 EXIF</li><li>社交媒体通常会删除 EXIF 信息</li></ul></div></div>',1))]),u("div",rl,[c[53]||(c[53]=u("h3",{class:"text-lg font-semibold mb-4"},"相关工具",-1)),u("div",il,[R(P,{to:"/tools/image-metadata",class:"flex items-center gap-3 p-3 bg-muted rounded-lg hover:bg-muted/80 transition-colors group"},{default:$e(()=>[R(B(_t),{class:"w-5 h-5 text-primary"}),c[50]||(c[50]=u("div",null,[u("p",{class:"font-medium group-hover:text-primary"},"图片元数据"),u("p",{class:"text-xs text-muted-foreground"},"查看图片元数据")],-1)),R(B(Ye),{class:"w-4 h-4 ml-auto text-muted-foreground group-hover:text-primary"})]),_:1}),R(P,{to:"/tools/image-watermark",class:"flex items-center gap-3 p-3 bg-muted rounded-lg hover:bg-muted/80 transition-colors group"},{default:$e(()=>[R(B(Pr),{class:"w-5 h-5 text-primary"}),c[51]||(c[51]=u("div",null,[u("p",{class:"font-medium group-hover:text-primary"},"图片水印"),u("p",{class:"text-xs text-muted-foreground"},"添加文字/图片水印")],-1)),R(B(Ye),{class:"w-4 h-4 ml-auto text-muted-foreground group-hover:text-primary"})]),_:1}),R(P,{to:"/tools/qrcode-generate",class:"flex items-center gap-3 p-3 bg-muted rounded-lg hover:bg-muted/80 transition-colors group"},{default:$e(()=>[R(B(yr),{class:"w-5 h-5 text-primary"}),c[52]||(c[52]=u("div",null,[u("p",{class:"font-medium group-hover:text-primary"},"二维码生成器"),u("p",{class:"text-xs text-muted-foreground"},"在线生成二维码")],-1)),R(B(Ye),{class:"w-4 h-4 ml-auto text-muted-foreground group-hover:text-primary"})]),_:1})])])])])}}};export{Sl as default};
